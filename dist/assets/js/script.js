"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?e(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],e):e(t.bootstrap={},t.jQuery)}(void 0,function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function a(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function l(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},yt))}}function c(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function u(t,e){if(1!==t.nodeType)return[];var n=getComputedStyle(t,null);return e?n[e]:n}function h(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function f(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=u(t),n=e.overflow,i=e.overflowX;return/(auto|scroll|overlay)/.test(n+e.overflowY+i)?t:f(h(t))}function d(t){return 11===t?Ct:10===t?St:Ct||St}function g(t){if(!t)return document.documentElement;for(var e=d(10)?document.body:null,n=t.offsetParent;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===u(n,"position")?g(n):n:t?t.ownerDocument.documentElement:document.documentElement}function p(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||g(t.firstElementChild)===t)}function m(t){return null!==t.parentNode?m(t.parentNode):t}function _(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s=o.commonAncestorContainer;if(t!==s&&e!==s||i.contains(r))return p(s)?s:g(s);var a=m(t);return a.host?_(a.host,e):_(t,m(e).host)}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var r=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||r)[n]}return t[n]}function E(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=v(e,"top"),r=v(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}function T(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function y(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],d(10)?n["offset"+t]+i["margin"+("Height"===t?"Top":"Left")]+i["margin"+("Height"===t?"Bottom":"Right")]:0)}function A(){var t=document.body,e=document.documentElement,n=d(10)&&getComputedStyle(e);return{height:y("Height",t,e,n),width:y("Width",t,e,n)}}function I(t){return wt({},t,{right:t.left+t.width,bottom:t.top+t.height})}function b(t){var e={};try{if(d(10)){e=t.getBoundingClientRect();var n=v(t,"top"),i=v(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?A():{},s=o.width||t.clientWidth||r.right-r.left,a=o.height||t.clientHeight||r.bottom-r.top,l=t.offsetWidth-s,c=t.offsetHeight-a;if(l||c){var h=u(t);l-=T(h,"x"),c-=T(h,"y"),r.width-=l,r.height-=c}return I(r)}function C(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=d(10),r="HTML"===e.nodeName,o=b(t),s=b(e),a=f(t),l=u(e),c=parseFloat(l.borderTopWidth,10),h=parseFloat(l.borderLeftWidth,10);n&&"HTML"===e.nodeName&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var g=I({top:o.top-s.top-c,left:o.left-s.left-h,width:o.width,height:o.height});if(g.marginTop=0,g.marginLeft=0,!i&&r){var p=parseFloat(l.marginTop,10),m=parseFloat(l.marginLeft,10);g.top-=c-p,g.bottom-=c-p,g.left-=h-m,g.right-=h-m,g.marginTop=p,g.marginLeft=m}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(g=E(g,e)),g}function S(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=C(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:v(n),a=e?0:v(n,"left");return I({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}function O(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===u(t,"position")||O(h(t)))}function D(t){if(!t||!t.parentElement||d())return document.documentElement;for(var e=t.parentElement;e&&"none"===u(e,"transform");)e=e.parentElement;return e||document.documentElement}function N(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?D(t):_(t,e);if("viewport"===i)o=S(s,r);else{var a=void 0;"scrollParent"===i?(a=f(h(e)),"BODY"===a.nodeName&&(a=t.ownerDocument.documentElement)):a="window"===i?t.ownerDocument.documentElement:i;var l=C(a,s,r);if("HTML"!==a.nodeName||O(s))o=l;else{var c=A(),u=c.height,d=c.width;o.top+=l.top-l.marginTop,o.bottom=u+l.top,o.left+=l.left-l.marginLeft,o.right=d+l.left}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function w(t){return t.width*t.height}function L(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=N(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(function(t){return wt({key:t},a[t],{area:w(a[t])})}).sort(function(t,e){return e.area-t.area}),c=l.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,h=t.split("-")[1];return u+(h?"-"+h:"")}function P(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C(n,i?D(e):_(e,n),i)}function R(t){var e=getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),i=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function H(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function k(t,e,n){n=n.split("-")[0];var i=R(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[s]=e[s]+e[l]/2-i[l]/2,r[a]=n===a?e[a]-i[c]:e[H(a)],r}function W(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function F(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=W(t,function(t){return t[e]===n});return t.indexOf(i)}function M(t,e,n){return(void 0===n?t:t.slice(0,F(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&c(n)&&(e.offsets.popper=I(e.offsets.popper),e.offsets.reference=I(e.offsets.reference),e=n(e,t))}),e}function U(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=P(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=L(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=k(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=M(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function V(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function j(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function x(){return this.state.isDestroyed=!0,V(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[j("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function G(t){var e=t.ownerDocument;return e?e.defaultView:window}function B(t,e,n,i){var r="BODY"===t.nodeName,o=r?t.ownerDocument.defaultView:t;o.addEventListener(e,n,{passive:!0}),r||B(f(o.parentNode),e,n,i),i.push(o)}function K(t,e,n,i){n.updateBound=i,G(t).addEventListener("resize",n.updateBound,{passive:!0});var r=f(t);return B(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function q(){this.state.eventsEnabled||(this.state=K(this.reference,this.options,this.state,this.scheduleUpdate))}function Q(t,e){return G(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function Y(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=Q(this.reference,this.state))}function X(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function z(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&X(e[n])&&(i="px"),t.style[n]=e[n]+i})}function J(t,e){Object.keys(e).forEach(function(n){!1!==e[n]?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function Z(t){return z(t.instance.popper,t.styles),J(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&z(t.arrowElement,t.arrowStyles),t}function $(t,e,n,i,r){var o=P(r,e,t,n.positionFixed),s=L(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),z(e,{position:n.positionFixed?"fixed":"absolute"}),n}function tt(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=W(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,a=g(t.instance.popper),l=b(a),c={position:r.position},u={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},h="bottom"===n?"top":"bottom",f="right"===i?"left":"right",d=j("transform"),p=void 0,m=void 0;if(m="bottom"===h?-l.height+u.bottom:u.top,p="right"===f?-l.width+u.right:u.left,s&&d)c[d]="translate3d("+p+"px, "+m+"px, 0)",c[h]=0,c[f]=0,c.willChange="transform";else{var _="bottom"===h?-1:1,v="right"===f?-1:1;c[h]=m*_,c[f]=p*v,c.willChange=h+", "+f}var E={"x-placement":t.placement};return t.attributes=wt({},E,t.attributes),t.styles=wt({},c,t.styles),t.arrowStyles=wt({},t.offsets.arrow,t.arrowStyles),t}function et(t,e,n){var i=W(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}function nt(t,e){var n;if(!et(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,l=-1!==["left","right"].indexOf(r),c=l?"height":"width",h=l?"Top":"Left",f=h.toLowerCase(),d=l?"left":"top",g=l?"bottom":"right",p=R(i)[c];a[g]-p<s[f]&&(t.offsets.popper[f]-=s[f]-(a[g]-p)),a[f]+p>s[g]&&(t.offsets.popper[f]+=a[f]+p-s[g]),t.offsets.popper=I(t.offsets.popper);var m=a[f]+a[c]/2-p/2,_=u(t.instance.popper),v=parseFloat(_["margin"+h],10),E=parseFloat(_["border"+h+"Width"],10),T=m-t.offsets.popper[f]-v-E;return T=Math.max(Math.min(s[c]-p,T),0),t.arrowElement=i,t.offsets.arrow=(n={},Nt(n,f,Math.round(T)),Nt(n,d,""),n),t}function it(t){return"end"===t?"start":"start"===t?"end":t}function rt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Pt.indexOf(t),i=Pt.slice(n+1).concat(Pt.slice(0,n));return e?i.reverse():i}function ot(t,e){if(V(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=N(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=H(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case Rt.FLIP:s=[i,r];break;case Rt.CLOCKWISE:s=rt(i);break;case Rt.COUNTERCLOCKWISE:s=rt(i,!0);break;default:s=e.behavior}return s.forEach(function(a,l){if(i!==a||s.length===l+1)return t;i=t.placement.split("-")[0],r=H(i);var c=t.offsets.popper,u=t.offsets.reference,h=Math.floor,f="left"===i&&h(c.right)>h(u.left)||"right"===i&&h(c.left)<h(u.right)||"top"===i&&h(c.bottom)>h(u.top)||"bottom"===i&&h(c.top)<h(u.bottom),d=h(c.left)<h(n.left),g=h(c.right)>h(n.right),p=h(c.top)<h(n.top),m=h(c.bottom)>h(n.bottom),_="left"===i&&d||"right"===i&&g||"top"===i&&p||"bottom"===i&&m,v=-1!==["top","bottom"].indexOf(i),E=!!e.flipVariations&&(v&&"start"===o&&d||v&&"end"===o&&g||!v&&"start"===o&&p||!v&&"end"===o&&m);(f||_||E)&&(t.flipped=!0,(f||_)&&(i=s[l+1]),E&&(o=it(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=wt({},t.offsets.popper,k(t.instance.popper,t.offsets.reference,t.placement)),t=M(t.instance.modifiers,t,"flip"))}),t}function st(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[a])&&(t.offsets.popper[l]=o(i[a])),t}function at(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return I(a)[e]/100*o}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}function lt(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map(function(t){return t.trim()}),a=s.indexOf(W(s,function(t){return-1!==t.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return c=c.map(function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)},[]).map(function(t){return at(t,r,e,n)})}),c.forEach(function(t,e){t.forEach(function(n,i){X(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}function ct(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],l=void 0;return l=X(+n)?[+n,0]:lt(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t}function ut(t,e){var n=e.boundariesElement||g(t.instance.popper);t.instance.reference===n&&(n=g(n));var i=j("transform"),r=t.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var l=N(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=s,r[i]=a,e.boundaries=l;var c=e.priority,u=t.offsets.popper,h={primary:function(t){var n=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(u[t],l[t])),Nt({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=u[n];return u[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(u[n],l[t]-("right"===t?u.width:u.height))),Nt({},n,i)}};return c.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=wt({},u,h[e](t))}),t.offsets.popper=u,t}function ht(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:Nt({},l,o[l]),end:Nt({},l,o[l]+o[c]-s[c])};t.offsets.popper=wt({},s,u[i])}return t}function ft(t){if(!et(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=W(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function dt(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=H(e),t.offsets.popper=I(r),t}e=e&&e.hasOwnProperty("default")?e.default:e;for(var gt=function(t){function e(t){return{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function n(){return{bindType:r,delegateType:r,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function i(e){var n=this,i=!1;return t(this).one(o.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||o.triggerTransitionEnd(n)},e),this}var r="transitionend",o={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");e&&"#"!==e||(e=t.getAttribute("href")||"");try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var n=t(e).css("transition-duration");return parseFloat(n)?(n=n.split(",")[0],1e3*parseFloat(n)):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(r)},supportsTransitionEnd:function(){return Boolean(r)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,n,i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var s=i[r],a=n[r],l=a&&o.isElement(a)?"element":e(a);if(!new RegExp(s).test(l))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+l+'" but expected type "'+s+'".')}}};return function(){t.fn.emulateTransitionEnd=i,t.event.special[o.TRANSITION_END]=n()}(),o}(e),pt=function(t){var e="alert",n=t.fn[e],r={DISMISS:'[data-dismiss="alert"]'},o={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},s={ALERT:"alert",FADE:"fade",SHOW:"show"},a=function(){function e(t){this._element=t}var n=e.prototype;return n.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},n.dispose=function(){t.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(e){var n=gt.getSelectorFromElement(e),i=!1;return n&&(i=document.querySelector(n)),i||(i=t(e).closest("."+s.ALERT)[0]),i},n._triggerCloseEvent=function(e){var n=t.Event(o.CLOSE);return t(e).trigger(n),n},n._removeElement=function(e){var n=this;if(t(e).removeClass(s.SHOW),!t(e).hasClass(s.FADE))return void this._destroyElement(e);var i=gt.getTransitionDurationFromElement(e);t(e).one(gt.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(i)},n._destroyElement=function(e){t(e).detach().trigger(o.CLOSED).remove()},e._jQueryInterface=function(n){return this.each(function(){var i=t(this),r=i.data("bs.alert");r||(r=new e(this),i.data("bs.alert",r)),"close"===n&&r[n](this)})},e._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},i(e,null,[{key:"VERSION",get:function(){return"4.1.2"}}]),e}();return t(document).on(o.CLICK_DATA_API,r.DISMISS,a._handleDismiss(new a)),t.fn[e]=a._jQueryInterface,t.fn[e].Constructor=a,t.fn[e].noConflict=function(){return t.fn[e]=n,a._jQueryInterface},a}(e),mt=function(t){var e="button",n=t.fn[e],r={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},o={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},s={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},a=function(){function e(t){this._element=t}var n=e.prototype;return n.toggle=function(){var e=!0,n=!0,i=t(this._element).closest(o.DATA_TOGGLE)[0];if(i){var s=this._element.querySelector(o.INPUT);if(s){if("radio"===s.type)if(s.checked&&this._element.classList.contains(r.ACTIVE))e=!1;else{var a=i.querySelector(o.ACTIVE);a&&t(a).removeClass(r.ACTIVE)}if(e){if(s.hasAttribute("disabled")||i.hasAttribute("disabled")||s.classList.contains("disabled")||i.classList.contains("disabled"))return;s.checked=!this._element.classList.contains(r.ACTIVE),t(s).trigger("change")}s.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(r.ACTIVE)),e&&t(this._element).toggleClass(r.ACTIVE)},n.dispose=function(){t.removeData(this._element,"bs.button"),this._element=null},e._jQueryInterface=function(n){return this.each(function(){var i=t(this).data("bs.button");i||(i=new e(this),t(this).data("bs.button",i)),"toggle"===n&&i[n]()})},i(e,null,[{key:"VERSION",get:function(){return"4.1.2"}}]),e}();return t(document).on(s.CLICK_DATA_API,o.DATA_TOGGLE_CARROT,function(e){e.preventDefault();var n=e.target;t(n).hasClass(r.BUTTON)||(n=t(n).closest(o.BUTTON)),a._jQueryInterface.call(t(n),"toggle")}).on(s.FOCUS_BLUR_DATA_API,o.DATA_TOGGLE_CARROT,function(e){var n=t(e.target).closest(o.BUTTON)[0];t(n).toggleClass(r.FOCUS,/^focus(in)?$/.test(e.type))}),t.fn[e]=a._jQueryInterface,t.fn[e].Constructor=a,t.fn[e].noConflict=function(){return t.fn[e]=n,a._jQueryInterface},a}(e),_t=(function(t){var e="carousel",n="bs.carousel",r="."+n,s=t.fn[e],a={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},l={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},c={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},u={SLIDE:"slide"+r,SLID:"slid"+r,KEYDOWN:"keydown"+r,MOUSEENTER:"mouseenter"+r,MOUSELEAVE:"mouseleave"+r,TOUCHEND:"touchend"+r,LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},h={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},f={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},d=function(){function s(e,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=t(e)[0],this._indicatorsElement=this._element.querySelector(f.INDICATORS),this._addEventListeners()}var d=s.prototype;return d.next=function(){this._isSliding||this._slide(c.NEXT)},d.nextWhenVisible=function(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},d.prev=function(){this._isSliding||this._slide(c.PREV)},d.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(f.NEXT_PREV)&&(gt.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},d.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},d.to=function(e){var n=this;this._activeElement=this._element.querySelector(f.ACTIVE_ITEM);var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0)){if(this._isSliding)return void t(this._element).one(u.SLID,function(){return n.to(e)});if(i===e)return this.pause(),void this.cycle();var r=e>i?c.NEXT:c.PREV;this._slide(r,this._items[e])}},d.dispose=function(){t(this._element).off(r),t.removeData(this._element,n),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},d._getConfig=function(t){return t=o({},a,t),gt.typeCheckConfig(e,t,l),t},d._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(u.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&(t(this._element).on(u.MOUSEENTER,function(t){return e.pause(t)}).on(u.MOUSELEAVE,function(t){return e.cycle(t)}),"ontouchstart"in document.documentElement&&t(this._element).on(u.TOUCHEND,function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval)}))},d._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},d._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(f.ITEM)):[],this._items.indexOf(t)},d._getItemByDirection=function(t,e){var n=t===c.NEXT,i=t===c.PREV,r=this._getItemIndex(e),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return e;var s=t===c.PREV?-1:1,a=(r+s)%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},d._triggerSlideEvent=function(e,n){var i=this._getItemIndex(e),r=this._getItemIndex(this._element.querySelector(f.ACTIVE_ITEM)),o=t.Event(u.SLIDE,{relatedTarget:e,direction:n,from:r,to:i});return t(this._element).trigger(o),o},d._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(f.ACTIVE));t(n).removeClass(h.ACTIVE);var i=this._indicatorsElement.children[this._getItemIndex(e)];i&&t(i).addClass(h.ACTIVE)}},d._slide=function(e,n){var i,r,o,s=this,a=this._element.querySelector(f.ACTIVE_ITEM),l=this._getItemIndex(a),d=n||a&&this._getItemByDirection(e,a),g=this._getItemIndex(d),p=Boolean(this._interval);if(e===c.NEXT?(i=h.LEFT,r=h.NEXT,o=c.LEFT):(i=h.RIGHT,r=h.PREV,o=c.RIGHT),d&&t(d).hasClass(h.ACTIVE))return void(this._isSliding=!1);if(!this._triggerSlideEvent(d,o).isDefaultPrevented()&&a&&d){this._isSliding=!0,p&&this.pause(),this._setActiveIndicatorElement(d);var m=t.Event(u.SLID,{relatedTarget:d,direction:o,from:l,to:g});if(t(this._element).hasClass(h.SLIDE)){t(d).addClass(r),gt.reflow(d),t(a).addClass(i),t(d).addClass(i);var _=gt.getTransitionDurationFromElement(a);t(a).one(gt.TRANSITION_END,function(){t(d).removeClass(i+" "+r).addClass(h.ACTIVE),t(a).removeClass(h.ACTIVE+" "+r+" "+i),s._isSliding=!1,setTimeout(function(){return t(s._element).trigger(m)},0)}).emulateTransitionEnd(_)}else t(a).removeClass(h.ACTIVE),t(d).addClass(h.ACTIVE),this._isSliding=!1,t(this._element).trigger(m);p&&this.cycle()}},s._jQueryInterface=function(e){return this.each(function(){var i=t(this).data(n),r=o({},a,t(this).data());"object"===(void 0===e?"undefined":_typeof(e))&&(r=o({},r,e));var l="string"==typeof e?e:r.slide;if(i||(i=new s(this,r),t(this).data(n,i)),"number"==typeof e)i.to(e);else if("string"==typeof l){if(void 0===i[l])throw new TypeError('No method named "'+l+'"');i[l]()}else r.interval&&(i.pause(),i.cycle())})},s._dataApiClickHandler=function(e){var i=gt.getSelectorFromElement(this);if(i){var r=t(i)[0];if(r&&t(r).hasClass(h.CAROUSEL)){var a=o({},t(r).data(),t(this).data()),l=this.getAttribute("data-slide-to");l&&(a.interval=!1),s._jQueryInterface.call(t(r),a),l&&t(r).data(n).to(l),e.preventDefault()}}},i(s,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return a}}]),s}();return t(document).on(u.CLICK_DATA_API,f.DATA_SLIDE,d._dataApiClickHandler),t(window).on(u.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll(f.DATA_RIDE)),n=0,i=e.length;n<i;n++){var r=t(e[n]);d._jQueryInterface.call(r,r.data())}}),t.fn[e]=d._jQueryInterface,t.fn[e].Constructor=d,t.fn[e].noConflict=function(){return t.fn[e]=s,d._jQueryInterface},d}(e)),vt=function(t){var e="collapse",n="bs.collapse",r=t.fn[e],s={toggle:!0,parent:""},a={toggle:"boolean",parent:"(string|element)"},l={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},c={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},u={WIDTH:"width",HEIGHT:"height"},h={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},f=function(){function r(e,n){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(n),this._triggerArray=t.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var i=[].slice.call(document.querySelectorAll(h.DATA_TOGGLE)),r=0,o=i.length;r<o;r++){var s=i[r],a=gt.getSelectorFromElement(s),l=[].slice.call(document.querySelectorAll(a)).filter(function(t){return t===e});null!==a&&l.length>0&&(this._selector=a,this._triggerArray.push(s))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var f=r.prototype;return f.toggle=function(){t(this._element).hasClass(c.SHOW)?this.hide():this.show()},f.show=function(){var e=this;if(!this._isTransitioning&&!t(this._element).hasClass(c.SHOW)){var i,o;if(this._parent&&(i=[].slice.call(this._parent.querySelectorAll(h.ACTIVES)).filter(function(t){return t.getAttribute("data-parent")===e._config.parent}),0===i.length&&(i=null)),!(i&&(o=t(i).not(this._selector).data(n))&&o._isTransitioning)){var s=t.Event(l.SHOW);if(t(this._element).trigger(s),!s.isDefaultPrevented()){i&&(r._jQueryInterface.call(t(i).not(this._selector),"hide"),o||t(i).data(n,null));var a=this._getDimension();t(this._element).removeClass(c.COLLAPSE).addClass(c.COLLAPSING),this._element.style[a]=0,this._triggerArray.length&&t(this._triggerArray).removeClass(c.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var u=function(){t(e._element).removeClass(c.COLLAPSING).addClass(c.COLLAPSE).addClass(c.SHOW),e._element.style[a]="",e.setTransitioning(!1),t(e._element).trigger(l.SHOWN)},f=a[0].toUpperCase()+a.slice(1),d="scroll"+f,g=gt.getTransitionDurationFromElement(this._element);t(this._element).one(gt.TRANSITION_END,u).emulateTransitionEnd(g),this._element.style[a]=this._element[d]+"px"}}}},f.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass(c.SHOW)){var n=t.Event(l.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){
var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",gt.reflow(this._element),t(this._element).addClass(c.COLLAPSING).removeClass(c.COLLAPSE).removeClass(c.SHOW);var r=this._triggerArray.length;if(r>0)for(var o=0;o<r;o++){var s=this._triggerArray[o],a=gt.getSelectorFromElement(s);if(null!==a){var u=t([].slice.call(document.querySelectorAll(a)));u.hasClass(c.SHOW)||t(s).addClass(c.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0);var h=function(){e.setTransitioning(!1),t(e._element).removeClass(c.COLLAPSING).addClass(c.COLLAPSE).trigger(l.HIDDEN)};this._element.style[i]="";var f=gt.getTransitionDurationFromElement(this._element);t(this._element).one(gt.TRANSITION_END,h).emulateTransitionEnd(f)}}},f.setTransitioning=function(t){this._isTransitioning=t},f.dispose=function(){t.removeData(this._element,n),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},f._getConfig=function(t){return t=o({},s,t),t.toggle=Boolean(t.toggle),gt.typeCheckConfig(e,t,a),t},f._getDimension=function(){return t(this._element).hasClass(u.WIDTH)?u.WIDTH:u.HEIGHT},f._getParent=function(){var e=this,n=null;gt.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(n.querySelectorAll(i));return t(o).each(function(t,n){e._addAriaAndCollapsedClass(r._getTargetFromElement(n),[n])}),n},f._addAriaAndCollapsedClass=function(e,n){if(e){var i=t(e).hasClass(c.SHOW);n.length&&t(n).toggleClass(c.COLLAPSED,!i).attr("aria-expanded",i)}},r._getTargetFromElement=function(t){var e=gt.getSelectorFromElement(t);return e?document.querySelector(e):null},r._jQueryInterface=function(e){return this.each(function(){var i=t(this),a=i.data(n),l=o({},s,i.data(),"object"===(void 0===e?"undefined":_typeof(e))&&e?e:{});if(!a&&l.toggle&&/show|hide/.test(e)&&(l.toggle=!1),a||(a=new r(this,l),i.data(n,a)),"string"==typeof e){if(void 0===a[e])throw new TypeError('No method named "'+e+'"');a[e]()}})},i(r,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return s}}]),r}();return t(document).on(l.CLICK_DATA_API,h.DATA_TOGGLE,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var i=t(this),r=gt.getSelectorFromElement(this),o=[].slice.call(document.querySelectorAll(r));t(o).each(function(){var e=t(this),r=e.data(n),o=r?"toggle":i.data();f._jQueryInterface.call(e,o)})}),t.fn[e]=f._jQueryInterface,t.fn[e].Constructor=f,t.fn[e].noConflict=function(){return t.fn[e]=r,f._jQueryInterface},f}(e),Et="undefined"!=typeof window&&"undefined"!=typeof document,Tt=["Edge","Trident","Firefox"],yt=0,At=0;At<Tt.length;At+=1)if(Et&&navigator.userAgent.indexOf(Tt[At])>=0){yt=1;break}var It=Et&&window.Promise,bt=It?a:l,Ct=Et&&!(!window.MSInputMethodContext||!document.documentMode),St=Et&&/MSIE 10/.test(navigator.userAgent),Ot=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Dt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Nt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Pt=Lt.slice(3),Rt={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Ht={shift:{order:100,enabled:!0,fn:ht},offset:{order:200,enabled:!0,fn:ct,offset:0},preventOverflow:{order:300,enabled:!0,fn:ut,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:st},arrow:{order:500,enabled:!0,fn:nt,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:ot,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:dt},hide:{order:800,enabled:!0,fn:ft},computeStyle:{order:850,enabled:!0,fn:tt,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:Z,onLoad:$,gpuAcceleration:void 0}},kt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Ht},Wt=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ot(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=bt(this.update.bind(this)),this.options=wt({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(wt({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=wt({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return wt({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&c(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return Dt(t,[{key:"update",value:function(){return U.call(this)}},{key:"destroy",value:function(){return x.call(this)}},{key:"enableEventListeners",value:function(){return q.call(this)}},{key:"disableEventListeners",value:function(){return Y.call(this)}}]),t}();Wt.Utils=("undefined"!=typeof window?window:global).PopperUtils,Wt.placements=Lt,Wt.Defaults=kt;var Ft=function(t){var e="dropdown",n="bs.dropdown",r="."+n,s=t.fn[e],a=new RegExp("38|40|27"),l={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK:"click"+r,CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},c={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},u={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},h={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},f={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},d={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},g=function(){function s(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var g=s.prototype;return g.toggle=function(){if(!this._element.disabled&&!t(this._element).hasClass(c.DISABLED)){var e=s._getParentFromElement(this._element),n=t(this._menu).hasClass(c.SHOW);if(s._clearMenus(),!n){var i={relatedTarget:this._element},r=t.Event(l.SHOW,i);if(t(e).trigger(r),!r.isDefaultPrevented()){if(!this._inNavbar){if(void 0===Wt)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var o=this._element;"parent"===this._config.reference?o=e:gt.isElement(this._config.reference)&&(o=this._config.reference,void 0!==this._config.reference.jquery&&(o=this._config.reference[0])),"scrollParent"!==this._config.boundary&&t(e).addClass(c.POSITION_STATIC),this._popper=new Wt(o,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===t(e).closest(u.NAVBAR_NAV).length&&t(document.body).children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass(c.SHOW),t(e).toggleClass(c.SHOW).trigger(t.Event(l.SHOWN,i))}}}},g.dispose=function(){t.removeData(this._element,n),t(this._element).off(r),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},g.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},g._addEventListeners=function(){var e=this;t(this._element).on(l.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},g._getConfig=function(n){return n=o({},this.constructor.Default,t(this._element).data(),n),gt.typeCheckConfig(e,n,this.constructor.DefaultType),n},g._getMenuElement=function(){if(!this._menu){var t=s._getParentFromElement(this._element);t&&(this._menu=t.querySelector(u.MENU))}return this._menu},g._getPlacement=function(){var e=t(this._element.parentNode),n=h.BOTTOM;return e.hasClass(c.DROPUP)?(n=h.TOP,t(this._menu).hasClass(c.MENURIGHT)&&(n=h.TOPEND)):e.hasClass(c.DROPRIGHT)?n=h.RIGHT:e.hasClass(c.DROPLEFT)?n=h.LEFT:t(this._menu).hasClass(c.MENURIGHT)&&(n=h.BOTTOMEND),n},g._detectNavbar=function(){return t(this._element).closest(".navbar").length>0},g._getPopperConfig=function(){var t=this,e={};"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=o({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset;var n={placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),n},s._jQueryInterface=function(e){return this.each(function(){var i=t(this).data(n),r="object"===(void 0===e?"undefined":_typeof(e))?e:null;if(i||(i=new s(this,r),t(this).data(n,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},s._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var i=[].slice.call(document.querySelectorAll(u.DATA_TOGGLE)),r=0,o=i.length;r<o;r++){var a=s._getParentFromElement(i[r]),h=t(i[r]).data(n),f={relatedTarget:i[r]};if(e&&"click"===e.type&&(f.clickEvent=e),h){var d=h._menu;if(t(a).hasClass(c.SHOW)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&t.contains(a,e.target))){var g=t.Event(l.HIDE,f);t(a).trigger(g),g.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),i[r].setAttribute("aria-expanded","false"),t(d).removeClass(c.SHOW),t(a).removeClass(c.SHOW).trigger(t.Event(l.HIDDEN,f)))}}}},s._getParentFromElement=function(t){var e,n=gt.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},s._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||t(e.target).closest(u.MENU).length)):a.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!t(this).hasClass(c.DISABLED))){var n=s._getParentFromElement(this),i=t(n).hasClass(c.SHOW);if(!i&&(27!==e.which||32!==e.which)||i&&(27===e.which||32===e.which)){if(27===e.which){var r=n.querySelector(u.DATA_TOGGLE);t(r).trigger("focus")}return void t(this).trigger("click")}var o=[].slice.call(n.querySelectorAll(u.VISIBLE_ITEMS));if(0!==o.length){var l=o.indexOf(e.target);38===e.which&&l>0&&l--,40===e.which&&l<o.length-1&&l++,l<0&&(l=0),o[l].focus()}}},i(s,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return f}},{key:"DefaultType",get:function(){return d}}]),s}();return t(document).on(l.KEYDOWN_DATA_API,u.DATA_TOGGLE,g._dataApiKeydownHandler).on(l.KEYDOWN_DATA_API,u.MENU,g._dataApiKeydownHandler).on(l.CLICK_DATA_API+" "+l.KEYUP_DATA_API,g._clearMenus).on(l.CLICK_DATA_API,u.DATA_TOGGLE,function(e){e.preventDefault(),e.stopPropagation(),g._jQueryInterface.call(t(this),"toggle")}).on(l.CLICK_DATA_API,u.FORM_CHILD,function(t){t.stopPropagation()}),t.fn[e]=g._jQueryInterface,t.fn[e].Constructor=g,t.fn[e].noConflict=function(){return t.fn[e]=s,g._jQueryInterface},g}(e),Mt=function(t){var e="modal",n=".bs.modal",r=t.fn[e],s={backdrop:!0,keyboard:!0,focus:!0,show:!0},a={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},l={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},c={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},u={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},h=function(){function r(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(u.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var h=r.prototype;return h.toggle=function(t){return this._isShown?this.hide():this.show(t)},h.show=function(e){var n=this;if(!this._isTransitioning&&!this._isShown){t(this._element).hasClass(c.FADE)&&(this._isTransitioning=!0);var i=t.Event(l.SHOW,{relatedTarget:e});t(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),t(document.body).addClass(c.OPEN),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(l.CLICK_DISMISS,u.DATA_DISMISS,function(t){return n.hide(t)}),t(this._dialog).on(l.MOUSEDOWN_DISMISS,function(){t(n._element).one(l.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))}},h.hide=function(e){var n=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var i=t.Event(l.HIDE);if(t(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=t(this._element).hasClass(c.FADE);if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(l.FOCUSIN),t(this._element).removeClass(c.SHOW),t(this._element).off(l.CLICK_DISMISS),t(this._dialog).off(l.MOUSEDOWN_DISMISS),r){var o=gt.getTransitionDurationFromElement(this._element);t(this._element).one(gt.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(o)}else this._hideModal()}}},h.dispose=function(){t.removeData(this._element,"bs.modal"),t(window,document,this._element,this._backdrop).off(n),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},h.handleUpdate=function(){this._adjustDialog()},h._getConfig=function(t){return t=o({},s,t),gt.typeCheckConfig(e,t,a),t},h._showElement=function(e){var n=this,i=t(this._element).hasClass(c.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&gt.reflow(this._element),t(this._element).addClass(c.SHOW),this._config.focus&&this._enforceFocus();var r=t.Event(l.SHOWN,{relatedTarget:e}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(r)};if(i){var s=gt.getTransitionDurationFromElement(this._element);t(this._dialog).one(gt.TRANSITION_END,o).emulateTransitionEnd(s)}else o()},h._enforceFocus=function(){var e=this;t(document).off(l.FOCUSIN).on(l.FOCUSIN,function(n){document!==n.target&&e._element!==n.target&&0===t(e._element).has(n.target).length&&e._element.focus()})},h._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(l.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||t(this._element).off(l.KEYDOWN_DISMISS)},h._setResizeEvent=function(){var e=this;this._isShown?t(window).on(l.RESIZE,function(t){return e.handleUpdate(t)}):t(window).off(l.RESIZE)},h._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(c.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(l.HIDDEN)})},h._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},h._showBackdrop=function(e){var n=this,i=t(this._element).hasClass(c.FADE)?c.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=c.BACKDROP,i&&this._backdrop.classList.add(i),t(this._backdrop).appendTo(document.body),t(this._element).on(l.CLICK_DISMISS,function(t){if(n._ignoreBackdropClick)return void(n._ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),i&&gt.reflow(this._backdrop),t(this._backdrop).addClass(c.SHOW),!e)return;if(!i)return void e();var r=gt.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(gt.TRANSITION_END,e).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(c.SHOW);var o=function(){n._removeBackdrop(),e&&e()};if(t(this._element).hasClass(c.FADE)){var s=gt.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(gt.TRANSITION_END,o).emulateTransitionEnd(s)}else o()}else e&&e()},h._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},h._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},h._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},h._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(u.FIXED_CONTENT)),i=[].slice.call(document.querySelectorAll(u.STICKY_CONTENT));t(n).each(function(n,i){var r=i.style.paddingRight,o=t(i).css("padding-right");t(i).data("padding-right",r).css("padding-right",parseFloat(o)+e._scrollbarWidth+"px")}),t(i).each(function(n,i){var r=i.style.marginRight,o=t(i).css("margin-right");t(i).data("margin-right",r).css("margin-right",parseFloat(o)-e._scrollbarWidth+"px")});var r=document.body.style.paddingRight,o=t(document.body).css("padding-right");t(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}},h._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(u.FIXED_CONTENT));t(e).each(function(e,n){var i=t(n).data("padding-right");t(n).removeData("padding-right"),n.style.paddingRight=i||""});var n=[].slice.call(document.querySelectorAll(""+u.STICKY_CONTENT));t(n).each(function(e,n){var i=t(n).data("margin-right");void 0!==i&&t(n).css("margin-right",i).removeData("margin-right")});var i=t(document.body).data("padding-right");t(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},h._getScrollbarWidth=function(){var t=document.createElement("div");t.className=c.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},r._jQueryInterface=function(e,n){return this.each(function(){var i=t(this).data("bs.modal"),a=o({},s,t(this).data(),"object"===(void 0===e?"undefined":_typeof(e))&&e?e:{});if(i||(i=new r(this,a),t(this).data("bs.modal",i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e](n)}else a.show&&i.show(n)})},i(r,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return s}}]),r}();return t(document).on(l.CLICK_DATA_API,u.DATA_TOGGLE,function(e){var n,i=this,r=gt.getSelectorFromElement(this);r&&(n=document.querySelector(r));var s=t(n).data("bs.modal")?"toggle":o({},t(n).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var a=t(n).one(l.SHOW,function(e){e.isDefaultPrevented()||a.one(l.HIDDEN,function(){t(i).is(":visible")&&i.focus()})});h._jQueryInterface.call(t(n),s,this)}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=r,h._jQueryInterface},h}(e),Ut=function(t){var e="tooltip",n=".bs.tooltip",r=t.fn[e],s=new RegExp("(^|\\s)bs-tooltip\\S+","g"),a={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},l={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},c={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},u={SHOW:"show",OUT:"out"},h={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,INSERTED:"inserted"+n,CLICK:"click"+n,FOCUSIN:"focusin"+n,FOCUSOUT:"focusout"+n,MOUSEENTER:"mouseenter"+n,MOUSELEAVE:"mouseleave"+n},f={FADE:"fade",SHOW:"show"},d={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},g={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},p=function(){function r(t,e){if(void 0===Wt)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var p=r.prototype;return p.enable=function(){this._isEnabled=!0},p.disable=function(){this._isEnabled=!1},p.toggleEnabled=function(){this._isEnabled=!this._isEnabled},p.toggle=function(e){if(this._isEnabled)if(e){var n=this.constructor.DATA_KEY,i=t(e.currentTarget).data(n);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(t(this.getTipElement()).hasClass(f.SHOW))return void this._leave(null,this);this._enter(null,this)}},p.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},p.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var n=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(n);var i=t.contains(this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!i)return;var r=this.getTipElement(),o=gt.getUID(this.constructor.NAME);r.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&t(r).addClass(f.FADE);var s="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,a=this._getAttachment(s);this.addAttachmentClass(a);var l=!1===this.config.container?document.body:t(document).find(this.config.container);t(r).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(r).appendTo(l),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Wt(this.element,r,{placement:a,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:d.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){e._handlePopperPlacementChange(t)}}),t(r).addClass(f.SHOW),"ontouchstart"in document.documentElement&&t(document.body).children().on("mouseover",null,t.noop);var c=function(){e.config.animation&&e._fixTransition();var n=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),n===u.OUT&&e._leave(null,e)};if(t(this.tip).hasClass(f.FADE)){var h=gt.getTransitionDurationFromElement(this.tip);t(this.tip).one(gt.TRANSITION_END,c).emulateTransitionEnd(h)}else c()}},p.hide=function(e){var n=this,i=this.getTipElement(),r=t.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==u.SHOW&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};if(t(this.element).trigger(r),!r.isDefaultPrevented()){if(t(i).removeClass(f.SHOW),"ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),this._activeTrigger[g.CLICK]=!1,this._activeTrigger[g.FOCUS]=!1,this._activeTrigger[g.HOVER]=!1,t(this.tip).hasClass(f.FADE)){var s=gt.getTransitionDurationFromElement(i);t(i).one(gt.TRANSITION_END,o).emulateTransitionEnd(s)}else o();this._hoverState=""}},p.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},p.isWithContent=function(){return Boolean(this.getTitle())},p.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-tooltip-"+e)},p.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},p.setContent=function(){var e=this.getTipElement();this.setElementContent(t(e.querySelectorAll(d.TOOLTIP_INNER)),this.getTitle()),t(e).removeClass(f.FADE+" "+f.SHOW)},p.setElementContent=function(e,n){var i=this.config.html;"object"===(void 0===n?"undefined":_typeof(n))&&(n.nodeType||n.jquery)?i?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[i?"html":"text"](n)},p.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},p._getAttachment=function(t){return l[t.toUpperCase()]},p._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(n!==g.MANUAL){var i=n===g.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=n===g.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(i,e.config.selector,function(t){return e._enter(t)}).on(r,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=o({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},p._fixTitle=function(){var t=_typeof(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},p._enter=function(e,n){var i=this.constructor.DATA_KEY;return n=n||t(e.currentTarget).data(i),n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusin"===e.type?g.FOCUS:g.HOVER]=!0),t(n.getTipElement()).hasClass(f.SHOW)||n._hoverState===u.SHOW?void(n._hoverState=u.SHOW):(clearTimeout(n._timeout),n._hoverState=u.SHOW,n.config.delay&&n.config.delay.show?void(n._timeout=setTimeout(function(){n._hoverState===u.SHOW&&n.show()},n.config.delay.show)):void n.show())},p._leave=function(e,n){var i=this.constructor.DATA_KEY;if(n=n||t(e.currentTarget).data(i),n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusout"===e.type?g.FOCUS:g.HOVER]=!1),!n._isWithActiveTrigger()){if(clearTimeout(n._timeout),n._hoverState=u.OUT,!n.config.delay||!n.config.delay.hide)return void n.hide();n._timeout=setTimeout(function(){n._hoverState===u.OUT&&n.hide()},n.config.delay.hide)}},p._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},p._getConfig=function(n){return n=o({},this.constructor.Default,t(this.element).data(),"object"===(void 0===n?"undefined":_typeof(n))&&n?n:{}),"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),gt.typeCheckConfig(e,n,this.constructor.DefaultType),n},p._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},p._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(s);null!==n&&n.length&&e.removeClass(n.join(""))},p._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},p._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass(f.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},r._jQueryInterface=function(e){return this.each(function(){var n=t(this).data("bs.tooltip"),i="object"===(void 0===e?"undefined":_typeof(e))&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new r(this,i),t(this).data("bs.tooltip",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},i(r,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return c}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return h}},{key:"EVENT_KEY",get:function(){return n}},{key:"DefaultType",get:function(){return a}}]),r}();return t.fn[e]=p._jQueryInterface,t.fn[e].Constructor=p,t.fn[e].noConflict=function(){return t.fn[e]=r,p._jQueryInterface},p}(e),Vt=function(t){var e="popover",n=".bs.popover",r=t.fn[e],a=new RegExp("(^|\\s)bs-popover\\S+","g"),l=o({},Ut.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),c=o({},Ut.DefaultType,{content:"(string|element|function)"}),u={FADE:"fade",SHOW:"show"},h={TITLE:".popover-header",CONTENT:".popover-body"},f={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,INSERTED:"inserted"+n,CLICK:"click"+n,FOCUSIN:"focusin"+n,FOCUSOUT:"focusout"+n,MOUSEENTER:"mouseenter"+n,MOUSELEAVE:"mouseleave"+n},d=function(r){function o(){return r.apply(this,arguments)||this}s(o,r);var d=o.prototype;return d.isWithContent=function(){return this.getTitle()||this._getContent()},d.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-popover-"+e)},d.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},d.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(h.TITLE),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(e.find(h.CONTENT),n),
e.removeClass(u.FADE+" "+u.SHOW)},d._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},d._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(a);null!==n&&n.length>0&&e.removeClass(n.join(""))},o._jQueryInterface=function(e){return this.each(function(){var n=t(this).data("bs.popover"),i="object"===(void 0===e?"undefined":_typeof(e))?e:null;if((n||!/destroy|hide/.test(e))&&(n||(n=new o(this,i),t(this).data("bs.popover",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},i(o,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return l}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return n}},{key:"DefaultType",get:function(){return c}}]),o}(Ut);return t.fn[e]=d._jQueryInterface,t.fn[e].Constructor=d,t.fn[e].noConflict=function(){return t.fn[e]=r,d._jQueryInterface},d}(e),jt=function(t){var e="scrollspy",n=t.fn[e],r={offset:10,method:"auto",target:""},s={offset:"number",method:"string",target:"(string|element)"},a={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},l={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},c={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},u={OFFSET:"offset",POSITION:"position"},h=function(){function n(e,n){var i=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=this._config.target+" "+c.NAV_LINKS+","+this._config.target+" "+c.LIST_ITEMS+","+this._config.target+" "+c.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(a.SCROLL,function(t){return i._process(t)}),this.refresh(),this._process()}var h=n.prototype;return h.refresh=function(){var e=this,n=this._scrollElement===this._scrollElement.window?u.OFFSET:u.POSITION,i="auto"===this._config.method?n:this._config.method,r=i===u.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(e){var n,o=gt.getSelectorFromElement(e);if(o&&(n=document.querySelector(o)),n){var s=n.getBoundingClientRect();if(s.width||s.height)return[t(n)[i]().top+r,o]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},h.dispose=function(){t.removeData(this._element,"bs.scrollspy"),t(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},h._getConfig=function(n){if(n=o({},r,"object"===(void 0===n?"undefined":_typeof(n))&&n?n:{}),"string"!=typeof n.target){var i=t(n.target).attr("id");i||(i=gt.getUID(e),t(n.target).attr("id",i)),n.target="#"+i}return gt.typeCheckConfig(e,n,s),n},h._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},h._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},h._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},h._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];return void(this._activeTarget!==i&&this._activate(i))}if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length,o=r;o--;){this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&(void 0===this._offsets[o+1]||t<this._offsets[o+1])&&this._activate(this._targets[o])}},h._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",");n=n.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var i=t([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass(l.DROPDOWN_ITEM)?(i.closest(c.DROPDOWN).find(c.DROPDOWN_TOGGLE).addClass(l.ACTIVE),i.addClass(l.ACTIVE)):(i.addClass(l.ACTIVE),i.parents(c.NAV_LIST_GROUP).prev(c.NAV_LINKS+", "+c.LIST_ITEMS).addClass(l.ACTIVE),i.parents(c.NAV_LIST_GROUP).prev(c.NAV_ITEMS).children(c.NAV_LINKS).addClass(l.ACTIVE)),t(this._scrollElement).trigger(a.ACTIVATE,{relatedTarget:e})},h._clear=function(){var e=[].slice.call(document.querySelectorAll(this._selector));t(e).filter(c.ACTIVE).removeClass(l.ACTIVE)},n._jQueryInterface=function(e){return this.each(function(){var i=t(this).data("bs.scrollspy"),r="object"===(void 0===e?"undefined":_typeof(e))&&e;if(i||(i=new n(this,r),t(this).data("bs.scrollspy",i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},i(n,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return r}}]),n}();return t(window).on(a.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll(c.DATA_SPY)),n=e.length,i=n;i--;){var r=t(e[i]);h._jQueryInterface.call(r,r.data())}}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=n,h._jQueryInterface},h}(e),xt=function(t){var e=t.fn.tab,n={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},r={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},o={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},s=function(){function e(t){this._element=t}var s=e.prototype;return s.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(r.ACTIVE)||t(this._element).hasClass(r.DISABLED))){var i,s,a=t(this._element).closest(o.NAV_LIST_GROUP)[0],l=gt.getSelectorFromElement(this._element);if(a){var c="UL"===a.nodeName?o.ACTIVE_UL:o.ACTIVE;s=t.makeArray(t(a).find(c)),s=s[s.length-1]}var u=t.Event(n.HIDE,{relatedTarget:this._element}),h=t.Event(n.SHOW,{relatedTarget:s});if(s&&t(s).trigger(u),t(this._element).trigger(h),!h.isDefaultPrevented()&&!u.isDefaultPrevented()){l&&(i=document.querySelector(l)),this._activate(this._element,a);var f=function(){var i=t.Event(n.HIDDEN,{relatedTarget:e._element}),r=t.Event(n.SHOWN,{relatedTarget:s});t(s).trigger(i),t(e._element).trigger(r)};i?this._activate(i,i.parentNode,f):f()}}},s.dispose=function(){t.removeData(this._element,"bs.tab"),this._element=null},s._activate=function(e,n,i){var s,a=this;s="UL"===n.nodeName?t(n).find(o.ACTIVE_UL):t(n).children(o.ACTIVE);var l=s[0],c=i&&l&&t(l).hasClass(r.FADE),u=function(){return a._transitionComplete(e,l,i)};if(l&&c){var h=gt.getTransitionDurationFromElement(l);t(l).one(gt.TRANSITION_END,u).emulateTransitionEnd(h)}else u()},s._transitionComplete=function(e,n,i){if(n){t(n).removeClass(r.SHOW+" "+r.ACTIVE);var s=t(n.parentNode).find(o.DROPDOWN_ACTIVE_CHILD)[0];s&&t(s).removeClass(r.ACTIVE),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(t(e).addClass(r.ACTIVE),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),gt.reflow(e),t(e).addClass(r.SHOW),e.parentNode&&t(e.parentNode).hasClass(r.DROPDOWN_MENU)){var a=t(e).closest(o.DROPDOWN)[0];if(a){var l=[].slice.call(a.querySelectorAll(o.DROPDOWN_TOGGLE));t(l).addClass(r.ACTIVE)}e.setAttribute("aria-expanded",!0)}i&&i()},e._jQueryInterface=function(n){return this.each(function(){var i=t(this),r=i.data("bs.tab");if(r||(r=new e(this),i.data("bs.tab",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}})},i(e,null,[{key:"VERSION",get:function(){return"4.1.2"}}]),e}();return t(document).on(n.CLICK_DATA_API,o.DATA_TOGGLE,function(e){e.preventDefault(),s._jQueryInterface.call(t(this),"show")}),t.fn.tab=s._jQueryInterface,t.fn.tab.Constructor=s,t.fn.tab.noConflict=function(){return t.fn.tab=e,s._jQueryInterface},s}(e);!function(t){if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(e),t.Util=gt,t.Alert=pt,t.Button=mt,t.Carousel=_t,t.Collapse=vt,t.Dropdown=Ft,t.Modal=Mt,t.Popover=Vt,t.Scrollspy=jt,t.Tab=xt,t.Tooltip=Ut,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?e(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],e):e(t.bootstrap={},t.jQuery,t.Popper)}(void 0,function(t,e,n){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){o(t,e,n[e])})}return t}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var l=function(t){function e(t){return{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function n(){return{bindType:r,delegateType:r,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function i(e){var n=this,i=!1;return t(this).one(o.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||o.triggerTransitionEnd(n)},e),this}var r="transitionend",o={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");e&&"#"!==e||(e=t.getAttribute("href")||"");try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var n=t(e).css("transition-duration");return parseFloat(n)?(n=n.split(",")[0],1e3*parseFloat(n)):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(r)},supportsTransitionEnd:function(){return Boolean(r)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,n,i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var s=i[r],a=n[r],l=a&&o.isElement(a)?"element":e(a);if(!new RegExp(s).test(l))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+l+'" but expected type "'+s+'".')}}};return function(){t.fn.emulateTransitionEnd=i,t.event.special[o.TRANSITION_END]=n()}(),o}(e),c=function(t){var e="alert",n=t.fn[e],i={DISMISS:'[data-dismiss="alert"]'},o={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},s={ALERT:"alert",FADE:"fade",SHOW:"show"},a=function(){function e(t){this._element=t}var n=e.prototype;return n.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},n.dispose=function(){t.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(e){var n=l.getSelectorFromElement(e),i=!1;return n&&(i=document.querySelector(n)),i||(i=t(e).closest("."+s.ALERT)[0]),i},n._triggerCloseEvent=function(e){var n=t.Event(o.CLOSE);return t(e).trigger(n),n},n._removeElement=function(e){var n=this;if(t(e).removeClass(s.SHOW),!t(e).hasClass(s.FADE))return void this._destroyElement(e);var i=l.getTransitionDurationFromElement(e);t(e).one(l.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(i)},n._destroyElement=function(e){t(e).detach().trigger(o.CLOSED).remove()},e._jQueryInterface=function(n){return this.each(function(){var i=t(this),r=i.data("bs.alert");r||(r=new e(this),i.data("bs.alert",r)),"close"===n&&r[n](this)})},e._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(e,null,[{key:"VERSION",get:function(){return"4.1.2"}}]),e}();return t(document).on(o.CLICK_DATA_API,i.DISMISS,a._handleDismiss(new a)),t.fn[e]=a._jQueryInterface,t.fn[e].Constructor=a,t.fn[e].noConflict=function(){return t.fn[e]=n,a._jQueryInterface},a}(e),u=function(t){var e="button",n=t.fn[e],i={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},o={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},s={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},a=function(){function e(t){this._element=t}var n=e.prototype;return n.toggle=function(){var e=!0,n=!0,r=t(this._element).closest(o.DATA_TOGGLE)[0];if(r){var s=this._element.querySelector(o.INPUT);if(s){if("radio"===s.type)if(s.checked&&this._element.classList.contains(i.ACTIVE))e=!1;else{var a=r.querySelector(o.ACTIVE);a&&t(a).removeClass(i.ACTIVE)}if(e){if(s.hasAttribute("disabled")||r.hasAttribute("disabled")||s.classList.contains("disabled")||r.classList.contains("disabled"))return;s.checked=!this._element.classList.contains(i.ACTIVE),t(s).trigger("change")}s.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(i.ACTIVE)),e&&t(this._element).toggleClass(i.ACTIVE)},n.dispose=function(){t.removeData(this._element,"bs.button"),this._element=null},e._jQueryInterface=function(n){return this.each(function(){var i=t(this).data("bs.button");i||(i=new e(this),t(this).data("bs.button",i)),"toggle"===n&&i[n]()})},r(e,null,[{key:"VERSION",get:function(){return"4.1.2"}}]),e}();return t(document).on(s.CLICK_DATA_API,o.DATA_TOGGLE_CARROT,function(e){e.preventDefault();var n=e.target;t(n).hasClass(i.BUTTON)||(n=t(n).closest(o.BUTTON)),a._jQueryInterface.call(t(n),"toggle")}).on(s.FOCUS_BLUR_DATA_API,o.DATA_TOGGLE_CARROT,function(e){var n=t(e.target).closest(o.BUTTON)[0];t(n).toggleClass(i.FOCUS,/^focus(in)?$/.test(e.type))}),t.fn[e]=a._jQueryInterface,t.fn[e].Constructor=a,t.fn[e].noConflict=function(){return t.fn[e]=n,a._jQueryInterface},a}(e),h=function(t){var e="carousel",n="bs.carousel",i="."+n,o=t.fn[e],a={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},c={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},u={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},h={SLIDE:"slide"+i,SLID:"slid"+i,KEYDOWN:"keydown"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i,TOUCHEND:"touchend"+i,LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},f={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},d={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},g=function(){function o(e,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=t(e)[0],this._indicatorsElement=this._element.querySelector(d.INDICATORS),this._addEventListeners()}var g=o.prototype;return g.next=function(){this._isSliding||this._slide(u.NEXT)},g.nextWhenVisible=function(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},g.prev=function(){this._isSliding||this._slide(u.PREV)},g.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(d.NEXT_PREV)&&(l.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},g.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},g.to=function(e){var n=this;this._activeElement=this._element.querySelector(d.ACTIVE_ITEM);var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0)){if(this._isSliding)return void t(this._element).one(h.SLID,function(){return n.to(e)});if(i===e)return this.pause(),void this.cycle();var r=e>i?u.NEXT:u.PREV;this._slide(r,this._items[e])}},g.dispose=function(){t(this._element).off(i),t.removeData(this._element,n),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},g._getConfig=function(t){return t=s({},a,t),l.typeCheckConfig(e,t,c),t},g._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(h.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&(t(this._element).on(h.MOUSEENTER,function(t){return e.pause(t)}).on(h.MOUSELEAVE,function(t){return e.cycle(t)}),"ontouchstart"in document.documentElement&&t(this._element).on(h.TOUCHEND,function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval)}))},g._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},g._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(d.ITEM)):[],this._items.indexOf(t)},g._getItemByDirection=function(t,e){var n=t===u.NEXT,i=t===u.PREV,r=this._getItemIndex(e),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return e;var s=t===u.PREV?-1:1,a=(r+s)%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},g._triggerSlideEvent=function(e,n){var i=this._getItemIndex(e),r=this._getItemIndex(this._element.querySelector(d.ACTIVE_ITEM)),o=t.Event(h.SLIDE,{relatedTarget:e,direction:n,from:r,to:i});return t(this._element).trigger(o),o},g._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(d.ACTIVE));t(n).removeClass(f.ACTIVE);var i=this._indicatorsElement.children[this._getItemIndex(e)];i&&t(i).addClass(f.ACTIVE)}},g._slide=function(e,n){var i,r,o,s=this,a=this._element.querySelector(d.ACTIVE_ITEM),c=this._getItemIndex(a),g=n||a&&this._getItemByDirection(e,a),p=this._getItemIndex(g),m=Boolean(this._interval);if(e===u.NEXT?(i=f.LEFT,r=f.NEXT,o=u.LEFT):(i=f.RIGHT,r=f.PREV,o=u.RIGHT),g&&t(g).hasClass(f.ACTIVE))return void(this._isSliding=!1);if(!this._triggerSlideEvent(g,o).isDefaultPrevented()&&a&&g){this._isSliding=!0,m&&this.pause(),this._setActiveIndicatorElement(g);var _=t.Event(h.SLID,{relatedTarget:g,direction:o,from:c,to:p});if(t(this._element).hasClass(f.SLIDE)){t(g).addClass(r),l.reflow(g),t(a).addClass(i),t(g).addClass(i);var v=l.getTransitionDurationFromElement(a);t(a).one(l.TRANSITION_END,function(){t(g).removeClass(i+" "+r).addClass(f.ACTIVE),t(a).removeClass(f.ACTIVE+" "+r+" "+i),s._isSliding=!1,setTimeout(function(){return t(s._element).trigger(_)},0)}).emulateTransitionEnd(v)}else t(a).removeClass(f.ACTIVE),t(g).addClass(f.ACTIVE),this._isSliding=!1,t(this._element).trigger(_);m&&this.cycle()}},o._jQueryInterface=function(e){return this.each(function(){var i=t(this).data(n),r=s({},a,t(this).data());"object"===(void 0===e?"undefined":_typeof(e))&&(r=s({},r,e));var l="string"==typeof e?e:r.slide;if(i||(i=new o(this,r),t(this).data(n,i)),"number"==typeof e)i.to(e);else if("string"==typeof l){if(void 0===i[l])throw new TypeError('No method named "'+l+'"');i[l]()}else r.interval&&(i.pause(),i.cycle())})},o._dataApiClickHandler=function(e){var i=l.getSelectorFromElement(this);if(i){var r=t(i)[0];if(r&&t(r).hasClass(f.CAROUSEL)){var a=s({},t(r).data(),t(this).data()),c=this.getAttribute("data-slide-to");c&&(a.interval=!1),o._jQueryInterface.call(t(r),a),c&&t(r).data(n).to(c),e.preventDefault()}}},r(o,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return a}}]),o}();return t(document).on(h.CLICK_DATA_API,d.DATA_SLIDE,g._dataApiClickHandler),t(window).on(h.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll(d.DATA_RIDE)),n=0,i=e.length;n<i;n++){var r=t(e[n]);g._jQueryInterface.call(r,r.data())}}),t.fn[e]=g._jQueryInterface,t.fn[e].Constructor=g,t.fn[e].noConflict=function(){return t.fn[e]=o,g._jQueryInterface},g}(e),f=function(t){var e="collapse",n="bs.collapse",i=t.fn[e],o={toggle:!0,parent:""},a={toggle:"boolean",parent:"(string|element)"},c={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},u={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},h={WIDTH:"width",HEIGHT:"height"},f={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},d=function(){function i(e,n){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(n),this._triggerArray=t.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var i=[].slice.call(document.querySelectorAll(f.DATA_TOGGLE)),r=0,o=i.length;r<o;r++){var s=i[r],a=l.getSelectorFromElement(s),c=[].slice.call(document.querySelectorAll(a)).filter(function(t){return t===e});null!==a&&c.length>0&&(this._selector=a,this._triggerArray.push(s))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var d=i.prototype;return d.toggle=function(){t(this._element).hasClass(u.SHOW)?this.hide():this.show()},d.show=function(){var e=this;if(!this._isTransitioning&&!t(this._element).hasClass(u.SHOW)){var r,o;if(this._parent&&(r=[].slice.call(this._parent.querySelectorAll(f.ACTIVES)).filter(function(t){return t.getAttribute("data-parent")===e._config.parent}),0===r.length&&(r=null)),!(r&&(o=t(r).not(this._selector).data(n))&&o._isTransitioning)){var s=t.Event(c.SHOW);if(t(this._element).trigger(s),!s.isDefaultPrevented()){r&&(i._jQueryInterface.call(t(r).not(this._selector),"hide"),o||t(r).data(n,null));var a=this._getDimension();t(this._element).removeClass(u.COLLAPSE).addClass(u.COLLAPSING),this._element.style[a]=0,this._triggerArray.length&&t(this._triggerArray).removeClass(u.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var h=function(){t(e._element).removeClass(u.COLLAPSING).addClass(u.COLLAPSE).addClass(u.SHOW),e._element.style[a]="",e.setTransitioning(!1),t(e._element).trigger(c.SHOWN)},d=a[0].toUpperCase()+a.slice(1),g="scroll"+d,p=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,h).emulateTransitionEnd(p),this._element.style[a]=this._element[g]+"px"}}}},d.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass(u.SHOW)){var n=t.Event(c.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",l.reflow(this._element),t(this._element).addClass(u.COLLAPSING).removeClass(u.COLLAPSE).removeClass(u.SHOW);var r=this._triggerArray.length;if(r>0)for(var o=0;o<r;o++){var s=this._triggerArray[o],a=l.getSelectorFromElement(s);if(null!==a){var h=t([].slice.call(document.querySelectorAll(a)));h.hasClass(u.SHOW)||t(s).addClass(u.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0);var f=function(){e.setTransitioning(!1),t(e._element).removeClass(u.COLLAPSING).addClass(u.COLLAPSE).trigger(c.HIDDEN)};this._element.style[i]="";var d=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,f).emulateTransitionEnd(d)}}},d.setTransitioning=function(t){this._isTransitioning=t},d.dispose=function(){t.removeData(this._element,n),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},d._getConfig=function(t){return t=s({},o,t),t.toggle=Boolean(t.toggle),l.typeCheckConfig(e,t,a),t},d._getDimension=function(){return t(this._element).hasClass(h.WIDTH)?h.WIDTH:h.HEIGHT},d._getParent=function(){var e=this,n=null;l.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(n.querySelectorAll(r));return t(o).each(function(t,n){e._addAriaAndCollapsedClass(i._getTargetFromElement(n),[n])}),n},d._addAriaAndCollapsedClass=function(e,n){if(e){var i=t(e).hasClass(u.SHOW);n.length&&t(n).toggleClass(u.COLLAPSED,!i).attr("aria-expanded",i)}},i._getTargetFromElement=function(t){var e=l.getSelectorFromElement(t);return e?document.querySelector(e):null},i._jQueryInterface=function(e){return this.each(function(){var r=t(this),a=r.data(n),l=s({},o,r.data(),"object"===(void 0===e?"undefined":_typeof(e))&&e?e:{});if(!a&&l.toggle&&/show|hide/.test(e)&&(l.toggle=!1),a||(a=new i(this,l),r.data(n,a)),"string"==typeof e){if(void 0===a[e])throw new TypeError('No method named "'+e+'"');a[e]()}})},r(i,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return o}}]),i}();return t(document).on(c.CLICK_DATA_API,f.DATA_TOGGLE,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var i=t(this),r=l.getSelectorFromElement(this),o=[].slice.call(document.querySelectorAll(r));t(o).each(function(){var e=t(this),r=e.data(n),o=r?"toggle":i.data();d._jQueryInterface.call(e,o)})}),t.fn[e]=d._jQueryInterface,t.fn[e].Constructor=d,t.fn[e].noConflict=function(){return t.fn[e]=i,d._jQueryInterface},d}(e),d=function(t){var e="dropdown",i="bs.dropdown",o="."+i,a=t.fn[e],c=new RegExp("38|40|27"),u={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,CLICK:"click"+o,CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},h={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},f={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},d={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},g={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},p={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},m=function(){function a(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var m=a.prototype;return m.toggle=function(){if(!this._element.disabled&&!t(this._element).hasClass(h.DISABLED)){var e=a._getParentFromElement(this._element),i=t(this._menu).hasClass(h.SHOW);if(a._clearMenus(),!i){var r={relatedTarget:this._element},o=t.Event(u.SHOW,r);if(t(e).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar){if(void 0===n)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var s=this._element;"parent"===this._config.reference?s=e:l.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&t(e).addClass(h.POSITION_STATIC),this._popper=new n(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===t(e).closest(f.NAVBAR_NAV).length&&t(document.body).children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass(h.SHOW),t(e).toggleClass(h.SHOW).trigger(t.Event(u.SHOWN,r))}}}},m.dispose=function(){t.removeData(this._element,i),t(this._element).off(o),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},m.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},m._addEventListeners=function(){var e=this;t(this._element).on(u.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},m._getConfig=function(n){return n=s({},this.constructor.Default,t(this._element).data(),n),l.typeCheckConfig(e,n,this.constructor.DefaultType),n},m._getMenuElement=function(){if(!this._menu){var t=a._getParentFromElement(this._element);t&&(this._menu=t.querySelector(f.MENU))}return this._menu},m._getPlacement=function(){var e=t(this._element.parentNode),n=d.BOTTOM;return e.hasClass(h.DROPUP)?(n=d.TOP,t(this._menu).hasClass(h.MENURIGHT)&&(n=d.TOPEND)):e.hasClass(h.DROPRIGHT)?n=d.RIGHT:e.hasClass(h.DROPLEFT)?n=d.LEFT:t(this._menu).hasClass(h.MENURIGHT)&&(n=d.BOTTOMEND),n},m._detectNavbar=function(){return t(this._element).closest(".navbar").length>0},m._getPopperConfig=function(){var t=this,e={};"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset;var n={placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),n},a._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(i),r="object"===(void 0===e?"undefined":_typeof(e))?e:null;if(n||(n=new a(this,r),t(this).data(i,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},a._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var n=[].slice.call(document.querySelectorAll(f.DATA_TOGGLE)),r=0,o=n.length;r<o;r++){var s=a._getParentFromElement(n[r]),l=t(n[r]).data(i),c={relatedTarget:n[r]};if(e&&"click"===e.type&&(c.clickEvent=e),l){var d=l._menu;if(t(s).hasClass(h.SHOW)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&t.contains(s,e.target))){var g=t.Event(u.HIDE,c);t(s).trigger(g),g.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),n[r].setAttribute("aria-expanded","false"),t(d).removeClass(h.SHOW),t(s).removeClass(h.SHOW).trigger(t.Event(u.HIDDEN,c)))}}}},a._getParentFromElement=function(t){var e,n=l.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},a._dataApiKeydownHandler=function(e){
if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||t(e.target).closest(f.MENU).length)):c.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!t(this).hasClass(h.DISABLED))){var n=a._getParentFromElement(this),i=t(n).hasClass(h.SHOW);if(!i&&(27!==e.which||32!==e.which)||i&&(27===e.which||32===e.which)){if(27===e.which){var r=n.querySelector(f.DATA_TOGGLE);t(r).trigger("focus")}return void t(this).trigger("click")}var o=[].slice.call(n.querySelectorAll(f.VISIBLE_ITEMS));if(0!==o.length){var s=o.indexOf(e.target);38===e.which&&s>0&&s--,40===e.which&&s<o.length-1&&s++,s<0&&(s=0),o[s].focus()}}},r(a,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return g}},{key:"DefaultType",get:function(){return p}}]),a}();return t(document).on(u.KEYDOWN_DATA_API,f.DATA_TOGGLE,m._dataApiKeydownHandler).on(u.KEYDOWN_DATA_API,f.MENU,m._dataApiKeydownHandler).on(u.CLICK_DATA_API+" "+u.KEYUP_DATA_API,m._clearMenus).on(u.CLICK_DATA_API,f.DATA_TOGGLE,function(e){e.preventDefault(),e.stopPropagation(),m._jQueryInterface.call(t(this),"toggle")}).on(u.CLICK_DATA_API,f.FORM_CHILD,function(t){t.stopPropagation()}),t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=a,m._jQueryInterface},m}(e),g=function(t){var e="modal",n=".bs.modal",i=t.fn[e],o={backdrop:!0,keyboard:!0,focus:!0,show:!0},a={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},c={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},u={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},h={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},f=function(){function i(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(h.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var f=i.prototype;return f.toggle=function(t){return this._isShown?this.hide():this.show(t)},f.show=function(e){var n=this;if(!this._isTransitioning&&!this._isShown){t(this._element).hasClass(u.FADE)&&(this._isTransitioning=!0);var i=t.Event(c.SHOW,{relatedTarget:e});t(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),t(document.body).addClass(u.OPEN),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(c.CLICK_DISMISS,h.DATA_DISMISS,function(t){return n.hide(t)}),t(this._dialog).on(c.MOUSEDOWN_DISMISS,function(){t(n._element).one(c.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))}},f.hide=function(e){var n=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var i=t.Event(c.HIDE);if(t(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=t(this._element).hasClass(u.FADE);if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(c.FOCUSIN),t(this._element).removeClass(u.SHOW),t(this._element).off(c.CLICK_DISMISS),t(this._dialog).off(c.MOUSEDOWN_DISMISS),r){var o=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(o)}else this._hideModal()}}},f.dispose=function(){t.removeData(this._element,"bs.modal"),t(window,document,this._element,this._backdrop).off(n),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},f.handleUpdate=function(){this._adjustDialog()},f._getConfig=function(t){return t=s({},o,t),l.typeCheckConfig(e,t,a),t},f._showElement=function(e){var n=this,i=t(this._element).hasClass(u.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&l.reflow(this._element),t(this._element).addClass(u.SHOW),this._config.focus&&this._enforceFocus();var r=t.Event(c.SHOWN,{relatedTarget:e}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(r)};if(i){var s=l.getTransitionDurationFromElement(this._element);t(this._dialog).one(l.TRANSITION_END,o).emulateTransitionEnd(s)}else o()},f._enforceFocus=function(){var e=this;t(document).off(c.FOCUSIN).on(c.FOCUSIN,function(n){document!==n.target&&e._element!==n.target&&0===t(e._element).has(n.target).length&&e._element.focus()})},f._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(c.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||t(this._element).off(c.KEYDOWN_DISMISS)},f._setResizeEvent=function(){var e=this;this._isShown?t(window).on(c.RESIZE,function(t){return e.handleUpdate(t)}):t(window).off(c.RESIZE)},f._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(u.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(c.HIDDEN)})},f._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},f._showBackdrop=function(e){var n=this,i=t(this._element).hasClass(u.FADE)?u.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=u.BACKDROP,i&&this._backdrop.classList.add(i),t(this._backdrop).appendTo(document.body),t(this._element).on(c.CLICK_DISMISS,function(t){if(n._ignoreBackdropClick)return void(n._ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),i&&l.reflow(this._backdrop),t(this._backdrop).addClass(u.SHOW),!e)return;if(!i)return void e();var r=l.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(l.TRANSITION_END,e).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(u.SHOW);var o=function(){n._removeBackdrop(),e&&e()};if(t(this._element).hasClass(u.FADE)){var s=l.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(l.TRANSITION_END,o).emulateTransitionEnd(s)}else o()}else e&&e()},f._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},f._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},f._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},f._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(h.FIXED_CONTENT)),i=[].slice.call(document.querySelectorAll(h.STICKY_CONTENT));t(n).each(function(n,i){var r=i.style.paddingRight,o=t(i).css("padding-right");t(i).data("padding-right",r).css("padding-right",parseFloat(o)+e._scrollbarWidth+"px")}),t(i).each(function(n,i){var r=i.style.marginRight,o=t(i).css("margin-right");t(i).data("margin-right",r).css("margin-right",parseFloat(o)-e._scrollbarWidth+"px")});var r=document.body.style.paddingRight,o=t(document.body).css("padding-right");t(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}},f._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(h.FIXED_CONTENT));t(e).each(function(e,n){var i=t(n).data("padding-right");t(n).removeData("padding-right"),n.style.paddingRight=i||""});var n=[].slice.call(document.querySelectorAll(""+h.STICKY_CONTENT));t(n).each(function(e,n){var i=t(n).data("margin-right");void 0!==i&&t(n).css("margin-right",i).removeData("margin-right")});var i=t(document.body).data("padding-right");t(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},f._getScrollbarWidth=function(){var t=document.createElement("div");t.className=u.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},i._jQueryInterface=function(e,n){return this.each(function(){var r=t(this).data("bs.modal"),a=s({},o,t(this).data(),"object"===(void 0===e?"undefined":_typeof(e))&&e?e:{});if(r||(r=new i(this,a),t(this).data("bs.modal",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e](n)}else a.show&&r.show(n)})},r(i,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return o}}]),i}();return t(document).on(c.CLICK_DATA_API,h.DATA_TOGGLE,function(e){var n,i=this,r=l.getSelectorFromElement(this);r&&(n=document.querySelector(r));var o=t(n).data("bs.modal")?"toggle":s({},t(n).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var a=t(n).one(c.SHOW,function(e){e.isDefaultPrevented()||a.one(c.HIDDEN,function(){t(i).is(":visible")&&i.focus()})});f._jQueryInterface.call(t(n),o,this)}),t.fn[e]=f._jQueryInterface,t.fn[e].Constructor=f,t.fn[e].noConflict=function(){return t.fn[e]=i,f._jQueryInterface},f}(e),p=function(t){var e="tooltip",i=".bs.tooltip",o=t.fn[e],a=new RegExp("(^|\\s)bs-tooltip\\S+","g"),c={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},u={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},h={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},f={SHOW:"show",OUT:"out"},d={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},g={FADE:"fade",SHOW:"show"},p={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},m={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},_=function(){function o(t,e){if(void 0===n)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var _=o.prototype;return _.enable=function(){this._isEnabled=!0},_.disable=function(){this._isEnabled=!1},_.toggleEnabled=function(){this._isEnabled=!this._isEnabled},_.toggle=function(e){if(this._isEnabled)if(e){var n=this.constructor.DATA_KEY,i=t(e.currentTarget).data(n);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(t(this.getTipElement()).hasClass(g.SHOW))return void this._leave(null,this);this._enter(null,this)}},_.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},_.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var i=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(i);var r=t.contains(this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!r)return;var o=this.getTipElement(),s=l.getUID(this.constructor.NAME);o.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&t(o).addClass(g.FADE);var a="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,c=this._getAttachment(a);this.addAttachmentClass(c);var u=!1===this.config.container?document.body:t(document).find(this.config.container);t(o).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(o).appendTo(u),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,o,{placement:c,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:p.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){e._handlePopperPlacementChange(t)}}),t(o).addClass(g.SHOW),"ontouchstart"in document.documentElement&&t(document.body).children().on("mouseover",null,t.noop);var h=function(){e.config.animation&&e._fixTransition();var n=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),n===f.OUT&&e._leave(null,e)};if(t(this.tip).hasClass(g.FADE)){var d=l.getTransitionDurationFromElement(this.tip);t(this.tip).one(l.TRANSITION_END,h).emulateTransitionEnd(d)}else h()}},_.hide=function(e){var n=this,i=this.getTipElement(),r=t.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==f.SHOW&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};if(t(this.element).trigger(r),!r.isDefaultPrevented()){if(t(i).removeClass(g.SHOW),"ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),this._activeTrigger[m.CLICK]=!1,this._activeTrigger[m.FOCUS]=!1,this._activeTrigger[m.HOVER]=!1,t(this.tip).hasClass(g.FADE)){var s=l.getTransitionDurationFromElement(i);t(i).one(l.TRANSITION_END,o).emulateTransitionEnd(s)}else o();this._hoverState=""}},_.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},_.isWithContent=function(){return Boolean(this.getTitle())},_.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-tooltip-"+e)},_.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},_.setContent=function(){var e=this.getTipElement();this.setElementContent(t(e.querySelectorAll(p.TOOLTIP_INNER)),this.getTitle()),t(e).removeClass(g.FADE+" "+g.SHOW)},_.setElementContent=function(e,n){var i=this.config.html;"object"===(void 0===n?"undefined":_typeof(n))&&(n.nodeType||n.jquery)?i?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[i?"html":"text"](n)},_.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},_._getAttachment=function(t){return u[t.toUpperCase()]},_._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(n!==m.MANUAL){var i=n===m.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=n===m.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(i,e.config.selector,function(t){return e._enter(t)}).on(r,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},_._fixTitle=function(){var t=_typeof(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},_._enter=function(e,n){var i=this.constructor.DATA_KEY;return n=n||t(e.currentTarget).data(i),n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusin"===e.type?m.FOCUS:m.HOVER]=!0),t(n.getTipElement()).hasClass(g.SHOW)||n._hoverState===f.SHOW?void(n._hoverState=f.SHOW):(clearTimeout(n._timeout),n._hoverState=f.SHOW,n.config.delay&&n.config.delay.show?void(n._timeout=setTimeout(function(){n._hoverState===f.SHOW&&n.show()},n.config.delay.show)):void n.show())},_._leave=function(e,n){var i=this.constructor.DATA_KEY;if(n=n||t(e.currentTarget).data(i),n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusout"===e.type?m.FOCUS:m.HOVER]=!1),!n._isWithActiveTrigger()){if(clearTimeout(n._timeout),n._hoverState=f.OUT,!n.config.delay||!n.config.delay.hide)return void n.hide();n._timeout=setTimeout(function(){n._hoverState===f.OUT&&n.hide()},n.config.delay.hide)}},_._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},_._getConfig=function(n){return n=s({},this.constructor.Default,t(this.element).data(),"object"===(void 0===n?"undefined":_typeof(n))&&n?n:{}),"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),l.typeCheckConfig(e,n,this.constructor.DefaultType),n},_._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},_._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(a);null!==n&&n.length&&e.removeClass(n.join(""))},_._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},_._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass(g.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},o._jQueryInterface=function(e){return this.each(function(){var n=t(this).data("bs.tooltip"),i="object"===(void 0===e?"undefined":_typeof(e))&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new o(this,i),t(this).data("bs.tooltip",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},r(o,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return h}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return d}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return c}}]),o}();return t.fn[e]=_._jQueryInterface,t.fn[e].Constructor=_,t.fn[e].noConflict=function(){return t.fn[e]=o,_._jQueryInterface},_}(e),m=function(t){var e="popover",n=".bs.popover",i=t.fn[e],o=new RegExp("(^|\\s)bs-popover\\S+","g"),l=s({},p.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),c=s({},p.DefaultType,{content:"(string|element|function)"}),u={FADE:"fade",SHOW:"show"},h={TITLE:".popover-header",CONTENT:".popover-body"},f={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,INSERTED:"inserted"+n,CLICK:"click"+n,FOCUSIN:"focusin"+n,FOCUSOUT:"focusout"+n,MOUSEENTER:"mouseenter"+n,MOUSELEAVE:"mouseleave"+n},d=function(i){function s(){return i.apply(this,arguments)||this}a(s,i);var d=s.prototype;return d.isWithContent=function(){return this.getTitle()||this._getContent()},d.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-popover-"+e)},d.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},d.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(h.TITLE),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(e.find(h.CONTENT),n),e.removeClass(u.FADE+" "+u.SHOW)},d._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},d._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(o);null!==n&&n.length>0&&e.removeClass(n.join(""))},s._jQueryInterface=function(e){return this.each(function(){var n=t(this).data("bs.popover"),i="object"===(void 0===e?"undefined":_typeof(e))?e:null;if((n||!/destroy|hide/.test(e))&&(n||(n=new s(this,i),t(this).data("bs.popover",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},r(s,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return l}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return n}},{key:"DefaultType",get:function(){return c}}]),s}(p);return t.fn[e]=d._jQueryInterface,t.fn[e].Constructor=d,t.fn[e].noConflict=function(){return t.fn[e]=i,d._jQueryInterface},d}(e),_=function(t){var e="scrollspy",n=t.fn[e],i={offset:10,method:"auto",target:""},o={offset:"number",method:"string",target:"(string|element)"},a={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},c={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},u={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},h={OFFSET:"offset",POSITION:"position"},f=function(){function n(e,n){var i=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=this._config.target+" "+u.NAV_LINKS+","+this._config.target+" "+u.LIST_ITEMS+","+this._config.target+" "+u.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(a.SCROLL,function(t){return i._process(t)}),this.refresh(),this._process()}var f=n.prototype;return f.refresh=function(){var e=this,n=this._scrollElement===this._scrollElement.window?h.OFFSET:h.POSITION,i="auto"===this._config.method?n:this._config.method,r=i===h.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(e){var n,o=l.getSelectorFromElement(e);if(o&&(n=document.querySelector(o)),n){var s=n.getBoundingClientRect();if(s.width||s.height)return[t(n)[i]().top+r,o]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},f.dispose=function(){t.removeData(this._element,"bs.scrollspy"),t(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},f._getConfig=function(n){if(n=s({},i,"object"===(void 0===n?"undefined":_typeof(n))&&n?n:{}),"string"!=typeof n.target){var r=t(n.target).attr("id");r||(r=l.getUID(e),t(n.target).attr("id",r)),n.target="#"+r}return l.typeCheckConfig(e,n,o),n},f._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},f._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},f._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},f._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];return void(this._activeTarget!==i&&this._activate(i))}if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length,o=r;o--;){this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&(void 0===this._offsets[o+1]||t<this._offsets[o+1])&&this._activate(this._targets[o])}},f._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",");n=n.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var i=t([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass(c.DROPDOWN_ITEM)?(i.closest(u.DROPDOWN).find(u.DROPDOWN_TOGGLE).addClass(c.ACTIVE),i.addClass(c.ACTIVE)):(i.addClass(c.ACTIVE),i.parents(u.NAV_LIST_GROUP).prev(u.NAV_LINKS+", "+u.LIST_ITEMS).addClass(c.ACTIVE),i.parents(u.NAV_LIST_GROUP).prev(u.NAV_ITEMS).children(u.NAV_LINKS).addClass(c.ACTIVE)),t(this._scrollElement).trigger(a.ACTIVATE,{relatedTarget:e})},f._clear=function(){var e=[].slice.call(document.querySelectorAll(this._selector));t(e).filter(u.ACTIVE).removeClass(c.ACTIVE)},n._jQueryInterface=function(e){return this.each(function(){var i=t(this).data("bs.scrollspy"),r="object"===(void 0===e?"undefined":_typeof(e))&&e;if(i||(i=new n(this,r),t(this).data("bs.scrollspy",i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},r(n,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return i}}]),n}();return t(window).on(a.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll(u.DATA_SPY)),n=e.length,i=n;i--;){var r=t(e[i]);f._jQueryInterface.call(r,r.data())}}),t.fn[e]=f._jQueryInterface,t.fn[e].Constructor=f,t.fn[e].noConflict=function(){return t.fn[e]=n,f._jQueryInterface},f}(e),v=function(t){var e=t.fn.tab,n={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},i={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},o={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},s=function(){function e(t){this._element=t}var s=e.prototype;return s.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(i.ACTIVE)||t(this._element).hasClass(i.DISABLED))){var r,s,a=t(this._element).closest(o.NAV_LIST_GROUP)[0],c=l.getSelectorFromElement(this._element);if(a){var u="UL"===a.nodeName?o.ACTIVE_UL:o.ACTIVE;s=t.makeArray(t(a).find(u)),s=s[s.length-1]}var h=t.Event(n.HIDE,{relatedTarget:this._element}),f=t.Event(n.SHOW,{relatedTarget:s});if(s&&t(s).trigger(h),t(this._element).trigger(f),!f.isDefaultPrevented()&&!h.isDefaultPrevented()){c&&(r=document.querySelector(c)),this._activate(this._element,a);var d=function(){var i=t.Event(n.HIDDEN,{relatedTarget:e._element}),r=t.Event(n.SHOWN,{relatedTarget:s});t(s).trigger(i),t(e._element).trigger(r)};r?this._activate(r,r.parentNode,d):d()}}},s.dispose=function(){t.removeData(this._element,"bs.tab"),this._element=null},s._activate=function(e,n,r){var s,a=this;s="UL"===n.nodeName?t(n).find(o.ACTIVE_UL):t(n).children(o.ACTIVE);var c=s[0],u=r&&c&&t(c).hasClass(i.FADE),h=function(){return a._transitionComplete(e,c,r)};if(c&&u){var f=l.getTransitionDurationFromElement(c);t(c).one(l.TRANSITION_END,h).emulateTransitionEnd(f)}else h()},s._transitionComplete=function(e,n,r){if(n){t(n).removeClass(i.SHOW+" "+i.ACTIVE);var s=t(n.parentNode).find(o.DROPDOWN_ACTIVE_CHILD)[0];s&&t(s).removeClass(i.ACTIVE),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(t(e).addClass(i.ACTIVE),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),l.reflow(e),t(e).addClass(i.SHOW),e.parentNode&&t(e.parentNode).hasClass(i.DROPDOWN_MENU)){var a=t(e).closest(o.DROPDOWN)[0];if(a){var c=[].slice.call(a.querySelectorAll(o.DROPDOWN_TOGGLE));t(c).addClass(i.ACTIVE)}e.setAttribute("aria-expanded",!0)}r&&r()},e._jQueryInterface=function(n){return this.each(function(){var i=t(this),r=i.data("bs.tab");if(r||(r=new e(this),i.data("bs.tab",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}})},r(e,null,[{key:"VERSION",get:function(){return"4.1.2"}}]),e}();return t(document).on(n.CLICK_DATA_API,o.DATA_TOGGLE,function(e){e.preventDefault(),s._jQueryInterface.call(t(this),"show")}),t.fn.tab=s._jQueryInterface,t.fn.tab.Constructor=s,t.fn.tab.noConflict=function(){return t.fn.tab=e,s._jQueryInterface},s}(e);!function(t){if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(e),t.Util=l,t.Alert=c,t.Button=u,t.Carousel=h,t.Collapse=f,t.Dropdown=d,t.Modal=g,t.Popover=m,t.Scrollspy=_,t.Tab=v,t.Tooltip=p,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb3RzdHJhcC5idW5kbGUuanMiLCJib290c3RyYXAuanMiXSwibmFtZXMiOlsiZ2xvYmFsIiwiZmFjdG9yeSIsImV4cG9ydHMiLCJfdHlwZW9mIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsImJvb3RzdHJhcCIsImpRdWVyeSIsInVuZGVmaW5lZCIsIiQiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsIl9jcmVhdGVDbGFzcyIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwicHJvdG90eXBlIiwiX2RlZmluZVByb3BlcnR5Iiwib2JqIiwidmFsdWUiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwic291cmNlIiwib3duS2V5cyIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJjb25jYXQiLCJmaWx0ZXIiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJmb3JFYWNoIiwiX2luaGVyaXRzTG9vc2UiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsIl9fcHJvdG9fXyIsIm1pY3JvdGFza0RlYm91bmNlIiwiZm4iLCJjYWxsZWQiLCJ3aW5kb3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJ0YXNrRGVib3VuY2UiLCJzY2hlZHVsZWQiLCJzZXRUaW1lb3V0IiwidGltZW91dER1cmF0aW9uIiwiaXNGdW5jdGlvbiIsImZ1bmN0aW9uVG9DaGVjayIsImdldFR5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkiLCJlbGVtZW50IiwicHJvcGVydHkiLCJub2RlVHlwZSIsImNzcyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQYXJlbnROb2RlIiwibm9kZU5hbWUiLCJwYXJlbnROb2RlIiwiaG9zdCIsImdldFNjcm9sbFBhcmVudCIsImRvY3VtZW50IiwiYm9keSIsIm93bmVyRG9jdW1lbnQiLCJfZ2V0U3R5bGVDb21wdXRlZFByb3AiLCJvdmVyZmxvdyIsIm92ZXJmbG93WCIsInRlc3QiLCJvdmVyZmxvd1kiLCJpc0lFIiwidmVyc2lvbiIsImlzSUUxMSIsImlzSUUxMCIsImdldE9mZnNldFBhcmVudCIsImRvY3VtZW50RWxlbWVudCIsIm5vT2Zmc2V0UGFyZW50Iiwib2Zmc2V0UGFyZW50IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiaW5kZXhPZiIsImlzT2Zmc2V0Q29udGFpbmVyIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJnZXRSb290Iiwibm9kZSIsImZpbmRDb21tb25PZmZzZXRQYXJlbnQiLCJlbGVtZW50MSIsImVsZW1lbnQyIiwib3JkZXIiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsIk5vZGUiLCJET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkciLCJzdGFydCIsImVuZCIsInJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZXRTdGFydCIsInNldEVuZCIsImNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIiwiY29udGFpbnMiLCJlbGVtZW50MXJvb3QiLCJnZXRTY3JvbGwiLCJzaWRlIiwidXBwZXJTaWRlIiwiaHRtbCIsInNjcm9sbGluZ0VsZW1lbnQiLCJpbmNsdWRlU2Nyb2xsIiwicmVjdCIsInN1YnRyYWN0Iiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsIm1vZGlmaWVyIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiZ2V0Qm9yZGVyc1NpemUiLCJzdHlsZXMiLCJheGlzIiwic2lkZUEiLCJzaWRlQiIsInBhcnNlRmxvYXQiLCJnZXRTaXplIiwiY29tcHV0ZWRTdHlsZSIsIk1hdGgiLCJtYXgiLCJnZXRXaW5kb3dTaXplcyIsImhlaWdodCIsIndpZHRoIiwiZ2V0Q2xpZW50UmVjdCIsIm9mZnNldHMiLCJfZXh0ZW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImUiLCJyZXN1bHQiLCJzaXplcyIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiaG9yaXpTY3JvbGxiYXIiLCJvZmZzZXRXaWR0aCIsInZlcnRTY3JvbGxiYXIiLCJvZmZzZXRIZWlnaHQiLCJnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUiLCJjaGlsZHJlbiIsInBhcmVudCIsImZpeGVkUG9zaXRpb24iLCJpc0hUTUwiLCJjaGlsZHJlblJlY3QiLCJwYXJlbnRSZWN0Iiwic2Nyb2xsUGFyZW50IiwiYm9yZGVyVG9wV2lkdGgiLCJib3JkZXJMZWZ0V2lkdGgiLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0IiwiZ2V0Vmlld3BvcnRPZmZzZXRSZWN0UmVsYXRpdmVUb0FydGJpdHJhcnlOb2RlIiwiZXhjbHVkZVNjcm9sbCIsInJlbGF0aXZlT2Zmc2V0IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiaXNGaXhlZCIsImdldEZpeGVkUG9zaXRpb25PZmZzZXRQYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwiZWwiLCJnZXRCb3VuZGFyaWVzIiwicG9wcGVyIiwicmVmZXJlbmNlIiwicGFkZGluZyIsImJvdW5kYXJpZXNFbGVtZW50IiwiYm91bmRhcmllcyIsImJvdW5kYXJpZXNOb2RlIiwiX2dldFdpbmRvd1NpemVzIiwiZ2V0QXJlYSIsIl9yZWYiLCJjb21wdXRlQXV0b1BsYWNlbWVudCIsInBsYWNlbWVudCIsInJlZlJlY3QiLCJyZWN0cyIsInNvcnRlZEFyZWFzIiwibWFwIiwiYXJlYSIsInNvcnQiLCJhIiwiYiIsImZpbHRlcmVkQXJlYXMiLCJfcmVmMiIsImNvbXB1dGVkUGxhY2VtZW50IiwidmFyaWF0aW9uIiwic3BsaXQiLCJnZXRSZWZlcmVuY2VPZmZzZXRzIiwic3RhdGUiLCJnZXRPdXRlclNpemVzIiwieCIsIm1hcmdpbkJvdHRvbSIsInkiLCJtYXJnaW5SaWdodCIsImdldE9wcG9zaXRlUGxhY2VtZW50IiwiaGFzaCIsInJlcGxhY2UiLCJtYXRjaGVkIiwiZ2V0UG9wcGVyT2Zmc2V0cyIsInJlZmVyZW5jZU9mZnNldHMiLCJwb3BwZXJSZWN0IiwicG9wcGVyT2Zmc2V0cyIsImlzSG9yaXoiLCJtYWluU2lkZSIsInNlY29uZGFyeVNpZGUiLCJtZWFzdXJlbWVudCIsInNlY29uZGFyeU1lYXN1cmVtZW50IiwiZmluZCIsImFyciIsImNoZWNrIiwiQXJyYXkiLCJmaW5kSW5kZXgiLCJwcm9wIiwiY3VyIiwibWF0Y2giLCJydW5Nb2RpZmllcnMiLCJtb2RpZmllcnMiLCJkYXRhIiwiZW5kcyIsInNsaWNlIiwiY29uc29sZSIsIndhcm4iLCJlbmFibGVkIiwidXBkYXRlIiwidGhpcyIsImlzRGVzdHJveWVkIiwiaW5zdGFuY2UiLCJhcnJvd1N0eWxlcyIsImF0dHJpYnV0ZXMiLCJmbGlwcGVkIiwib3B0aW9ucyIsInBvc2l0aW9uRml4ZWQiLCJmbGlwIiwib3JpZ2luYWxQbGFjZW1lbnQiLCJwb3NpdGlvbiIsImlzQ3JlYXRlZCIsIm9uVXBkYXRlIiwib25DcmVhdGUiLCJpc01vZGlmaWVyRW5hYmxlZCIsIm1vZGlmaWVyTmFtZSIsInNvbWUiLCJuYW1lIiwiZ2V0U3VwcG9ydGVkUHJvcGVydHlOYW1lIiwicHJlZml4ZXMiLCJ1cHBlclByb3AiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInByZWZpeCIsInRvQ2hlY2siLCJzdHlsZSIsImRlc3Ryb3kiLCJyZW1vdmVBdHRyaWJ1dGUiLCJ3aWxsQ2hhbmdlIiwiZGlzYWJsZUV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlT25EZXN0cm95IiwicmVtb3ZlQ2hpbGQiLCJnZXRXaW5kb3ciLCJkZWZhdWx0VmlldyIsImF0dGFjaFRvU2Nyb2xsUGFyZW50cyIsImV2ZW50IiwiY2FsbGJhY2siLCJzY3JvbGxQYXJlbnRzIiwiaXNCb2R5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhc3NpdmUiLCJwdXNoIiwic2V0dXBFdmVudExpc3RlbmVycyIsInVwZGF0ZUJvdW5kIiwic2Nyb2xsRWxlbWVudCIsImV2ZW50c0VuYWJsZWQiLCJlbmFibGVFdmVudExpc3RlbmVycyIsInNjaGVkdWxlVXBkYXRlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJpc051bWVyaWMiLCJuIiwiaXNOYU4iLCJpc0Zpbml0ZSIsInNldFN0eWxlcyIsInVuaXQiLCJzZXRBdHRyaWJ1dGVzIiwic2V0QXR0cmlidXRlIiwiYXBwbHlTdHlsZSIsImFycm93RWxlbWVudCIsImFwcGx5U3R5bGVPbkxvYWQiLCJtb2RpZmllck9wdGlvbnMiLCJjb21wdXRlU3R5bGUiLCJsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24iLCJncHVBY2NlbGVyYXRpb24iLCJvZmZzZXRQYXJlbnRSZWN0IiwiZmxvb3IiLCJyb3VuZCIsInByZWZpeGVkUHJvcGVydHkiLCJpbnZlcnRUb3AiLCJpbnZlcnRMZWZ0IiwieC1wbGFjZW1lbnQiLCJhcnJvdyIsImlzTW9kaWZpZXJSZXF1aXJlZCIsInJlcXVlc3RpbmdOYW1lIiwicmVxdWVzdGVkTmFtZSIsInJlcXVlc3RpbmciLCJpc1JlcXVpcmVkIiwiX3JlcXVlc3RpbmciLCJyZXF1ZXN0ZWQiLCJfZGF0YSRvZmZzZXRzJGFycm93IiwicXVlcnlTZWxlY3RvciIsIl9kYXRhJG9mZnNldHMiLCJpc1ZlcnRpY2FsIiwibGVuIiwic2lkZUNhcGl0YWxpemVkIiwidG9Mb3dlckNhc2UiLCJhbHRTaWRlIiwib3BTaWRlIiwiYXJyb3dFbGVtZW50U2l6ZSIsImNlbnRlciIsInBvcHBlck1hcmdpblNpZGUiLCJwb3BwZXJCb3JkZXJTaWRlIiwic2lkZVZhbHVlIiwibWluIiwiZ2V0T3Bwb3NpdGVWYXJpYXRpb24iLCJjbG9ja3dpc2UiLCJjb3VudGVyIiwiaW5kZXgiLCJ2YWxpZFBsYWNlbWVudHMiLCJyZXZlcnNlIiwicGxhY2VtZW50T3Bwb3NpdGUiLCJmbGlwT3JkZXIiLCJiZWhhdmlvciIsIkJFSEFWSU9SUyIsIkZMSVAiLCJDTE9DS1dJU0UiLCJDT1VOVEVSQ0xPQ0tXSVNFIiwic3RlcCIsInJlZk9mZnNldHMiLCJvdmVybGFwc1JlZiIsIm92ZXJmbG93c0xlZnQiLCJvdmVyZmxvd3NSaWdodCIsIm92ZXJmbG93c1RvcCIsIm92ZXJmbG93c0JvdHRvbSIsIm92ZXJmbG93c0JvdW5kYXJpZXMiLCJmbGlwcGVkVmFyaWF0aW9uIiwiZmxpcFZhcmlhdGlvbnMiLCJrZWVwVG9nZXRoZXIiLCJ0b1ZhbHVlIiwic3RyIiwicGFyc2VPZmZzZXQiLCJvZmZzZXQiLCJiYXNlUGxhY2VtZW50IiwidXNlSGVpZ2h0IiwiZnJhZ21lbnRzIiwiZnJhZyIsInRyaW0iLCJkaXZpZGVyIiwic2VhcmNoIiwic3BsaXRSZWdleCIsIm9wcyIsIm9wIiwibWVyZ2VXaXRoUHJldmlvdXMiLCJyZWR1Y2UiLCJpbmRleDIiLCJwcmV2ZW50T3ZlcmZsb3ciLCJ0cmFuc2Zvcm1Qcm9wIiwicG9wcGVyU3R5bGVzIiwidHJhbnNmb3JtIiwicHJpb3JpdHkiLCJwcmltYXJ5IiwiZXNjYXBlV2l0aFJlZmVyZW5jZSIsInNlY29uZGFyeSIsInNoaWZ0Iiwic2hpZnR2YXJpYXRpb24iLCJzaGlmdE9mZnNldHMiLCJoaWRlIiwiYm91bmQiLCJpbm5lciIsInN1YnRyYWN0TGVuZ3RoIiwiaGFzT3duUHJvcGVydHkiLCJVdGlsIiwiJCQkMSIsInRvVHlwZSIsImdldFNwZWNpYWxUcmFuc2l0aW9uRW5kRXZlbnQiLCJiaW5kVHlwZSIsIlRSQU5TSVRJT05fRU5EIiwiZGVsZWdhdGVUeXBlIiwiaGFuZGxlIiwiaXMiLCJoYW5kbGVPYmoiLCJoYW5kbGVyIiwiYXBwbHkiLCJ0cmFuc2l0aW9uRW5kRW11bGF0b3IiLCJkdXJhdGlvbiIsIl90aGlzIiwib25lIiwidHJpZ2dlclRyYW5zaXRpb25FbmQiLCJnZXRVSUQiLCJyYW5kb20iLCJnZXRFbGVtZW50QnlJZCIsImdldFNlbGVjdG9yRnJvbUVsZW1lbnQiLCJzZWxlY3RvciIsImdldEF0dHJpYnV0ZSIsImVyciIsImdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50IiwidHJhbnNpdGlvbkR1cmF0aW9uIiwicmVmbG93IiwidHJpZ2dlciIsInN1cHBvcnRzVHJhbnNpdGlvbkVuZCIsIkJvb2xlYW4iLCJpc0VsZW1lbnQiLCJ0eXBlQ2hlY2tDb25maWciLCJjb21wb25lbnROYW1lIiwiY29uZmlnIiwiY29uZmlnVHlwZXMiLCJleHBlY3RlZFR5cGVzIiwidmFsdWVUeXBlIiwiUmVnRXhwIiwiRXJyb3IiLCJlbXVsYXRlVHJhbnNpdGlvbkVuZCIsInNwZWNpYWwiLCJBbGVydCIsIk5BTUUiLCJKUVVFUllfTk9fQ09ORkxJQ1QiLCJTZWxlY3RvciIsIkRJU01JU1MiLCJFdmVudCIsIkNMT1NFIiwiQ0xPU0VEIiwiQ0xJQ0tfREFUQV9BUEkiLCJDbGFzc05hbWUiLCJBTEVSVCIsIkZBREUiLCJTSE9XIiwiX2VsZW1lbnQiLCJfcHJvdG8iLCJjbG9zZSIsInJvb3RFbGVtZW50IiwiX2dldFJvb3RFbGVtZW50IiwiX3RyaWdnZXJDbG9zZUV2ZW50IiwiaXNEZWZhdWx0UHJldmVudGVkIiwiX3JlbW92ZUVsZW1lbnQiLCJkaXNwb3NlIiwicmVtb3ZlRGF0YSIsImNsb3Nlc3QiLCJjbG9zZUV2ZW50IiwicmVtb3ZlQ2xhc3MiLCJoYXNDbGFzcyIsIl9kZXN0cm95RWxlbWVudCIsImRldGFjaCIsInJlbW92ZSIsIl9qUXVlcnlJbnRlcmZhY2UiLCJlYWNoIiwiJGVsZW1lbnQiLCJfaGFuZGxlRGlzbWlzcyIsImFsZXJ0SW5zdGFuY2UiLCJwcmV2ZW50RGVmYXVsdCIsImdldCIsIm9uIiwibm9Db25mbGljdCIsIkJ1dHRvbiIsIkFDVElWRSIsIkJVVFRPTiIsIkZPQ1VTIiwiREFUQV9UT0dHTEVfQ0FSUk9UIiwiREFUQV9UT0dHTEUiLCJJTlBVVCIsIkZPQ1VTX0JMVVJfREFUQV9BUEkiLCJ0b2dnbGUiLCJ0cmlnZ2VyQ2hhbmdlRXZlbnQiLCJhZGRBcmlhUHJlc3NlZCIsImlucHV0IiwidHlwZSIsImNoZWNrZWQiLCJjbGFzc0xpc3QiLCJhY3RpdmVFbGVtZW50IiwiaGFzQXR0cmlidXRlIiwiZm9jdXMiLCJ0b2dnbGVDbGFzcyIsImJ1dHRvbiIsIkNhcm91c2VsIiwiREFUQV9LRVkiLCJFVkVOVF9LRVkiLCJEZWZhdWx0IiwiaW50ZXJ2YWwiLCJrZXlib2FyZCIsInNsaWRlIiwicGF1c2UiLCJ3cmFwIiwiRGVmYXVsdFR5cGUiLCJEaXJlY3Rpb24iLCJORVhUIiwiUFJFViIsIkxFRlQiLCJSSUdIVCIsIlNMSURFIiwiU0xJRCIsIktFWURPV04iLCJNT1VTRUVOVEVSIiwiTU9VU0VMRUFWRSIsIlRPVUNIRU5EIiwiTE9BRF9EQVRBX0FQSSIsIkNBUk9VU0VMIiwiSVRFTSIsIkFDVElWRV9JVEVNIiwiTkVYVF9QUkVWIiwiSU5ESUNBVE9SUyIsIkRBVEFfU0xJREUiLCJEQVRBX1JJREUiLCJfaXRlbXMiLCJfaW50ZXJ2YWwiLCJfYWN0aXZlRWxlbWVudCIsIl9pc1BhdXNlZCIsIl9pc1NsaWRpbmciLCJ0b3VjaFRpbWVvdXQiLCJfY29uZmlnIiwiX2dldENvbmZpZyIsIl9pbmRpY2F0b3JzRWxlbWVudCIsIl9hZGRFdmVudExpc3RlbmVycyIsIm5leHQiLCJfc2xpZGUiLCJuZXh0V2hlblZpc2libGUiLCJoaWRkZW4iLCJwcmV2IiwiY3ljbGUiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJ2aXNpYmlsaXR5U3RhdGUiLCJiaW5kIiwidG8iLCJhY3RpdmVJbmRleCIsIl9nZXRJdGVtSW5kZXgiLCJkaXJlY3Rpb24iLCJvZmYiLCJfdGhpczIiLCJfa2V5ZG93biIsImNsZWFyVGltZW91dCIsInRhZ05hbWUiLCJ3aGljaCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfZ2V0SXRlbUJ5RGlyZWN0aW9uIiwiaXNOZXh0RGlyZWN0aW9uIiwiaXNQcmV2RGlyZWN0aW9uIiwibGFzdEl0ZW1JbmRleCIsImRlbHRhIiwiaXRlbUluZGV4IiwiX3RyaWdnZXJTbGlkZUV2ZW50IiwicmVsYXRlZFRhcmdldCIsImV2ZW50RGlyZWN0aW9uTmFtZSIsInRhcmdldEluZGV4IiwiZnJvbUluZGV4Iiwic2xpZGVFdmVudCIsImZyb20iLCJfc2V0QWN0aXZlSW5kaWNhdG9yRWxlbWVudCIsImluZGljYXRvcnMiLCJuZXh0SW5kaWNhdG9yIiwiYWRkQ2xhc3MiLCJkaXJlY3Rpb25hbENsYXNzTmFtZSIsIm9yZGVyQ2xhc3NOYW1lIiwiX3RoaXMzIiwiYWN0aXZlRWxlbWVudEluZGV4IiwibmV4dEVsZW1lbnQiLCJuZXh0RWxlbWVudEluZGV4IiwiaXNDeWNsaW5nIiwic2xpZEV2ZW50IiwiYWN0aW9uIiwiVHlwZUVycm9yIiwiX2RhdGFBcGlDbGlja0hhbmRsZXIiLCJzbGlkZUluZGV4IiwiY2Fyb3VzZWxzIiwiJGNhcm91c2VsIiwiQ29sbGFwc2UiLCJTSE9XTiIsIkhJREUiLCJISURERU4iLCJDT0xMQVBTRSIsIkNPTExBUFNJTkciLCJDT0xMQVBTRUQiLCJEaW1lbnNpb24iLCJXSURUSCIsIkhFSUdIVCIsIkFDVElWRVMiLCJfaXNUcmFuc2l0aW9uaW5nIiwiX3RyaWdnZXJBcnJheSIsIm1ha2VBcnJheSIsImlkIiwidG9nZ2xlTGlzdCIsImVsZW0iLCJmaWx0ZXJFbGVtZW50IiwiZm91bmRFbGVtIiwiX3NlbGVjdG9yIiwiX3BhcmVudCIsIl9nZXRQYXJlbnQiLCJfYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzIiwic2hvdyIsImFjdGl2ZXMiLCJhY3RpdmVzRGF0YSIsIm5vdCIsInN0YXJ0RXZlbnQiLCJkaW1lbnNpb24iLCJfZ2V0RGltZW5zaW9uIiwiYXR0ciIsInNldFRyYW5zaXRpb25pbmciLCJjb21wbGV0ZSIsImNhcGl0YWxpemVkRGltZW5zaW9uIiwic2Nyb2xsU2l6ZSIsInRyaWdnZXJBcnJheUxlbmd0aCIsIiRlbGVtIiwiaXNUcmFuc2l0aW9uaW5nIiwianF1ZXJ5IiwiX2dldFRhcmdldEZyb21FbGVtZW50IiwidHJpZ2dlckFycmF5IiwiaXNPcGVuIiwiJHRoaXMiLCJjdXJyZW50VGFyZ2V0IiwiJHRyaWdnZXIiLCJzZWxlY3RvcnMiLCIkdGFyZ2V0IiwiaXNCcm93c2VyIiwibG9uZ2VyVGltZW91dEJyb3dzZXJzIiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwic3VwcG9ydHNNaWNyb1Rhc2tzIiwiZGVib3VuY2UiLCJNU0lucHV0TWV0aG9kQ29udGV4dCIsImRvY3VtZW50TW9kZSIsImNsYXNzQ2FsbENoZWNrIiwiY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiYXNzaWduIiwicGxhY2VtZW50cyIsIm9uTG9hZCIsIkRlZmF1bHRzIiwiUG9wcGVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiVXRpbHMiLCJQb3BwZXJVdGlscyIsIkRyb3Bkb3duIiwiUkVHRVhQX0tFWURPV04iLCJBUlJPV19VUF9LRVlDT0RFIiwiQ0xJQ0siLCJLRVlET1dOX0RBVEFfQVBJIiwiS0VZVVBfREFUQV9BUEkiLCJESVNBQkxFRCIsIkRST1BVUCIsIkRST1BSSUdIVCIsIkRST1BMRUZUIiwiTUVOVVJJR0hUIiwiTUVOVUxFRlQiLCJQT1NJVElPTl9TVEFUSUMiLCJGT1JNX0NISUxEIiwiTUVOVSIsIk5BVkJBUl9OQVYiLCJWSVNJQkxFX0lURU1TIiwiQXR0YWNobWVudE1hcCIsIlRPUCIsIlRPUEVORCIsIkJPVFRPTSIsIkJPVFRPTUVORCIsIlJJR0hURU5EIiwiTEVGVEVORCIsImJvdW5kYXJ5IiwiZGlzcGxheSIsIl9wb3BwZXIiLCJfbWVudSIsIl9nZXRNZW51RWxlbWVudCIsIl9pbk5hdmJhciIsIl9kZXRlY3ROYXZiYXIiLCJkaXNhYmxlZCIsIl9nZXRQYXJlbnRGcm9tRWxlbWVudCIsImlzQWN0aXZlIiwiX2NsZWFyTWVudXMiLCJzaG93RXZlbnQiLCJyZWZlcmVuY2VFbGVtZW50IiwiX2dldFBvcHBlckNvbmZpZyIsIm5vb3AiLCJzdG9wUHJvcGFnYXRpb24iLCJfZ2V0UGxhY2VtZW50IiwiJHBhcmVudERyb3Bkb3duIiwib2Zmc2V0Q29uZiIsInBvcHBlckNvbmZpZyIsInRvZ2dsZXMiLCJjb250ZXh0IiwiY2xpY2tFdmVudCIsImRyb3Bkb3duTWVudSIsImhpZGVFdmVudCIsIl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIiLCJpdGVtcyIsIk1vZGFsIiwiYmFja2Ryb3AiLCJGT0NVU0lOIiwiUkVTSVpFIiwiQ0xJQ0tfRElTTUlTUyIsIktFWURPV05fRElTTUlTUyIsIk1PVVNFVVBfRElTTUlTUyIsIk1PVVNFRE9XTl9ESVNNSVNTIiwiU0NST0xMQkFSX01FQVNVUkVSIiwiQkFDS0RST1AiLCJPUEVOIiwiRElBTE9HIiwiREFUQV9ESVNNSVNTIiwiRklYRURfQ09OVEVOVCIsIlNUSUNLWV9DT05URU5UIiwiX2RpYWxvZyIsIl9iYWNrZHJvcCIsIl9pc1Nob3duIiwiX2lzQm9keU92ZXJmbG93aW5nIiwiX2lnbm9yZUJhY2tkcm9wQ2xpY2siLCJfc2Nyb2xsYmFyV2lkdGgiLCJfY2hlY2tTY3JvbGxiYXIiLCJfc2V0U2Nyb2xsYmFyIiwiX2FkanVzdERpYWxvZyIsIl9zZXRFc2NhcGVFdmVudCIsIl9zZXRSZXNpemVFdmVudCIsIl9zaG93QmFja2Ryb3AiLCJfc2hvd0VsZW1lbnQiLCJ0cmFuc2l0aW9uIiwiX2hpZGVNb2RhbCIsImhhbmRsZVVwZGF0ZSIsIkVMRU1FTlRfTk9ERSIsImFwcGVuZENoaWxkIiwiX2VuZm9yY2VGb2N1cyIsInNob3duRXZlbnQiLCJ0cmFuc2l0aW9uQ29tcGxldGUiLCJfdGhpczQiLCJoYXMiLCJfdGhpczUiLCJfdGhpczYiLCJfdGhpczciLCJfcmVzZXRBZGp1c3RtZW50cyIsIl9yZXNldFNjcm9sbGJhciIsIl9yZW1vdmVCYWNrZHJvcCIsIl90aGlzOCIsImFuaW1hdGUiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiYWRkIiwiYXBwZW5kVG8iLCJiYWNrZHJvcFRyYW5zaXRpb25EdXJhdGlvbiIsImNhbGxiYWNrUmVtb3ZlIiwiX2JhY2tkcm9wVHJhbnNpdGlvbkR1cmF0aW9uIiwiaXNNb2RhbE92ZXJmbG93aW5nIiwic2Nyb2xsSGVpZ2h0IiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJfZ2V0U2Nyb2xsYmFyV2lkdGgiLCJfdGhpczkiLCJmaXhlZENvbnRlbnQiLCJzdGlja3lDb250ZW50IiwiYWN0dWFsUGFkZGluZyIsImNhbGN1bGF0ZWRQYWRkaW5nIiwiYWN0dWFsTWFyZ2luIiwiY2FsY3VsYXRlZE1hcmdpbiIsImVsZW1lbnRzIiwibWFyZ2luIiwic2Nyb2xsRGl2Iiwic2Nyb2xsYmFyV2lkdGgiLCJfdGhpczEwIiwiVG9vbHRpcCIsIkJTQ0xTX1BSRUZJWF9SRUdFWCIsImFuaW1hdGlvbiIsInRlbXBsYXRlIiwidGl0bGUiLCJkZWxheSIsImNvbnRhaW5lciIsImZhbGxiYWNrUGxhY2VtZW50IiwiQVVUTyIsIkhvdmVyU3RhdGUiLCJPVVQiLCJJTlNFUlRFRCIsIkZPQ1VTT1VUIiwiVE9PTFRJUCIsIlRPT0xUSVBfSU5ORVIiLCJBUlJPVyIsIlRyaWdnZXIiLCJIT1ZFUiIsIk1BTlVBTCIsIl9pc0VuYWJsZWQiLCJfdGltZW91dCIsIl9ob3ZlclN0YXRlIiwiX2FjdGl2ZVRyaWdnZXIiLCJ0aXAiLCJfc2V0TGlzdGVuZXJzIiwiZW5hYmxlIiwiZGlzYWJsZSIsInRvZ2dsZUVuYWJsZWQiLCJkYXRhS2V5IiwiX2dldERlbGVnYXRlQ29uZmlnIiwiY2xpY2siLCJfaXNXaXRoQWN0aXZlVHJpZ2dlciIsIl9lbnRlciIsIl9sZWF2ZSIsImdldFRpcEVsZW1lbnQiLCJpc1dpdGhDb250ZW50IiwiaXNJblRoZURvbSIsInRpcElkIiwic2V0Q29udGVudCIsImF0dGFjaG1lbnQiLCJfZ2V0QXR0YWNobWVudCIsImFkZEF0dGFjaG1lbnRDbGFzcyIsIl9oYW5kbGVQb3BwZXJQbGFjZW1lbnRDaGFuZ2UiLCJfZml4VHJhbnNpdGlvbiIsInByZXZIb3ZlclN0YXRlIiwiX2NsZWFuVGlwQ2xhc3MiLCJnZXRUaXRsZSIsIkNMQVNTX1BSRUZJWCIsInNldEVsZW1lbnRDb250ZW50IiwiY29udGVudCIsImVtcHR5IiwiYXBwZW5kIiwidGV4dCIsImV2ZW50SW4iLCJldmVudE91dCIsIl9maXhUaXRsZSIsInRpdGxlVHlwZSIsIiR0aXAiLCJ0YWJDbGFzcyIsImpvaW4iLCJwb3BwZXJEYXRhIiwicG9wcGVySW5zdGFuY2UiLCJpbml0Q29uZmlnQW5pbWF0aW9uIiwiUG9wb3ZlciIsIlRJVExFIiwiQ09OVEVOVCIsIl9Ub29sdGlwIiwiX2dldENvbnRlbnQiLCJTY3JvbGxTcHkiLCJtZXRob2QiLCJBQ1RJVkFURSIsIlNDUk9MTCIsIkRST1BET1dOX0lURU0iLCJEUk9QRE9XTl9NRU5VIiwiREFUQV9TUFkiLCJOQVZfTElTVF9HUk9VUCIsIk5BVl9MSU5LUyIsIk5BVl9JVEVNUyIsIkxJU1RfSVRFTVMiLCJEUk9QRE9XTiIsIkRST1BET1dOX0lURU1TIiwiRFJPUERPV05fVE9HR0xFIiwiT2Zmc2V0TWV0aG9kIiwiT0ZGU0VUIiwiUE9TSVRJT04iLCJfc2Nyb2xsRWxlbWVudCIsIl9vZmZzZXRzIiwiX3RhcmdldHMiLCJfYWN0aXZlVGFyZ2V0IiwiX3Njcm9sbEhlaWdodCIsIl9wcm9jZXNzIiwicmVmcmVzaCIsImF1dG9NZXRob2QiLCJvZmZzZXRNZXRob2QiLCJvZmZzZXRCYXNlIiwiX2dldFNjcm9sbFRvcCIsIl9nZXRTY3JvbGxIZWlnaHQiLCJ0YXJnZXRTZWxlY3RvciIsInRhcmdldEJDUiIsIml0ZW0iLCJwYWdlWU9mZnNldCIsIl9nZXRPZmZzZXRIZWlnaHQiLCJtYXhTY3JvbGwiLCJfYWN0aXZhdGUiLCJfY2xlYXIiLCJvZmZzZXRMZW5ndGgiLCJxdWVyaWVzIiwiJGxpbmsiLCJwYXJlbnRzIiwibm9kZXMiLCJzY3JvbGxTcHlzIiwic2Nyb2xsU3B5c0xlbmd0aCIsIiRzcHkiLCJUYWIiLCJBQ1RJVkVfVUwiLCJEUk9QRE9XTl9BQ1RJVkVfQ0hJTEQiLCJwcmV2aW91cyIsImxpc3RFbGVtZW50IiwiaXRlbVNlbGVjdG9yIiwiaGlkZGVuRXZlbnQiLCJhY3RpdmVFbGVtZW50cyIsImFjdGl2ZSIsIl90cmFuc2l0aW9uQ29tcGxldGUiLCJkcm9wZG93bkNoaWxkIiwiZHJv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cVksS0FBQUEsRUFDQXJZLEVBQUE4YSxNQUFBQSxFQUNBOWEsRUFBQXFkLE9BQUFBLEVBQ0FyZCxFQUFBeWUsU0FBQUEsRUFDQXplLEVBQUFva0IsU0FBQUEsRUFDQXBrQixFQUFBc29CLFNBQUFBLEVBQ0F0b0IsRUFBQXlyQixNQUFBQSxFQUNBenJCLEVBQUE4ekIsUUFBQUEsRUFDQTl6QixFQUFBNjNCLFVBQUExRCxFQUNBbjBCLEVBQUFnM0IsSUFBQUEsRUFDQWgzQixFQUFBK3ZCLFFBQUFBLEVBRUE1dUIsT0FBQUMsZUFBQXBCLEVBQUEsY0FDQTZCLE9BQUEiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBCb290c3RyYXAgdjQuMS4yIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKVxuICogQ29weXJpZ2h0IDIwMTEtMjAxOCBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKVxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqL1xuKGZ1bmN0aW9uKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cywgcmVxdWlyZSgnanF1ZXJ5JykpIDpcbiAgICAgICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cycsICdqcXVlcnknXSwgZmFjdG9yeSkgOlxuICAgICAgICAoZmFjdG9yeSgoZ2xvYmFsLmJvb3RzdHJhcCA9IHt9KSwgZ2xvYmFsLmpRdWVyeSkpO1xufSh0aGlzLCAoZnVuY3Rpb24oZXhwb3J0cywgJCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgICQgPSAkICYmICQuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSA/ICRbJ2RlZmF1bHQnXSA6ICQ7XG5cbiAgICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgICAgICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICAgICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICAgICAgICAgIHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24oc3ltKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcbiAgICAgICAgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEJvb3RzdHJhcCAodjQuMS4yKTogdXRpbC5qc1xuICAgICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKi9cblxuICAgIHZhciBVdGlsID0gZnVuY3Rpb24oJCQkMSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIFByaXZhdGUgVHJhbnNpdGlvbkVuZCBIZWxwZXJzXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIFRSQU5TSVRJT05fRU5EID0gJ3RyYW5zaXRpb25lbmQnO1xuICAgICAgICB2YXIgTUFYX1VJRCA9IDEwMDAwMDA7XG4gICAgICAgIHZhciBNSUxMSVNFQ09ORFNfTVVMVElQTElFUiA9IDEwMDA7IC8vIFNob3V0b3V0IEFuZ3VzQ3JvbGwgKGh0dHBzOi8vZ29vLmdsL3B4d1FHcClcblxuICAgICAgICBmdW5jdGlvbiB0b1R5cGUob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4ge30udG9TdHJpbmcuY2FsbChvYmopLm1hdGNoKC9cXHMoW2Etel0rKS9pKVsxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0U3BlY2lhbFRyYW5zaXRpb25FbmRFdmVudCgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYmluZFR5cGU6IFRSQU5TSVRJT05fRU5ELFxuICAgICAgICAgICAgICAgIGRlbGVnYXRlVHlwZTogVFJBTlNJVElPTl9FTkQsXG4gICAgICAgICAgICAgICAgaGFuZGxlOiBmdW5jdGlvbiBoYW5kbGUoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQkJDEoZXZlbnQudGFyZ2V0KS5pcyh0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kRW11bGF0b3IoZHVyYXRpb24pIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICQkJDEodGhpcykub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgVXRpbC50cmlnZ2VyVHJhbnNpdGlvbkVuZChfdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uRW5kU3VwcG9ydCgpIHtcbiAgICAgICAgICAgICQkJDEuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQgPSB0cmFuc2l0aW9uRW5kRW11bGF0b3I7XG4gICAgICAgICAgICAkJCQxLmV2ZW50LnNwZWNpYWxbVXRpbC5UUkFOU0lUSU9OX0VORF0gPSBnZXRTcGVjaWFsVHJhbnNpdGlvbkVuZEV2ZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIFB1YmxpYyBVdGlsIEFwaVxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cblxuXG4gICAgICAgIHZhciBVdGlsID0ge1xuICAgICAgICAgICAgVFJBTlNJVElPTl9FTkQ6ICdic1RyYW5zaXRpb25FbmQnLFxuICAgICAgICAgICAgZ2V0VUlEOiBmdW5jdGlvbiBnZXRVSUQocHJlZml4KSB7XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgICAgICAgICAgICAgICAgICBwcmVmaXggKz0gfn4oTWF0aC5yYW5kb20oKSAqIE1BWF9VSUQpOyAvLyBcIn5+XCIgYWN0cyBsaWtlIGEgZmFzdGVyIE1hdGguZmxvb3IoKSBoZXJlXG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4KSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcHJlZml4O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFNlbGVjdG9yRnJvbUVsZW1lbnQ6IGZ1bmN0aW9uIGdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gJyMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSB8fCAnJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgPyBzZWxlY3RvciA6IG51bGw7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudDogZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9IC8vIEdldCB0cmFuc2l0aW9uLWR1cmF0aW9uIG9mIHRoZSBlbGVtZW50XG5cblxuICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSAkJCQxKGVsZW1lbnQpLmNzcygndHJhbnNpdGlvbi1kdXJhdGlvbicpO1xuICAgICAgICAgICAgICAgIHZhciBmbG9hdFRyYW5zaXRpb25EdXJhdGlvbiA9IHBhcnNlRmxvYXQodHJhbnNpdGlvbkR1cmF0aW9uKTsgLy8gUmV0dXJuIDAgaWYgZWxlbWVudCBvciB0cmFuc2l0aW9uIGR1cmF0aW9uIGlzIG5vdCBmb3VuZFxuXG4gICAgICAgICAgICAgICAgaWYgKCFmbG9hdFRyYW5zaXRpb25EdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9IC8vIElmIG11bHRpcGxlIGR1cmF0aW9ucyBhcmUgZGVmaW5lZCwgdGFrZSB0aGUgZmlyc3RcblxuXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gdHJhbnNpdGlvbkR1cmF0aW9uLnNwbGl0KCcsJylbMF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodHJhbnNpdGlvbkR1cmF0aW9uKSAqIE1JTExJU0VDT05EU19NVUxUSVBMSUVSO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZmxvdzogZnVuY3Rpb24gcmVmbG93KGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJpZ2dlclRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIHRyaWdnZXJUcmFuc2l0aW9uRW5kKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAkJCQxKGVsZW1lbnQpLnRyaWdnZXIoVFJBTlNJVElPTl9FTkQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSBpbiB2NVxuICAgICAgICAgICAgc3VwcG9ydHNUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiBzdXBwb3J0c1RyYW5zaXRpb25FbmQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4oVFJBTlNJVElPTl9FTkQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzRWxlbWVudDogZnVuY3Rpb24gaXNFbGVtZW50KG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiAob2JqWzBdIHx8IG9iaikubm9kZVR5cGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZUNoZWNrQ29uZmlnOiBmdW5jdGlvbiB0eXBlQ2hlY2tDb25maWcoY29tcG9uZW50TmFtZSwgY29uZmlnLCBjb25maWdUeXBlcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGNvbmZpZ1R5cGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29uZmlnVHlwZXMsIHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGVjdGVkVHlwZXMgPSBjb25maWdUeXBlc1twcm9wZXJ0eV07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBjb25maWdbcHJvcGVydHldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlVHlwZSA9IHZhbHVlICYmIFV0aWwuaXNFbGVtZW50KHZhbHVlKSA/ICdlbGVtZW50JyA6IHRvVHlwZSh2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV3IFJlZ0V4cChleHBlY3RlZFR5cGVzKS50ZXN0KHZhbHVlVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoY29tcG9uZW50TmFtZS50b1VwcGVyQ2FzZSgpICsgXCI6IFwiICsgKFwiT3B0aW9uIFxcXCJcIiArIHByb3BlcnR5ICsgXCJcXFwiIHByb3ZpZGVkIHR5cGUgXFxcIlwiICsgdmFsdWVUeXBlICsgXCJcXFwiIFwiKSArIChcImJ1dCBleHBlY3RlZCB0eXBlIFxcXCJcIiArIGV4cGVjdGVkVHlwZXMgKyBcIlxcXCIuXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2V0VHJhbnNpdGlvbkVuZFN1cHBvcnQoKTtcbiAgICAgICAgcmV0dXJuIFV0aWw7XG4gICAgfSgkKTtcblxuICAgIC8qKlxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQm9vdHN0cmFwICh2NC4xLjIpOiBhbGVydC5qc1xuICAgICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKi9cblxuICAgIHZhciBBbGVydCA9IGZ1bmN0aW9uKCQkJDEpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBDb25zdGFudHNcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgTkFNRSA9ICdhbGVydCc7XG4gICAgICAgIHZhciBWRVJTSU9OID0gJzQuMS4yJztcbiAgICAgICAgdmFyIERBVEFfS0VZID0gJ2JzLmFsZXJ0JztcbiAgICAgICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gICAgICAgIHZhciBEQVRBX0FQSV9LRVkgPSAnLmRhdGEtYXBpJztcbiAgICAgICAgdmFyIEpRVUVSWV9OT19DT05GTElDVCA9ICQkJDEuZm5bTkFNRV07XG4gICAgICAgIHZhciBTZWxlY3RvciA9IHtcbiAgICAgICAgICAgIERJU01JU1M6ICdbZGF0YS1kaXNtaXNzPVwiYWxlcnRcIl0nXG4gICAgICAgIH07XG4gICAgICAgIHZhciBFdmVudCA9IHtcbiAgICAgICAgICAgIENMT1NFOiBcImNsb3NlXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBDTE9TRUQ6IFwiY2xvc2VkXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBDTElDS19EQVRBX0FQSTogXCJjbGlja1wiICsgRVZFTlRfS0VZICsgREFUQV9BUElfS0VZXG4gICAgICAgIH07XG4gICAgICAgIHZhciBDbGFzc05hbWUgPSB7XG4gICAgICAgICAgICBBTEVSVDogJ2FsZXJ0JyxcbiAgICAgICAgICAgIEZBREU6ICdmYWRlJyxcbiAgICAgICAgICAgIFNIT1c6ICdzaG93J1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAqIENsYXNzIERlZmluaXRpb25cbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgQWxlcnQgPVxuICAgICAgICAgICAgLyojX19QVVJFX18qL1xuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gQWxlcnQoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgICAgICAgICAgICAgdmFyIF9wcm90byA9IEFsZXJ0LnByb3RvdHlwZTtcblxuICAgICAgICAgICAgICAgIC8vIFB1YmxpY1xuICAgICAgICAgICAgICAgIF9wcm90by5jbG9zZSA9IGZ1bmN0aW9uIGNsb3NlKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvb3RFbGVtZW50ID0gdGhpcy5fZWxlbWVudDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdEVsZW1lbnQgPSB0aGlzLl9nZXRSb290RWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXN0b21FdmVudCA9IHRoaXMuX3RyaWdnZXJDbG9zZUV2ZW50KHJvb3RFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VzdG9tRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZUVsZW1lbnQocm9vdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICAgICAgICAgICQkJDEucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH07IC8vIFByaXZhdGVcblxuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXRSb290RWxlbWVudCA9IGZ1bmN0aW9uIF9nZXRSb290RWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gJCQkMShlbGVtZW50KS5jbG9zZXN0KFwiLlwiICsgQ2xhc3NOYW1lLkFMRVJUKVswXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fdHJpZ2dlckNsb3NlRXZlbnQgPSBmdW5jdGlvbiBfdHJpZ2dlckNsb3NlRXZlbnQoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2xvc2VFdmVudCA9ICQkJDEuRXZlbnQoRXZlbnQuQ0xPU0UpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKGVsZW1lbnQpLnRyaWdnZXIoY2xvc2VFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbG9zZUV2ZW50O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX3JlbW92ZUVsZW1lbnQgPSBmdW5jdGlvbiBfcmVtb3ZlRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgJCQkMShlbGVtZW50KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkJCQxKGVsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5GQURFKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVzdHJveUVsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKGVsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9kZXN0cm95RWxlbWVudChlbGVtZW50LCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fZGVzdHJveUVsZW1lbnQgPSBmdW5jdGlvbiBfZGVzdHJveUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAkJCQxKGVsZW1lbnQpLmRldGFjaCgpLnRyaWdnZXIoRXZlbnQuQ0xPU0VEKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9OyAvLyBTdGF0aWNcblxuXG4gICAgICAgICAgICAgICAgQWxlcnQuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGVsZW1lbnQgPSAkJCQxKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkZWxlbWVudC5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG5ldyBBbGVydCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZyA9PT0gJ2Nsb3NlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbY29uZmlnXSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIEFsZXJ0Ll9oYW5kbGVEaXNtaXNzID0gZnVuY3Rpb24gX2hhbmRsZURpc21pc3MoYWxlcnRJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0SW5zdGFuY2UuY2xvc2UodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhBbGVydCwgbnVsbCwgW3tcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIlZFUlNJT05cIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVkVSU0lPTjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBBbGVydDtcbiAgICAgICAgICAgIH0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG5cblxuICAgICAgICAkJCQxKGRvY3VtZW50KS5vbihFdmVudC5DTElDS19EQVRBX0FQSSwgU2VsZWN0b3IuRElTTUlTUywgQWxlcnQuX2hhbmRsZURpc21pc3MobmV3IEFsZXJ0KCkpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBqUXVlcnlcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuXG4gICAgICAgICQkJDEuZm5bTkFNRV0gPSBBbGVydC5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgICAkJCQxLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gQWxlcnQ7XG5cbiAgICAgICAgJCQkMS5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkJCQxLmZuW05BTUVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgICAgICAgICAgcmV0dXJuIEFsZXJ0Ll9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIEFsZXJ0O1xuICAgIH0oJCk7XG5cbiAgICAvKipcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEJvb3RzdHJhcCAodjQuMS4yKTogYnV0dG9uLmpzXG4gICAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqL1xuXG4gICAgdmFyIEJ1dHRvbiA9IGZ1bmN0aW9uKCQkJDEpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBDb25zdGFudHNcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgTkFNRSA9ICdidXR0b24nO1xuICAgICAgICB2YXIgVkVSU0lPTiA9ICc0LjEuMic7XG4gICAgICAgIHZhciBEQVRBX0tFWSA9ICdicy5idXR0b24nO1xuICAgICAgICB2YXIgRVZFTlRfS0VZID0gXCIuXCIgKyBEQVRBX0tFWTtcbiAgICAgICAgdmFyIERBVEFfQVBJX0tFWSA9ICcuZGF0YS1hcGknO1xuICAgICAgICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUID0gJCQkMS5mbltOQU1FXTtcbiAgICAgICAgdmFyIENsYXNzTmFtZSA9IHtcbiAgICAgICAgICAgIEFDVElWRTogJ2FjdGl2ZScsXG4gICAgICAgICAgICBCVVRUT046ICdidG4nLFxuICAgICAgICAgICAgRk9DVVM6ICdmb2N1cydcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIFNlbGVjdG9yID0ge1xuICAgICAgICAgICAgREFUQV9UT0dHTEVfQ0FSUk9UOiAnW2RhdGEtdG9nZ2xlXj1cImJ1dHRvblwiXScsXG4gICAgICAgICAgICBEQVRBX1RPR0dMRTogJ1tkYXRhLXRvZ2dsZT1cImJ1dHRvbnNcIl0nLFxuICAgICAgICAgICAgSU5QVVQ6ICdpbnB1dCcsXG4gICAgICAgICAgICBBQ1RJVkU6ICcuYWN0aXZlJyxcbiAgICAgICAgICAgIEJVVFRPTjogJy5idG4nXG4gICAgICAgIH07XG4gICAgICAgIHZhciBFdmVudCA9IHtcbiAgICAgICAgICAgIENMSUNLX0RBVEFfQVBJOiBcImNsaWNrXCIgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVksXG4gICAgICAgICAgICBGT0NVU19CTFVSX0RBVEFfQVBJOiBcImZvY3VzXCIgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVkgKyBcIiBcIiArIChcImJsdXJcIiArIEVWRU5UX0tFWSArIERBVEFfQVBJX0tFWSlcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAgICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIEJ1dHRvbiA9XG4gICAgICAgICAgICAvKiNfX1BVUkVfXyovXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBCdXR0b24oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgICAgICAgICAgICAgdmFyIF9wcm90byA9IEJ1dHRvbi5wcm90b3R5cGU7XG5cbiAgICAgICAgICAgICAgICAvLyBQdWJsaWNcbiAgICAgICAgICAgICAgICBfcHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJpZ2dlckNoYW5nZUV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFkZEFyaWFQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvb3RFbGVtZW50ID0gJCQkMSh0aGlzLl9lbGVtZW50KS5jbG9zZXN0KFNlbGVjdG9yLkRBVEFfVE9HR0xFKVswXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocm9vdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5JTlBVVCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC50eXBlID09PSAncmFkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGVja2VkICYmIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENsYXNzTmFtZS5BQ1RJVkUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyQ2hhbmdlRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVFbGVtZW50ID0gcm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5BQ1RJVkUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoYWN0aXZlRWxlbWVudCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckNoYW5nZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgfHwgcm9vdEVsZW1lbnQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpIHx8IGlucHV0LmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSB8fCByb290RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LmNoZWNrZWQgPSAhdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoaW5wdXQpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQXJpYVByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhZGRBcmlhUHJlc3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsICF0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDbGFzc05hbWUuQUNUSVZFKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckNoYW5nZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLnRvZ2dsZUNsYXNzKENsYXNzTmFtZS5BQ1RJVkUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCQkMS5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsIERBVEFfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfTsgLy8gU3RhdGljXG5cblxuICAgICAgICAgICAgICAgIEJ1dHRvbi5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG5ldyBCdXR0b24odGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZyA9PT0gJ3RvZ2dsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhCdXR0b24sIG51bGwsIFt7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gQnV0dG9uO1xuICAgICAgICAgICAgfSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIERhdGEgQXBpIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cblxuXG4gICAgICAgICQkJDEoZG9jdW1lbnQpLm9uKEV2ZW50LkNMSUNLX0RBVEFfQVBJLCBTZWxlY3Rvci5EQVRBX1RPR0dMRV9DQVJST1QsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIGJ1dHRvbiA9IGV2ZW50LnRhcmdldDtcblxuICAgICAgICAgICAgaWYgKCEkJCQxKGJ1dHRvbikuaGFzQ2xhc3MoQ2xhc3NOYW1lLkJVVFRPTikpIHtcbiAgICAgICAgICAgICAgICBidXR0b24gPSAkJCQxKGJ1dHRvbikuY2xvc2VzdChTZWxlY3Rvci5CVVRUT04pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBCdXR0b24uX2pRdWVyeUludGVyZmFjZS5jYWxsKCQkJDEoYnV0dG9uKSwgJ3RvZ2dsZScpO1xuICAgICAgICB9KS5vbihFdmVudC5GT0NVU19CTFVSX0RBVEFfQVBJLCBTZWxlY3Rvci5EQVRBX1RPR0dMRV9DQVJST1QsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgYnV0dG9uID0gJCQkMShldmVudC50YXJnZXQpLmNsb3Nlc3QoU2VsZWN0b3IuQlVUVE9OKVswXTtcbiAgICAgICAgICAgICQkJDEoYnV0dG9uKS50b2dnbGVDbGFzcyhDbGFzc05hbWUuRk9DVVMsIC9eZm9jdXMoaW4pPyQvLnRlc3QoZXZlbnQudHlwZSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBqUXVlcnlcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuXG4gICAgICAgICQkJDEuZm5bTkFNRV0gPSBCdXR0b24uX2pRdWVyeUludGVyZmFjZTtcbiAgICAgICAgJCQkMS5mbltOQU1FXS5Db25zdHJ1Y3RvciA9IEJ1dHRvbjtcblxuICAgICAgICAkJCQxLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQkJDEuZm5bTkFNRV0gPSBKUVVFUllfTk9fQ09ORkxJQ1Q7XG4gICAgICAgICAgICByZXR1cm4gQnV0dG9uLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIEJ1dHRvbjtcbiAgICB9KCQpO1xuXG4gICAgLyoqXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBCb290c3RyYXAgKHY0LjEuMik6IGNhcm91c2VsLmpzXG4gICAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqL1xuXG4gICAgdmFyIENhcm91c2VsID0gZnVuY3Rpb24oJCQkMSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIENvbnN0YW50c1xuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBOQU1FID0gJ2Nhcm91c2VsJztcbiAgICAgICAgdmFyIFZFUlNJT04gPSAnNC4xLjInO1xuICAgICAgICB2YXIgREFUQV9LRVkgPSAnYnMuY2Fyb3VzZWwnO1xuICAgICAgICB2YXIgRVZFTlRfS0VZID0gXCIuXCIgKyBEQVRBX0tFWTtcbiAgICAgICAgdmFyIERBVEFfQVBJX0tFWSA9ICcuZGF0YS1hcGknO1xuICAgICAgICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUID0gJCQkMS5mbltOQU1FXTtcbiAgICAgICAgdmFyIEFSUk9XX0xFRlRfS0VZQ09ERSA9IDM3OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciBsZWZ0IGFycm93IGtleVxuXG4gICAgICAgIHZhciBBUlJPV19SSUdIVF9LRVlDT0RFID0gMzk7IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIHJpZ2h0IGFycm93IGtleVxuXG4gICAgICAgIHZhciBUT1VDSEVWRU5UX0NPTVBBVF9XQUlUID0gNTAwOyAvLyBUaW1lIGZvciBtb3VzZSBjb21wYXQgZXZlbnRzIHRvIGZpcmUgYWZ0ZXIgdG91Y2hcblxuICAgICAgICB2YXIgRGVmYXVsdCA9IHtcbiAgICAgICAgICAgIGludGVydmFsOiA1MDAwLFxuICAgICAgICAgICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgICAgICAgICBzbGlkZTogZmFsc2UsXG4gICAgICAgICAgICBwYXVzZTogJ2hvdmVyJyxcbiAgICAgICAgICAgIHdyYXA6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIERlZmF1bHRUeXBlID0ge1xuICAgICAgICAgICAgaW50ZXJ2YWw6ICcobnVtYmVyfGJvb2xlYW4pJyxcbiAgICAgICAgICAgIGtleWJvYXJkOiAnYm9vbGVhbicsXG4gICAgICAgICAgICBzbGlkZTogJyhib29sZWFufHN0cmluZyknLFxuICAgICAgICAgICAgcGF1c2U6ICcoc3RyaW5nfGJvb2xlYW4pJyxcbiAgICAgICAgICAgIHdyYXA6ICdib29sZWFuJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgRGlyZWN0aW9uID0ge1xuICAgICAgICAgICAgTkVYVDogJ25leHQnLFxuICAgICAgICAgICAgUFJFVjogJ3ByZXYnLFxuICAgICAgICAgICAgTEVGVDogJ2xlZnQnLFxuICAgICAgICAgICAgUklHSFQ6ICdyaWdodCdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIEV2ZW50ID0ge1xuICAgICAgICAgICAgU0xJREU6IFwic2xpZGVcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIFNMSUQ6IFwic2xpZFwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgS0VZRE9XTjogXCJrZXlkb3duXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBNT1VTRUVOVEVSOiBcIm1vdXNlZW50ZXJcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIE1PVVNFTEVBVkU6IFwibW91c2VsZWF2ZVwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgVE9VQ0hFTkQ6IFwidG91Y2hlbmRcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIExPQURfREFUQV9BUEk6IFwibG9hZFwiICsgRVZFTlRfS0VZICsgREFUQV9BUElfS0VZLFxuICAgICAgICAgICAgQ0xJQ0tfREFUQV9BUEk6IFwiY2xpY2tcIiArIEVWRU5UX0tFWSArIERBVEFfQVBJX0tFWVxuICAgICAgICB9O1xuICAgICAgICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgICAgICAgICAgQ0FST1VTRUw6ICdjYXJvdXNlbCcsXG4gICAgICAgICAgICBBQ1RJVkU6ICdhY3RpdmUnLFxuICAgICAgICAgICAgU0xJREU6ICdzbGlkZScsXG4gICAgICAgICAgICBSSUdIVDogJ2Nhcm91c2VsLWl0ZW0tcmlnaHQnLFxuICAgICAgICAgICAgTEVGVDogJ2Nhcm91c2VsLWl0ZW0tbGVmdCcsXG4gICAgICAgICAgICBORVhUOiAnY2Fyb3VzZWwtaXRlbS1uZXh0JyxcbiAgICAgICAgICAgIFBSRVY6ICdjYXJvdXNlbC1pdGVtLXByZXYnLFxuICAgICAgICAgICAgSVRFTTogJ2Nhcm91c2VsLWl0ZW0nXG4gICAgICAgIH07XG4gICAgICAgIHZhciBTZWxlY3RvciA9IHtcbiAgICAgICAgICAgIEFDVElWRTogJy5hY3RpdmUnLFxuICAgICAgICAgICAgQUNUSVZFX0lURU06ICcuYWN0aXZlLmNhcm91c2VsLWl0ZW0nLFxuICAgICAgICAgICAgSVRFTTogJy5jYXJvdXNlbC1pdGVtJyxcbiAgICAgICAgICAgIE5FWFRfUFJFVjogJy5jYXJvdXNlbC1pdGVtLW5leHQsIC5jYXJvdXNlbC1pdGVtLXByZXYnLFxuICAgICAgICAgICAgSU5ESUNBVE9SUzogJy5jYXJvdXNlbC1pbmRpY2F0b3JzJyxcbiAgICAgICAgICAgIERBVEFfU0xJREU6ICdbZGF0YS1zbGlkZV0sIFtkYXRhLXNsaWRlLXRvXScsXG4gICAgICAgICAgICBEQVRBX1JJREU6ICdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgICAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBDYXJvdXNlbCA9XG4gICAgICAgICAgICAvKiNfX1BVUkVfXyovXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBDYXJvdXNlbChlbGVtZW50LCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXRlbXMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1NsaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3VjaFRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9ICQkJDEoZWxlbWVudClbMF07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGljYXRvcnNFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLklORElDQVRPUlMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgICAgICAgICAgICAgIHZhciBfcHJvdG8gPSBDYXJvdXNlbC5wcm90b3R5cGU7XG5cbiAgICAgICAgICAgICAgICAvLyBQdWJsaWNcbiAgICAgICAgICAgICAgICBfcHJvdG8ubmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5faXNTbGlkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zbGlkZShEaXJlY3Rpb24uTkVYVCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLm5leHRXaGVuVmlzaWJsZSA9IGZ1bmN0aW9uIG5leHRXaGVuVmlzaWJsZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgY2FsbCBuZXh0IHdoZW4gdGhlIHBhZ2UgaXNuJ3QgdmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICAvLyBvciB0aGUgY2Fyb3VzZWwgb3IgaXRzIHBhcmVudCBpc24ndCB2aXNpYmxlXG4gICAgICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuaGlkZGVuICYmICQkJDEodGhpcy5fZWxlbWVudCkuaXMoJzp2aXNpYmxlJykgJiYgJCQkMSh0aGlzLl9lbGVtZW50KS5jc3MoJ3Zpc2liaWxpdHknKSAhPT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5wcmV2ID0gZnVuY3Rpb24gcHJldigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1NsaWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NsaWRlKERpcmVjdGlvbi5QUkVWKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8ucGF1c2UgPSBmdW5jdGlvbiBwYXVzZShldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLk5FWFRfUFJFVikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFV0aWwudHJpZ2dlclRyYW5zaXRpb25FbmQodGhpcy5fZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN5Y2xlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ludGVydmFsID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmN5Y2xlID0gZnVuY3Rpb24gY3ljbGUoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29uZmlnLmludGVydmFsICYmICF0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID8gdGhpcy5uZXh0V2hlblZpc2libGUgOiB0aGlzLm5leHQpLmJpbmQodGhpcyksIHRoaXMuX2NvbmZpZy5pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLnRvID0gZnVuY3Rpb24gdG8oaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLkFDVElWRV9JVEVNKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLl9nZXRJdGVtSW5kZXgodGhpcy5fYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gdGhpcy5faXRlbXMubGVuZ3RoIC0gMSB8fCBpbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1NsaWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub25lKEV2ZW50LlNMSUQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy50byhpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVJbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3ljbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbmRleCA+IGFjdGl2ZUluZGV4ID8gRGlyZWN0aW9uLk5FWFQgOiBEaXJlY3Rpb24uUFJFVjtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zbGlkZShkaXJlY3Rpb24sIHRoaXMuX2l0ZW1zW2luZGV4XSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5vZmYoRVZFTlRfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMS5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsIERBVEFfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXRlbXMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzU2xpZGluZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRpY2F0b3JzRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfTsgLy8gUHJpdmF0ZVxuXG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIERlZmF1bHQsIGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUsIGNvbmZpZywgRGVmYXVsdFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2FkZEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29uZmlnLmtleWJvYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LktFWURPV04sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5fa2V5ZG93bihldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb25maWcucGF1c2UgPT09ICdob3ZlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub24oRXZlbnQuTU9VU0VFTlRFUiwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnBhdXNlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLm9uKEV2ZW50Lk1PVVNFTEVBVkUsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jeWNsZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYSB0b3VjaC1lbmFibGVkIGRldmljZSwgbW91c2VlbnRlci9sZWF2ZSBhcmUgZmlyZWQgYXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXJ0IG9mIHRoZSBtb3VzZSBjb21wYXRpYmlsaXR5IGV2ZW50cyBvbiBmaXJzdCB0YXAgLSB0aGUgY2Fyb3VzZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3b3VsZCBzdG9wIGN5Y2xpbmcgdW50aWwgdXNlciB0YXBwZWQgb3V0IG9mIGl0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhlcmUsIHdlIGxpc3RlbiBmb3IgdG91Y2hlbmQsIGV4cGxpY2l0bHkgcGF1c2UgdGhlIGNhcm91c2VsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKGFzIGlmIGl0J3MgdGhlIHNlY29uZCB0aW1lIHdlIHRhcCBvbiBpdCwgbW91c2VlbnRlciBjb21wYXQgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpcyBOT1QgZmlyZWQpIGFuZCBhZnRlciBhIHRpbWVvdXQgKHRvIGFsbG93IGZvciBtb3VzZSBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnRzIHRvIGZpcmUpIHdlIGV4cGxpY2l0bHkgcmVzdGFydCBjeWNsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5vbihFdmVudC5UT1VDSEVORCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5wYXVzZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIudG91Y2hUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMyLnRvdWNoVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudG91Y2hUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jeWNsZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIFRPVUNIRVZFTlRfQ09NUEFUX1dBSVQgKyBfdGhpczIuX2NvbmZpZy5pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9rZXlkb3duID0gZnVuY3Rpb24gX2tleWRvd24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZXZlbnQudGFyZ2V0LnRhZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEFSUk9XX0xFRlRfS0VZQ09ERTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEFSUk9XX1JJR0hUX0tFWUNPREU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2dldEl0ZW1JbmRleCA9IGZ1bmN0aW9uIF9nZXRJdGVtSW5kZXgoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdGVtcyA9IGVsZW1lbnQgJiYgZWxlbWVudC5wYXJlbnROb2RlID8gW10uc2xpY2UuY2FsbChlbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5JVEVNKSkgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zLmluZGV4T2YoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fZ2V0SXRlbUJ5RGlyZWN0aW9uID0gZnVuY3Rpb24gX2dldEl0ZW1CeURpcmVjdGlvbihkaXJlY3Rpb24sIGFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzTmV4dERpcmVjdGlvbiA9IGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLk5FWFQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1ByZXZEaXJlY3Rpb24gPSBkaXJlY3Rpb24gPT09IERpcmVjdGlvbi5QUkVWO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleChhY3RpdmVFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdEl0ZW1JbmRleCA9IHRoaXMuX2l0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc0dvaW5nVG9XcmFwID0gaXNQcmV2RGlyZWN0aW9uICYmIGFjdGl2ZUluZGV4ID09PSAwIHx8IGlzTmV4dERpcmVjdGlvbiAmJiBhY3RpdmVJbmRleCA9PT0gbGFzdEl0ZW1JbmRleDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNHb2luZ1RvV3JhcCAmJiAhdGhpcy5fY29uZmlnLndyYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uUFJFViA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1JbmRleCA9IChhY3RpdmVJbmRleCArIGRlbHRhKSAlIHRoaXMuX2l0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1JbmRleCA9PT0gLTEgPyB0aGlzLl9pdGVtc1t0aGlzLl9pdGVtcy5sZW5ndGggLSAxXSA6IHRoaXMuX2l0ZW1zW2l0ZW1JbmRleF07XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fdHJpZ2dlclNsaWRlRXZlbnQgPSBmdW5jdGlvbiBfdHJpZ2dlclNsaWRlRXZlbnQocmVsYXRlZFRhcmdldCwgZXZlbnREaXJlY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRJbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleChyZWxhdGVkVGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZnJvbUluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5BQ1RJVkVfSVRFTSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZUV2ZW50ID0gJCQkMS5FdmVudChFdmVudC5TTElERSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZXZlbnREaXJlY3Rpb25OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogZnJvbUluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG86IHRhcmdldEluZGV4XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2xpZGVFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzbGlkZUV2ZW50O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQgPSBmdW5jdGlvbiBfc2V0QWN0aXZlSW5kaWNhdG9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbmRpY2F0b3JzRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGljYXRvcnMgPSBbXS5zbGljZS5jYWxsKHRoaXMuX2luZGljYXRvcnNFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuQUNUSVZFKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGluZGljYXRvcnMpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5BQ1RJVkUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dEluZGljYXRvciA9IHRoaXMuX2luZGljYXRvcnNFbGVtZW50LmNoaWxkcmVuW3RoaXMuX2dldEl0ZW1JbmRleChlbGVtZW50KV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0SW5kaWNhdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShuZXh0SW5kaWNhdG9yKS5hZGRDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX3NsaWRlID0gZnVuY3Rpb24gX3NsaWRlKGRpcmVjdGlvbiwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5BQ1RJVkVfSVRFTSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUVsZW1lbnRJbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleChhY3RpdmVFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dEVsZW1lbnQgPSBlbGVtZW50IHx8IGFjdGl2ZUVsZW1lbnQgJiYgdGhpcy5fZ2V0SXRlbUJ5RGlyZWN0aW9uKGRpcmVjdGlvbiwgYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRFbGVtZW50SW5kZXggPSB0aGlzLl9nZXRJdGVtSW5kZXgobmV4dEVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpc0N5Y2xpbmcgPSBCb29sZWFuKHRoaXMuX2ludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbmFsQ2xhc3NOYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3JkZXJDbGFzc05hbWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudERpcmVjdGlvbk5hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLk5FWFQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbmFsQ2xhc3NOYW1lID0gQ2xhc3NOYW1lLkxFRlQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlckNsYXNzTmFtZSA9IENsYXNzTmFtZS5ORVhUO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnREaXJlY3Rpb25OYW1lID0gRGlyZWN0aW9uLkxFRlQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb25hbENsYXNzTmFtZSA9IENsYXNzTmFtZS5SSUdIVDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyQ2xhc3NOYW1lID0gQ2xhc3NOYW1lLlBSRVY7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudERpcmVjdGlvbk5hbWUgPSBEaXJlY3Rpb24uUklHSFQ7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEVsZW1lbnQgJiYgJCQkMShuZXh0RWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzU2xpZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNsaWRlRXZlbnQgPSB0aGlzLl90cmlnZ2VyU2xpZGVFdmVudChuZXh0RWxlbWVudCwgZXZlbnREaXJlY3Rpb25OYW1lKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2xpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhY3RpdmVFbGVtZW50IHx8ICFuZXh0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU29tZSB3ZWlyZG5lc3MgaXMgaGFwcGVuaW5nLCBzbyB3ZSBiYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1NsaWRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0N5Y2xpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQobmV4dEVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzbGlkRXZlbnQgPSAkJCQxLkV2ZW50KEV2ZW50LlNMSUQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IG5leHRFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBldmVudERpcmVjdGlvbk5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBhY3RpdmVFbGVtZW50SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogbmV4dEVsZW1lbnRJbmRleFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJCQkMSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuU0xJREUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKG5leHRFbGVtZW50KS5hZGRDbGFzcyhvcmRlckNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBVdGlsLnJlZmxvdyhuZXh0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGFjdGl2ZUVsZW1lbnQpLmFkZENsYXNzKGRpcmVjdGlvbmFsQ2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEobmV4dEVsZW1lbnQpLmFkZENsYXNzKGRpcmVjdGlvbmFsQ2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGFjdGl2ZUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShhY3RpdmVFbGVtZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShuZXh0RWxlbWVudCkucmVtb3ZlQ2xhc3MoZGlyZWN0aW9uYWxDbGFzc05hbWUgKyBcIiBcIiArIG9yZGVyQ2xhc3NOYW1lKS5hZGRDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGFjdGl2ZUVsZW1lbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5BQ1RJVkUgKyBcIiBcIiArIG9yZGVyQ2xhc3NOYW1lICsgXCIgXCIgKyBkaXJlY3Rpb25hbENsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLl9pc1NsaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCQkMShfdGhpczMuX2VsZW1lbnQpLnRyaWdnZXIoc2xpZEV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGFjdGl2ZUVsZW1lbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5BQ1RJVkUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShuZXh0RWxlbWVudCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1NsaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkudHJpZ2dlcihzbGlkRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ3ljbGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jeWNsZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTsgLy8gU3RhdGljXG5cblxuICAgICAgICAgICAgICAgIENhcm91c2VsLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkJCQxKHRoaXMpLmRhdGEoREFUQV9LRVkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2NvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIERlZmF1bHQsICQkJDEodGhpcykuZGF0YSgpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIF9jb25maWcsIGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSB0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJyA/IGNvbmZpZyA6IF9jb25maWcuc2xpZGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBuZXcgQ2Fyb3VzZWwodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS50byhjb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVthY3Rpb25dID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGFjdGlvbiArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2FjdGlvbl0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX2NvbmZpZy5pbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucGF1c2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmN5Y2xlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBDYXJvdXNlbC5fZGF0YUFwaUNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIF9kYXRhQXBpQ2xpY2tIYW5kbGVyKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJCQkMShzZWxlY3RvcilbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQgfHwgISQkJDEodGFyZ2V0KS5oYXNDbGFzcyhDbGFzc05hbWUuQ0FST1VTRUwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgJCQkMSh0YXJnZXQpLmRhdGEoKSwgJCQkMSh0aGlzKS5kYXRhKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZUluZGV4ID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2xpZGUtdG8nKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmludGVydmFsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBDYXJvdXNlbC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJCQkMSh0YXJnZXQpLCBjb25maWcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRhcmdldCkuZGF0YShEQVRBX0tFWSkudG8oc2xpZGVJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfY3JlYXRlQ2xhc3MoQ2Fyb3VzZWwsIG51bGwsIFt7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJEZWZhdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gQ2Fyb3VzZWw7XG4gICAgICAgICAgICB9KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogRGF0YSBBcGkgaW1wbGVtZW50YXRpb25cbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgJCQkMShkb2N1bWVudCkub24oRXZlbnQuQ0xJQ0tfREFUQV9BUEksIFNlbGVjdG9yLkRBVEFfU0xJREUsIENhcm91c2VsLl9kYXRhQXBpQ2xpY2tIYW5kbGVyKTtcbiAgICAgICAgJCQkMSh3aW5kb3cpLm9uKEV2ZW50LkxPQURfREFUQV9BUEksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNhcm91c2VscyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5EQVRBX1JJREUpKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNhcm91c2Vscy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciAkY2Fyb3VzZWwgPSAkJCQxKGNhcm91c2Vsc1tpXSk7XG5cbiAgICAgICAgICAgICAgICBDYXJvdXNlbC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJGNhcm91c2VsLCAkY2Fyb3VzZWwuZGF0YSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogalF1ZXJ5XG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cblxuICAgICAgICAkJCQxLmZuW05BTUVdID0gQ2Fyb3VzZWwuX2pRdWVyeUludGVyZmFjZTtcbiAgICAgICAgJCQkMS5mbltOQU1FXS5Db25zdHJ1Y3RvciA9IENhcm91c2VsO1xuXG4gICAgICAgICQkJDEuZm5bTkFNRV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCQkMS5mbltOQU1FXSA9IEpRVUVSWV9OT19DT05GTElDVDtcbiAgICAgICAgICAgIHJldHVybiBDYXJvdXNlbC5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBDYXJvdXNlbDtcbiAgICB9KCQpO1xuXG4gICAgLyoqXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBCb290c3RyYXAgKHY0LjEuMik6IGNvbGxhcHNlLmpzXG4gICAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqL1xuXG4gICAgdmFyIENvbGxhcHNlID0gZnVuY3Rpb24oJCQkMSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIENvbnN0YW50c1xuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBOQU1FID0gJ2NvbGxhcHNlJztcbiAgICAgICAgdmFyIFZFUlNJT04gPSAnNC4xLjInO1xuICAgICAgICB2YXIgREFUQV9LRVkgPSAnYnMuY29sbGFwc2UnO1xuICAgICAgICB2YXIgRVZFTlRfS0VZID0gXCIuXCIgKyBEQVRBX0tFWTtcbiAgICAgICAgdmFyIERBVEFfQVBJX0tFWSA9ICcuZGF0YS1hcGknO1xuICAgICAgICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUID0gJCQkMS5mbltOQU1FXTtcbiAgICAgICAgdmFyIERlZmF1bHQgPSB7XG4gICAgICAgICAgICB0b2dnbGU6IHRydWUsXG4gICAgICAgICAgICBwYXJlbnQ6ICcnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBEZWZhdWx0VHlwZSA9IHtcbiAgICAgICAgICAgIHRvZ2dsZTogJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgcGFyZW50OiAnKHN0cmluZ3xlbGVtZW50KSdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIEV2ZW50ID0ge1xuICAgICAgICAgICAgU0hPVzogXCJzaG93XCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBTSE9XTjogXCJzaG93blwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgSElERTogXCJoaWRlXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBISURERU46IFwiaGlkZGVuXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBDTElDS19EQVRBX0FQSTogXCJjbGlja1wiICsgRVZFTlRfS0VZICsgREFUQV9BUElfS0VZXG4gICAgICAgIH07XG4gICAgICAgIHZhciBDbGFzc05hbWUgPSB7XG4gICAgICAgICAgICBTSE9XOiAnc2hvdycsXG4gICAgICAgICAgICBDT0xMQVBTRTogJ2NvbGxhcHNlJyxcbiAgICAgICAgICAgIENPTExBUFNJTkc6ICdjb2xsYXBzaW5nJyxcbiAgICAgICAgICAgIENPTExBUFNFRDogJ2NvbGxhcHNlZCdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIERpbWVuc2lvbiA9IHtcbiAgICAgICAgICAgIFdJRFRIOiAnd2lkdGgnLFxuICAgICAgICAgICAgSEVJR0hUOiAnaGVpZ2h0J1xuICAgICAgICB9O1xuICAgICAgICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgICAgICAgICBBQ1RJVkVTOiAnLnNob3csIC5jb2xsYXBzaW5nJyxcbiAgICAgICAgICAgIERBVEFfVE9HR0xFOiAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl0nXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgICAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBDb2xsYXBzZSA9XG4gICAgICAgICAgICAvKiNfX1BVUkVfXyovXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBDb2xsYXBzZShlbGVtZW50LCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckFycmF5ID0gJCQkMS5tYWtlQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXRvZ2dsZT1cXFwiY29sbGFwc2VcXFwiXVtocmVmPVxcXCIjXCIgKyBlbGVtZW50LmlkICsgXCJcXFwiXSxcIiArIChcIltkYXRhLXRvZ2dsZT1cXFwiY29sbGFwc2VcXFwiXVtkYXRhLXRhcmdldD1cXFwiI1wiICsgZWxlbWVudC5pZCArIFwiXFxcIl1cIikpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvZ2dsZUxpc3QgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuREFUQV9UT0dHTEUpKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdG9nZ2xlTGlzdC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0gPSB0b2dnbGVMaXN0W2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlckVsZW1lbnQgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKS5maWx0ZXIoZnVuY3Rpb24oZm91bmRFbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kRWxlbSA9PT0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3IgIT09IG51bGwgJiYgZmlsdGVyRWxlbWVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJBcnJheS5wdXNoKGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50ID0gdGhpcy5fY29uZmlnLnBhcmVudCA/IHRoaXMuX2dldFBhcmVudCgpIDogbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLl9lbGVtZW50LCB0aGlzLl90cmlnZ2VyQXJyYXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy50b2dnbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgICAgICAgICAgICAgdmFyIF9wcm90byA9IENvbGxhcHNlLnByb3RvdHlwZTtcblxuICAgICAgICAgICAgICAgIC8vIFB1YmxpY1xuICAgICAgICAgICAgICAgIF9wcm90by50b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkJCQxKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5TSE9XKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzVHJhbnNpdGlvbmluZyB8fCAkJCQxKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5TSE9XKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVzRGF0YTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVzID0gW10uc2xpY2UuY2FsbCh0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5BQ1RJVkVTKSkuZmlsdGVyKGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFyZW50JykgPT09IF90aGlzLl9jb25maWcucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZXMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZXNEYXRhID0gJCQkMShhY3RpdmVzKS5ub3QodGhpcy5fc2VsZWN0b3IpLmRhdGEoREFUQV9LRVkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlc0RhdGEgJiYgYWN0aXZlc0RhdGEuX2lzVHJhbnNpdGlvbmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFydEV2ZW50ID0gJCQkMS5FdmVudChFdmVudC5TSE9XKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHN0YXJ0RXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgQ29sbGFwc2UuX2pRdWVyeUludGVyZmFjZS5jYWxsKCQkJDEoYWN0aXZlcykubm90KHRoaXMuX3NlbGVjdG9yKSwgJ2hpZGUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhY3RpdmVzRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoYWN0aXZlcykuZGF0YShEQVRBX0tFWSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5fZ2V0RGltZW5zaW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuQ09MTEFQU0UpLmFkZENsYXNzKENsYXNzTmFtZS5DT0xMQVBTSU5HKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZVtkaW1lbnNpb25dID0gMDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fdHJpZ2dlckFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl90cmlnZ2VyQXJyYXkpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5DT0xMQVBTRUQpLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNpdGlvbmluZyh0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoX3RoaXMuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5DT0xMQVBTSU5HKS5hZGRDbGFzcyhDbGFzc05hbWUuQ09MTEFQU0UpLmFkZENsYXNzKENsYXNzTmFtZS5TSE9XKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSAnJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0VHJhbnNpdGlvbmluZyhmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoX3RoaXMuX2VsZW1lbnQpLnRyaWdnZXIoRXZlbnQuU0hPV04pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYXBpdGFsaXplZERpbWVuc2lvbiA9IGRpbWVuc2lvblswXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsU2l6ZSA9IFwic2Nyb2xsXCIgKyBjYXBpdGFsaXplZERpbWVuc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSB0aGlzLl9lbGVtZW50W3Njcm9sbFNpemVdICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uaGlkZSA9IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1RyYW5zaXRpb25pbmcgfHwgISQkJDEodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRFdmVudCA9ICQkJDEuRXZlbnQoRXZlbnQuSElERSk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkudHJpZ2dlcihzdGFydEV2ZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuX2dldERpbWVuc2lvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGVbZGltZW5zaW9uXSA9IHRoaXMuX2VsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbZGltZW5zaW9uXSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgVXRpbC5yZWZsb3codGhpcy5fZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLkNPTExBUFNJTkcpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5DT0xMQVBTRSkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJpZ2dlckFycmF5TGVuZ3RoID0gdGhpcy5fdHJpZ2dlckFycmF5Lmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckFycmF5TGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmlnZ2VyQXJyYXlMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmlnZ2VyID0gdGhpcy5fdHJpZ2dlckFycmF5W2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0cmlnZ2VyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGVsZW0gPSAkJCQxKFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISRlbGVtLmhhc0NsYXNzKENsYXNzTmFtZS5TSE9XKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0cmlnZ2VyKS5hZGRDbGFzcyhDbGFzc05hbWUuQ09MTEFQU0VEKS5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUcmFuc2l0aW9uaW5nKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNldFRyYW5zaXRpb25pbmcoZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKF90aGlzMi5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkNPTExBUFNJTkcpLmFkZENsYXNzKENsYXNzTmFtZS5DT0xMQVBTRSkudHJpZ2dlcihFdmVudC5ISURERU4pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGVbZGltZW5zaW9uXSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5zZXRUcmFuc2l0aW9uaW5nID0gZnVuY3Rpb24gc2V0VHJhbnNpdGlvbmluZyhpc1RyYW5zaXRpb25pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gaXNUcmFuc2l0aW9uaW5nO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICAgICAgICAgICQkJDEucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbmZpZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyQXJyYXkgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBudWxsO1xuICAgICAgICAgICAgICAgIH07IC8vIFByaXZhdGVcblxuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCBEZWZhdWx0LCBjb25maWcpO1xuICAgICAgICAgICAgICAgICAgICBjb25maWcudG9nZ2xlID0gQm9vbGVhbihjb25maWcudG9nZ2xlKTsgLy8gQ29lcmNlIHN0cmluZyB2YWx1ZXNcblxuICAgICAgICAgICAgICAgICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FLCBjb25maWcsIERlZmF1bHRUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXREaW1lbnNpb24gPSBmdW5jdGlvbiBfZ2V0RGltZW5zaW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFzV2lkdGggPSAkJCQxKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKERpbWVuc2lvbi5XSURUSCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoYXNXaWR0aCA/IERpbWVuc2lvbi5XSURUSCA6IERpbWVuc2lvbi5IRUlHSFQ7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fZ2V0UGFyZW50ID0gZnVuY3Rpb24gX2dldFBhcmVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWwuaXNFbGVtZW50KHRoaXMuX2NvbmZpZy5wYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSB0aGlzLl9jb25maWcucGFyZW50OyAvLyBJdCdzIGEgalF1ZXJ5IG9iamVjdFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2NvbmZpZy5wYXJlbnQuanF1ZXJ5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IHRoaXMuX2NvbmZpZy5wYXJlbnRbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5wYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gXCJbZGF0YS10b2dnbGU9XFxcImNvbGxhcHNlXFxcIl1bZGF0YS1wYXJlbnQ9XFxcIlwiICsgdGhpcy5fY29uZmlnLnBhcmVudCArIFwiXFxcIl1cIjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gW10uc2xpY2UuY2FsbChwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKGNoaWxkcmVuKS5lYWNoKGZ1bmN0aW9uKGksIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKENvbGxhcHNlLl9nZXRUYXJnZXRGcm9tRWxlbWVudChlbGVtZW50KSwgW2VsZW1lbnRdKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzID0gZnVuY3Rpb24gX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhlbGVtZW50LCB0cmlnZ2VyQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc09wZW4gPSAkJCQxKGVsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRyaWdnZXJBcnJheSkudG9nZ2xlQ2xhc3MoQ2xhc3NOYW1lLkNPTExBUFNFRCwgIWlzT3BlbikuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3Blbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9OyAvLyBTdGF0aWNcblxuXG4gICAgICAgICAgICAgICAgQ29sbGFwc2UuX2dldFRhcmdldEZyb21FbGVtZW50ID0gZnVuY3Rpb24gX2dldFRhcmdldEZyb21FbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0b3IgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIENvbGxhcHNlLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCQkMSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJHRoaXMuZGF0YShEQVRBX0tFWSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgRGVmYXVsdCwgJHRoaXMuZGF0YSgpLCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWcgPyBjb25maWcgOiB7fSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSAmJiBfY29uZmlnLnRvZ2dsZSAmJiAvc2hvd3xoaWRlLy50ZXN0KGNvbmZpZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29uZmlnLnRvZ2dsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gbmV3IENvbGxhcHNlKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoREFUQV9LRVksIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfY3JlYXRlQ2xhc3MoQ29sbGFwc2UsIG51bGwsIFt7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJEZWZhdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gQ29sbGFwc2U7XG4gICAgICAgICAgICB9KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogRGF0YSBBcGkgaW1wbGVtZW50YXRpb25cbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgJCQkMShkb2N1bWVudCkub24oRXZlbnQuQ0xJQ0tfREFUQV9BUEksIFNlbGVjdG9yLkRBVEFfVE9HR0xFLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgLy8gcHJldmVudERlZmF1bHQgb25seSBmb3IgPGE+IGVsZW1lbnRzICh3aGljaCBjaGFuZ2UgdGhlIFVSTCkgbm90IGluc2lkZSB0aGUgY29sbGFwc2libGUgZWxlbWVudFxuICAgICAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQudGFnTmFtZSA9PT0gJ0EnKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyICR0cmlnZ2VyID0gJCQkMSh0aGlzKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RvcnMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbiAgICAgICAgICAgICQkJDEoc2VsZWN0b3JzKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciAkdGFyZ2V0ID0gJCQkMSh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9ICR0YXJnZXQuZGF0YShEQVRBX0tFWSk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IGRhdGEgPyAndG9nZ2xlJyA6ICR0cmlnZ2VyLmRhdGEoKTtcblxuICAgICAgICAgICAgICAgIENvbGxhcHNlLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkdGFyZ2V0LCBjb25maWcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIGpRdWVyeVxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG5cbiAgICAgICAgJCQkMS5mbltOQU1FXSA9IENvbGxhcHNlLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgICQkJDEuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBDb2xsYXBzZTtcblxuICAgICAgICAkJCQxLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQkJDEuZm5bTkFNRV0gPSBKUVVFUllfTk9fQ09ORkxJQ1Q7XG4gICAgICAgICAgICByZXR1cm4gQ29sbGFwc2UuX2pRdWVyeUludGVyZmFjZTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gQ29sbGFwc2U7XG4gICAgfSgkKTtcblxuICAgIC8qKiFcbiAgICAgKiBAZmlsZU92ZXJ2aWV3IEtpY2thc3MgbGlicmFyeSB0byBjcmVhdGUgYW5kIHBsYWNlIHBvcHBlcnMgbmVhciB0aGVpciByZWZlcmVuY2UgZWxlbWVudHMuXG4gICAgICogQHZlcnNpb24gMS4xNC4zXG4gICAgICogQGxpY2Vuc2VcbiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMTYgRmVkZXJpY28gWml2b2xvIGFuZCBjb250cmlidXRvcnNcbiAgICAgKlxuICAgICAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAgICAgKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gICAgICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICAgICAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAgICAgKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAgICAgKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICAgICAqXG4gICAgICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4gICAgICogY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAgICAgKlxuICAgICAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAgICAgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAgICAgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAgICAgKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gICAgICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAgICAgKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuICAgICAqIFNPRlRXQVJFLlxuICAgICAqL1xuICAgIHZhciBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG4gICAgdmFyIGxvbmdlclRpbWVvdXRCcm93c2VycyA9IFsnRWRnZScsICdUcmlkZW50JywgJ0ZpcmVmb3gnXTtcbiAgICB2YXIgdGltZW91dER1cmF0aW9uID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxvbmdlclRpbWVvdXRCcm93c2Vycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoaXNCcm93c2VyICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihsb25nZXJUaW1lb3V0QnJvd3NlcnNbaV0pID49IDApIHtcbiAgICAgICAgICAgIHRpbWVvdXREdXJhdGlvbiA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1pY3JvdGFza0RlYm91bmNlKGZuKSB7XG4gICAgICAgIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGNhbGxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB3aW5kb3cuUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGFza0RlYm91bmNlKGZuKSB7XG4gICAgICAgIHZhciBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCFzY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgICAgIH0sIHRpbWVvdXREdXJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIHN1cHBvcnRzTWljcm9UYXNrcyA9IGlzQnJvd3NlciAmJiB3aW5kb3cuUHJvbWlzZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGRlYm91bmNlZCB2ZXJzaW9uIG9mIGEgbWV0aG9kLCB0aGF0J3MgYXN5bmNocm9ub3VzbHkgZGVmZXJyZWRcbiAgICAgKiBidXQgY2FsbGVkIGluIHRoZSBtaW5pbXVtIHRpbWUgcG9zc2libGUuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICAgICAqIEBhcmd1bWVudCB7RnVuY3Rpb259IGZuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgICAqL1xuICAgIHZhciBkZWJvdW5jZSA9IHN1cHBvcnRzTWljcm9UYXNrcyA/IG1pY3JvdGFza0RlYm91bmNlIDogdGFza0RlYm91bmNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgZnVuY3Rpb25cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICAgICAqIEBhcmd1bWVudCB7QW55fSBmdW5jdGlvblRvQ2hlY2sgLSB2YXJpYWJsZSB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBhbnN3ZXIgdG86IGlzIGEgZnVuY3Rpb24/XG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbihmdW5jdGlvblRvQ2hlY2spIHtcbiAgICAgICAgdmFyIGdldFR5cGUgPSB7fTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uVG9DaGVjayAmJiBnZXRUeXBlLnRvU3RyaW5nLmNhbGwoZnVuY3Rpb25Ub0NoZWNrKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgQ1NTIGNvbXB1dGVkIHByb3BlcnR5IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAgICAgKiBAYXJndW1lbnQge0VlbWVudH0gZWxlbWVudFxuICAgICAqIEBhcmd1bWVudCB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50LCBwcm9wZXJ0eSkge1xuICAgICAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5PVEU6IDEgRE9NIGFjY2VzcyBoZXJlXG4gICAgICAgIHZhciBjc3MgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpO1xuICAgICAgICByZXR1cm4gcHJvcGVydHkgPyBjc3NbcHJvcGVydHldIDogY3NzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBhcmVudE5vZGUgb3IgdGhlIGhvc3Qgb2YgdGhlIGVsZW1lbnRcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICAgICAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fSBwYXJlbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRQYXJlbnROb2RlKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdIVE1MJykge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQucGFyZW50Tm9kZSB8fCBlbGVtZW50Lmhvc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2Nyb2xsaW5nIHBhcmVudCBvZiB0aGUgZ2l2ZW4gZWxlbWVudFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gICAgICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHJldHVybnMge0VsZW1lbnR9IHNjcm9sbCBwYXJlbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRTY3JvbGxQYXJlbnQoZWxlbWVudCkge1xuICAgICAgICAvLyBSZXR1cm4gYm9keSwgYGdldFNjcm9sbGAgd2lsbCB0YWtlIGNhcmUgdG8gZ2V0IHRoZSBjb3JyZWN0IGBzY3JvbGxUb3BgIGZyb20gaXRcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZWxlbWVudC5ub2RlTmFtZSkge1xuICAgICAgICAgICAgY2FzZSAnSFRNTCc6XG4gICAgICAgICAgICBjYXNlICdCT0RZJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5vd25lckRvY3VtZW50LmJvZHk7XG4gICAgICAgICAgICBjYXNlICcjZG9jdW1lbnQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmJvZHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJlZm94IHdhbnQgdXMgdG8gY2hlY2sgYC14YCBhbmQgYC15YCB2YXJpYXRpb25zIGFzIHdlbGxcblxuICAgICAgICB2YXIgX2dldFN0eWxlQ29tcHV0ZWRQcm9wID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQpLFxuICAgICAgICAgICAgb3ZlcmZsb3cgPSBfZ2V0U3R5bGVDb21wdXRlZFByb3Aub3ZlcmZsb3csXG4gICAgICAgICAgICBvdmVyZmxvd1ggPSBfZ2V0U3R5bGVDb21wdXRlZFByb3Aub3ZlcmZsb3dYLFxuICAgICAgICAgICAgb3ZlcmZsb3dZID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93WTtcblxuICAgICAgICBpZiAoLyhhdXRvfHNjcm9sbHxvdmVybGF5KS8udGVzdChvdmVyZmxvdyArIG92ZXJmbG93WSArIG92ZXJmbG93WCkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldFNjcm9sbFBhcmVudChnZXRQYXJlbnROb2RlKGVsZW1lbnQpKTtcbiAgICB9XG5cbiAgICB2YXIgaXNJRTExID0gaXNCcm93c2VyICYmICEhKHdpbmRvdy5NU0lucHV0TWV0aG9kQ29udGV4dCAmJiBkb2N1bWVudC5kb2N1bWVudE1vZGUpO1xuICAgIHZhciBpc0lFMTAgPSBpc0Jyb3dzZXIgJiYgL01TSUUgMTAvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBicm93c2VyIGlzIEludGVybmV0IEV4cGxvcmVyXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmVyc2lvbiB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBpc0lFXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJRSh2ZXJzaW9uKSB7XG4gICAgICAgIGlmICh2ZXJzaW9uID09PSAxMSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzSUUxMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmVyc2lvbiA9PT0gMTApIHtcbiAgICAgICAgICAgIHJldHVybiBpc0lFMTA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzSUUxMSB8fCBpc0lFMTA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgb2Zmc2V0IHBhcmVudCBvZiB0aGUgZ2l2ZW4gZWxlbWVudFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gICAgICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHJldHVybnMge0VsZW1lbnR9IG9mZnNldCBwYXJlbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudCkge1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbm9PZmZzZXRQYXJlbnQgPSBpc0lFKDEwKSA/IGRvY3VtZW50LmJvZHkgOiBudWxsO1xuXG4gICAgICAgIC8vIE5PVEU6IDEgRE9NIGFjY2VzcyBoZXJlXG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDtcbiAgICAgICAgLy8gU2tpcCBoaWRkZW4gZWxlbWVudHMgd2hpY2ggZG9uJ3QgaGF2ZSBhbiBvZmZzZXRQYXJlbnRcbiAgICAgICAgd2hpbGUgKG9mZnNldFBhcmVudCA9PT0gbm9PZmZzZXRQYXJlbnQgJiYgZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgICAgICAgIG9mZnNldFBhcmVudCA9IChlbGVtZW50ID0gZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpLm9mZnNldFBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBub2RlTmFtZSA9IG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQubm9kZU5hbWU7XG5cbiAgICAgICAgaWYgKCFub2RlTmFtZSB8fCBub2RlTmFtZSA9PT0gJ0JPRFknIHx8IG5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50ID8gZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC5vZmZzZXRQYXJlbnQgd2lsbCByZXR1cm4gdGhlIGNsb3Nlc3QgVEQgb3IgVEFCTEUgaW4gY2FzZVxuICAgICAgICAvLyBubyBvZmZzZXRQYXJlbnQgaXMgcHJlc2VudCwgSSBoYXRlIHRoaXMgam9iLi4uXG4gICAgICAgIGlmIChbJ1REJywgJ1RBQkxFJ10uaW5kZXhPZihvZmZzZXRQYXJlbnQubm9kZU5hbWUpICE9PSAtMSAmJiBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkob2Zmc2V0UGFyZW50LCAncG9zaXRpb24nKSA9PT0gJ3N0YXRpYycpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRPZmZzZXRQYXJlbnQob2Zmc2V0UGFyZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvZmZzZXRQYXJlbnQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNPZmZzZXRDb250YWluZXIoZWxlbWVudCkge1xuICAgICAgICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuXG4gICAgICAgIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGVOYW1lID09PSAnSFRNTCcgfHwgZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQpID09PSBlbGVtZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSByb290IG5vZGUgKGRvY3VtZW50LCBzaGFkb3dET00gcm9vdCkgb2YgdGhlIGdpdmVuIGVsZW1lbnRcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICAgICAqIEBhcmd1bWVudCB7RWxlbWVudH0gbm9kZVxuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fSByb290IG5vZGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRSb290KG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFJvb3Qobm9kZS5wYXJlbnROb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBvZmZzZXQgcGFyZW50IGNvbW1vbiB0byB0aGUgdHdvIHByb3ZpZGVkIG5vZGVzXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAgICAgKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQxXG4gICAgICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50MlxuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fSBjb21tb24gb2Zmc2V0IHBhcmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRDb21tb25PZmZzZXRQYXJlbnQoZWxlbWVudDEsIGVsZW1lbnQyKSB7XG4gICAgICAgIC8vIFRoaXMgY2hlY2sgaXMgbmVlZGVkIHRvIGF2b2lkIGVycm9ycyBpbiBjYXNlIG9uZSBvZiB0aGUgZWxlbWVudHMgaXNuJ3QgZGVmaW5lZCBmb3IgYW55IHJlYXNvblxuICAgICAgICBpZiAoIWVsZW1lbnQxIHx8ICFlbGVtZW50MS5ub2RlVHlwZSB8fCAhZWxlbWVudDIgfHwgIWVsZW1lbnQyLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGVyZSB3ZSBtYWtlIHN1cmUgdG8gZ2l2ZSBhcyBcInN0YXJ0XCIgdGhlIGVsZW1lbnQgdGhhdCBjb21lcyBmaXJzdCBpbiB0aGUgRE9NXG4gICAgICAgIHZhciBvcmRlciA9IGVsZW1lbnQxLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGVsZW1lbnQyKSAmIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fRk9MTE9XSU5HO1xuICAgICAgICB2YXIgc3RhcnQgPSBvcmRlciA/IGVsZW1lbnQxIDogZWxlbWVudDI7XG4gICAgICAgIHZhciBlbmQgPSBvcmRlciA/IGVsZW1lbnQyIDogZWxlbWVudDE7XG5cbiAgICAgICAgLy8gR2V0IGNvbW1vbiBhbmNlc3RvciBjb250YWluZXJcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoc3RhcnQsIDApO1xuICAgICAgICByYW5nZS5zZXRFbmQoZW5kLCAwKTtcbiAgICAgICAgdmFyIGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG5cbiAgICAgICAgLy8gQm90aCBub2RlcyBhcmUgaW5zaWRlICNkb2N1bWVudFxuXG4gICAgICAgIGlmIChlbGVtZW50MSAhPT0gY29tbW9uQW5jZXN0b3JDb250YWluZXIgJiYgZWxlbWVudDIgIT09IGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIHx8IHN0YXJ0LmNvbnRhaW5zKGVuZCkpIHtcbiAgICAgICAgICAgIGlmIChpc09mZnNldENvbnRhaW5lcihjb21tb25BbmNlc3RvckNvbnRhaW5lcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBnZXRPZmZzZXRQYXJlbnQoY29tbW9uQW5jZXN0b3JDb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb25lIG9mIHRoZSBub2RlcyBpcyBpbnNpZGUgc2hhZG93RE9NLCBmaW5kIHdoaWNoIG9uZVxuICAgICAgICB2YXIgZWxlbWVudDFyb290ID0gZ2V0Um9vdChlbGVtZW50MSk7XG4gICAgICAgIGlmIChlbGVtZW50MXJvb3QuaG9zdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbmRDb21tb25PZmZzZXRQYXJlbnQoZWxlbWVudDFyb290Lmhvc3QsIGVsZW1lbnQyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxLCBnZXRSb290KGVsZW1lbnQyKS5ob3N0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNjcm9sbCB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudCBpbiB0aGUgZ2l2ZW4gc2lkZSAodG9wIGFuZCBsZWZ0KVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gICAgICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gICAgICogQGFyZ3VtZW50IHtTdHJpbmd9IHNpZGUgYHRvcGAgb3IgYGxlZnRgXG4gICAgICogQHJldHVybnMge251bWJlcn0gYW1vdW50IG9mIHNjcm9sbGVkIHBpeGVsc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFNjcm9sbChlbGVtZW50KSB7XG4gICAgICAgIHZhciBzaWRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAndG9wJztcblxuICAgICAgICB2YXIgdXBwZXJTaWRlID0gc2lkZSA9PT0gJ3RvcCcgPyAnc2Nyb2xsVG9wJyA6ICdzY3JvbGxMZWZ0JztcbiAgICAgICAgdmFyIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZTtcblxuICAgICAgICBpZiAobm9kZU5hbWUgPT09ICdCT0RZJyB8fCBub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgICAgICAgICB2YXIgaHRtbCA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsaW5nRWxlbWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IHx8IGh0bWw7XG4gICAgICAgICAgICByZXR1cm4gc2Nyb2xsaW5nRWxlbWVudFt1cHBlclNpZGVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRbdXBwZXJTaWRlXTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFN1bSBvciBzdWJ0cmFjdCB0aGUgZWxlbWVudCBzY3JvbGwgdmFsdWVzIChsZWZ0IGFuZCB0b3ApIGZyb20gYSBnaXZlbiByZWN0IG9iamVjdFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlY3QgLSBSZWN0IG9iamVjdCB5b3Ugd2FudCB0byBjaGFuZ2VcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgZnJvbSB0aGUgZnVuY3Rpb24gcmVhZHMgdGhlIHNjcm9sbCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHN1YnRyYWN0IC0gc2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdG8gc3VidHJhY3QgdGhlIHNjcm9sbCB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHJlY3QgLSBUaGUgbW9kaWZpZXIgcmVjdCBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmNsdWRlU2Nyb2xsKHJlY3QsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHN1YnRyYWN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICAgICAgICB2YXIgc2Nyb2xsVG9wID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICd0b3AnKTtcbiAgICAgICAgdmFyIHNjcm9sbExlZnQgPSBnZXRTY3JvbGwoZWxlbWVudCwgJ2xlZnQnKTtcbiAgICAgICAgdmFyIG1vZGlmaWVyID0gc3VidHJhY3QgPyAtMSA6IDE7XG4gICAgICAgIHJlY3QudG9wICs9IHNjcm9sbFRvcCAqIG1vZGlmaWVyO1xuICAgICAgICByZWN0LmJvdHRvbSArPSBzY3JvbGxUb3AgKiBtb2RpZmllcjtcbiAgICAgICAgcmVjdC5sZWZ0ICs9IHNjcm9sbExlZnQgKiBtb2RpZmllcjtcbiAgICAgICAgcmVjdC5yaWdodCArPSBzY3JvbGxMZWZ0ICogbW9kaWZpZXI7XG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH1cblxuICAgIC8qXG4gICAgICogSGVscGVyIHRvIGRldGVjdCBib3JkZXJzIG9mIGEgZ2l2ZW4gZWxlbWVudFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gICAgICogQHBhcmFtIHtDU1NTdHlsZURlY2xhcmF0aW9ufSBzdHlsZXNcbiAgICAgKiBSZXN1bHQgb2YgYGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eWAgb24gdGhlIGdpdmVuIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXhpcyAtIGB4YCBvciBgeWBcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGJvcmRlcnMgLSBUaGUgYm9yZGVycyBzaXplIG9mIHRoZSBnaXZlbiBheGlzXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBnZXRCb3JkZXJzU2l6ZShzdHlsZXMsIGF4aXMpIHtcbiAgICAgICAgdmFyIHNpZGVBID0gYXhpcyA9PT0gJ3gnID8gJ0xlZnQnIDogJ1RvcCc7XG4gICAgICAgIHZhciBzaWRlQiA9IHNpZGVBID09PSAnTGVmdCcgPyAnUmlnaHQnIDogJ0JvdHRvbSc7XG5cbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoc3R5bGVzWydib3JkZXInICsgc2lkZUEgKyAnV2lkdGgnXSwgMTApICsgcGFyc2VGbG9hdChzdHlsZXNbJ2JvcmRlcicgKyBzaWRlQiArICdXaWR0aCddLCAxMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2l6ZShheGlzLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChib2R5WydvZmZzZXQnICsgYXhpc10sIGJvZHlbJ3Njcm9sbCcgKyBheGlzXSwgaHRtbFsnY2xpZW50JyArIGF4aXNdLCBodG1sWydvZmZzZXQnICsgYXhpc10sIGh0bWxbJ3Njcm9sbCcgKyBheGlzXSwgaXNJRSgxMCkgPyBodG1sWydvZmZzZXQnICsgYXhpc10gKyBjb21wdXRlZFN0eWxlWydtYXJnaW4nICsgKGF4aXMgPT09ICdIZWlnaHQnID8gJ1RvcCcgOiAnTGVmdCcpXSArIGNvbXB1dGVkU3R5bGVbJ21hcmdpbicgKyAoYXhpcyA9PT0gJ0hlaWdodCcgPyAnQm90dG9tJyA6ICdSaWdodCcpXSA6IDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFdpbmRvd1NpemVzKCkge1xuICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIHZhciBodG1sID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB2YXIgY29tcHV0ZWRTdHlsZSA9IGlzSUUoMTApICYmIGdldENvbXB1dGVkU3R5bGUoaHRtbCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlaWdodDogZ2V0U2l6ZSgnSGVpZ2h0JywgYm9keSwgaHRtbCwgY29tcHV0ZWRTdHlsZSksXG4gICAgICAgICAgICB3aWR0aDogZ2V0U2l6ZSgnV2lkdGgnLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgICAgICAgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICAgICAgICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgICAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgICAgICB9O1xuICAgIH0oKTtcblxuXG5cblxuXG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24ob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcblxuICAgIHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBlbGVtZW50IG9mZnNldHMsIGdlbmVyYXRlIGFuIG91dHB1dCBzaW1pbGFyIHRvIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gICAgICogQGFyZ3VtZW50IHtPYmplY3R9IG9mZnNldHNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBDbGllbnRSZWN0IGxpa2Ugb3V0cHV0XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdChvZmZzZXRzKSB7XG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgb2Zmc2V0cywge1xuICAgICAgICAgICAgcmlnaHQ6IG9mZnNldHMubGVmdCArIG9mZnNldHMud2lkdGgsXG4gICAgICAgICAgICBib3R0b206IG9mZnNldHMudG9wICsgb2Zmc2V0cy5oZWlnaHRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGJvdW5kaW5nIGNsaWVudCByZWN0IG9mIGdpdmVuIGVsZW1lbnRcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGNsaWVudCByZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHJlY3QgPSB7fTtcblxuICAgICAgICAvLyBJRTEwIDEwIEZJWDogUGxlYXNlLCBkb24ndCBhc2ssIHRoZSBlbGVtZW50IGlzbid0XG4gICAgICAgIC8vIGNvbnNpZGVyZWQgaW4gRE9NIGluIHNvbWUgY2lyY3Vtc3RhbmNlcy4uLlxuICAgICAgICAvLyBUaGlzIGlzbid0IHJlcHJvZHVjaWJsZSBpbiBJRTEwIGNvbXBhdGliaWxpdHkgbW9kZSBvZiBJRTExXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoaXNJRSgxMCkpIHtcbiAgICAgICAgICAgICAgICByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICd0b3AnKTtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IGdldFNjcm9sbChlbGVtZW50LCAnbGVmdCcpO1xuICAgICAgICAgICAgICAgIHJlY3QudG9wICs9IHNjcm9sbFRvcDtcbiAgICAgICAgICAgICAgICByZWN0LmxlZnQgKz0gc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgICByZWN0LmJvdHRvbSArPSBzY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgcmVjdC5yaWdodCArPSBzY3JvbGxMZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0LFxuICAgICAgICAgICAgdG9wOiByZWN0LnRvcCxcbiAgICAgICAgICAgIHdpZHRoOiByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0LFxuICAgICAgICAgICAgaGVpZ2h0OiByZWN0LmJvdHRvbSAtIHJlY3QudG9wXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc3VidHJhY3Qgc2Nyb2xsYmFyIHNpemUgZnJvbSBzaXplc1xuICAgICAgICB2YXIgc2l6ZXMgPSBlbGVtZW50Lm5vZGVOYW1lID09PSAnSFRNTCcgPyBnZXRXaW5kb3dTaXplcygpIDoge307XG4gICAgICAgIHZhciB3aWR0aCA9IHNpemVzLndpZHRoIHx8IGVsZW1lbnQuY2xpZW50V2lkdGggfHwgcmVzdWx0LnJpZ2h0IC0gcmVzdWx0LmxlZnQ7XG4gICAgICAgIHZhciBoZWlnaHQgPSBzaXplcy5oZWlnaHQgfHwgZWxlbWVudC5jbGllbnRIZWlnaHQgfHwgcmVzdWx0LmJvdHRvbSAtIHJlc3VsdC50b3A7XG5cbiAgICAgICAgdmFyIGhvcml6U2Nyb2xsYmFyID0gZWxlbWVudC5vZmZzZXRXaWR0aCAtIHdpZHRoO1xuICAgICAgICB2YXIgdmVydFNjcm9sbGJhciA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0IC0gaGVpZ2h0O1xuXG4gICAgICAgIC8vIGlmIGFuIGh5cG90aGV0aWNhbCBzY3JvbGxiYXIgaXMgZGV0ZWN0ZWQsIHdlIG11c3QgYmUgc3VyZSBpdCdzIG5vdCBhIGBib3JkZXJgXG4gICAgICAgIC8vIHdlIG1ha2UgdGhpcyBjaGVjayBjb25kaXRpb25hbCBmb3IgcGVyZm9ybWFuY2UgcmVhc29uc1xuICAgICAgICBpZiAoaG9yaXpTY3JvbGxiYXIgfHwgdmVydFNjcm9sbGJhcikge1xuICAgICAgICAgICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50KTtcbiAgICAgICAgICAgIGhvcml6U2Nyb2xsYmFyIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3gnKTtcbiAgICAgICAgICAgIHZlcnRTY3JvbGxiYXIgLT0gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCAneScpO1xuXG4gICAgICAgICAgICByZXN1bHQud2lkdGggLT0gaG9yaXpTY3JvbGxiYXI7XG4gICAgICAgICAgICByZXN1bHQuaGVpZ2h0IC09IHZlcnRTY3JvbGxiYXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2V0Q2xpZW50UmVjdChyZXN1bHQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZShjaGlsZHJlbiwgcGFyZW50KSB7XG4gICAgICAgIHZhciBmaXhlZFBvc2l0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICAgICAgICB2YXIgaXNJRTEwID0gaXNJRSgxMCk7XG4gICAgICAgIHZhciBpc0hUTUwgPSBwYXJlbnQubm9kZU5hbWUgPT09ICdIVE1MJztcbiAgICAgICAgdmFyIGNoaWxkcmVuUmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChjaGlsZHJlbik7XG4gICAgICAgIHZhciBwYXJlbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHBhcmVudCk7XG4gICAgICAgIHZhciBzY3JvbGxQYXJlbnQgPSBnZXRTY3JvbGxQYXJlbnQoY2hpbGRyZW4pO1xuXG4gICAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkocGFyZW50KTtcbiAgICAgICAgdmFyIGJvcmRlclRvcFdpZHRoID0gcGFyc2VGbG9hdChzdHlsZXMuYm9yZGVyVG9wV2lkdGgsIDEwKTtcbiAgICAgICAgdmFyIGJvcmRlckxlZnRXaWR0aCA9IHBhcnNlRmxvYXQoc3R5bGVzLmJvcmRlckxlZnRXaWR0aCwgMTApO1xuXG4gICAgICAgIC8vIEluIGNhc2VzIHdoZXJlIHRoZSBwYXJlbnQgaXMgZml4ZWQsIHdlIG11c3QgaWdub3JlIG5lZ2F0aXZlIHNjcm9sbCBpbiBvZmZzZXQgY2FsY1xuICAgICAgICBpZiAoZml4ZWRQb3NpdGlvbiAmJiBwYXJlbnQubm9kZU5hbWUgPT09ICdIVE1MJykge1xuICAgICAgICAgICAgcGFyZW50UmVjdC50b3AgPSBNYXRoLm1heChwYXJlbnRSZWN0LnRvcCwgMCk7XG4gICAgICAgICAgICBwYXJlbnRSZWN0LmxlZnQgPSBNYXRoLm1heChwYXJlbnRSZWN0LmxlZnQsIDApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvZmZzZXRzID0gZ2V0Q2xpZW50UmVjdCh7XG4gICAgICAgICAgICB0b3A6IGNoaWxkcmVuUmVjdC50b3AgLSBwYXJlbnRSZWN0LnRvcCAtIGJvcmRlclRvcFdpZHRoLFxuICAgICAgICAgICAgbGVmdDogY2hpbGRyZW5SZWN0LmxlZnQgLSBwYXJlbnRSZWN0LmxlZnQgLSBib3JkZXJMZWZ0V2lkdGgsXG4gICAgICAgICAgICB3aWR0aDogY2hpbGRyZW5SZWN0LndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBjaGlsZHJlblJlY3QuaGVpZ2h0XG4gICAgICAgIH0pO1xuICAgICAgICBvZmZzZXRzLm1hcmdpblRvcCA9IDA7XG4gICAgICAgIG9mZnNldHMubWFyZ2luTGVmdCA9IDA7XG5cbiAgICAgICAgLy8gU3VidHJhY3QgbWFyZ2lucyBvZiBkb2N1bWVudEVsZW1lbnQgaW4gY2FzZSBpdCdzIGJlaW5nIHVzZWQgYXMgcGFyZW50XG4gICAgICAgIC8vIHdlIGRvIHRoaXMgb25seSBvbiBIVE1MIGJlY2F1c2UgaXQncyB0aGUgb25seSBlbGVtZW50IHRoYXQgYmVoYXZlc1xuICAgICAgICAvLyBkaWZmZXJlbnRseSB3aGVuIG1hcmdpbnMgYXJlIGFwcGxpZWQgdG8gaXQuIFRoZSBtYXJnaW5zIGFyZSBpbmNsdWRlZCBpblxuICAgICAgICAvLyB0aGUgYm94IG9mIHRoZSBkb2N1bWVudEVsZW1lbnQsIGluIHRoZSBvdGhlciBjYXNlcyBub3QuXG4gICAgICAgIGlmICghaXNJRTEwICYmIGlzSFRNTCkge1xuICAgICAgICAgICAgdmFyIG1hcmdpblRvcCA9IHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpblRvcCwgMTApO1xuICAgICAgICAgICAgdmFyIG1hcmdpbkxlZnQgPSBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5MZWZ0LCAxMCk7XG5cbiAgICAgICAgICAgIG9mZnNldHMudG9wIC09IGJvcmRlclRvcFdpZHRoIC0gbWFyZ2luVG9wO1xuICAgICAgICAgICAgb2Zmc2V0cy5ib3R0b20gLT0gYm9yZGVyVG9wV2lkdGggLSBtYXJnaW5Ub3A7XG4gICAgICAgICAgICBvZmZzZXRzLmxlZnQgLT0gYm9yZGVyTGVmdFdpZHRoIC0gbWFyZ2luTGVmdDtcbiAgICAgICAgICAgIG9mZnNldHMucmlnaHQgLT0gYm9yZGVyTGVmdFdpZHRoIC0gbWFyZ2luTGVmdDtcblxuICAgICAgICAgICAgLy8gQXR0YWNoIG1hcmdpblRvcCBhbmQgbWFyZ2luTGVmdCBiZWNhdXNlIGluIHNvbWUgY2lyY3Vtc3RhbmNlcyB3ZSBtYXkgbmVlZCB0aGVtXG4gICAgICAgICAgICBvZmZzZXRzLm1hcmdpblRvcCA9IG1hcmdpblRvcDtcbiAgICAgICAgICAgIG9mZnNldHMubWFyZ2luTGVmdCA9IG1hcmdpbkxlZnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNJRTEwICYmICFmaXhlZFBvc2l0aW9uID8gcGFyZW50LmNvbnRhaW5zKHNjcm9sbFBhcmVudCkgOiBwYXJlbnQgPT09IHNjcm9sbFBhcmVudCAmJiBzY3JvbGxQYXJlbnQubm9kZU5hbWUgIT09ICdCT0RZJykge1xuICAgICAgICAgICAgb2Zmc2V0cyA9IGluY2x1ZGVTY3JvbGwob2Zmc2V0cywgcGFyZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvZmZzZXRzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFZpZXdwb3J0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcnRiaXRyYXJ5Tm9kZShlbGVtZW50KSB7XG4gICAgICAgIHZhciBleGNsdWRlU2Nyb2xsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICAgICAgICB2YXIgaHRtbCA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHZhciByZWxhdGl2ZU9mZnNldCA9IGdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZShlbGVtZW50LCBodG1sKTtcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5tYXgoaHRtbC5jbGllbnRXaWR0aCwgd2luZG93LmlubmVyV2lkdGggfHwgMCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heChodG1sLmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IDApO1xuXG4gICAgICAgIHZhciBzY3JvbGxUb3AgPSAhZXhjbHVkZVNjcm9sbCA/IGdldFNjcm9sbChodG1sKSA6IDA7XG4gICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gIWV4Y2x1ZGVTY3JvbGwgPyBnZXRTY3JvbGwoaHRtbCwgJ2xlZnQnKSA6IDA7XG5cbiAgICAgICAgdmFyIG9mZnNldCA9IHtcbiAgICAgICAgICAgIHRvcDogc2Nyb2xsVG9wIC0gcmVsYXRpdmVPZmZzZXQudG9wICsgcmVsYXRpdmVPZmZzZXQubWFyZ2luVG9wLFxuICAgICAgICAgICAgbGVmdDogc2Nyb2xsTGVmdCAtIHJlbGF0aXZlT2Zmc2V0LmxlZnQgKyByZWxhdGl2ZU9mZnNldC5tYXJnaW5MZWZ0LFxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZ2V0Q2xpZW50UmVjdChvZmZzZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBnaXZlbiBlbGVtZW50IGlzIGZpeGVkIG9yIGlzIGluc2lkZSBhIGZpeGVkIHBhcmVudFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gICAgICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gICAgICogQGFyZ3VtZW50IHtFbGVtZW50fSBjdXN0b21Db250YWluZXJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYW5zd2VyIHRvIFwiaXNGaXhlZD9cIlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRml4ZWQoZWxlbWVudCkge1xuICAgICAgICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuICAgICAgICBpZiAobm9kZU5hbWUgPT09ICdCT0RZJyB8fCBub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50LCAncG9zaXRpb24nKSA9PT0gJ2ZpeGVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzRml4ZWQoZ2V0UGFyZW50Tm9kZShlbGVtZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIGZpcnN0IHBhcmVudCBvZiBhbiBlbGVtZW50IHRoYXQgaGFzIGEgdHJhbnNmb3JtZWQgcHJvcGVydHkgZGVmaW5lZFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gICAgICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHJldHVybnMge0VsZW1lbnR9IGZpcnN0IHRyYW5zZm9ybWVkIHBhcmVudCBvciBkb2N1bWVudEVsZW1lbnRcbiAgICAgKi9cblxuICAgIGZ1bmN0aW9uIGdldEZpeGVkUG9zaXRpb25PZmZzZXRQYXJlbnQoZWxlbWVudCkge1xuICAgICAgICAvLyBUaGlzIGNoZWNrIGlzIG5lZWRlZCB0byBhdm9pZCBlcnJvcnMgaW4gY2FzZSBvbmUgb2YgdGhlIGVsZW1lbnRzIGlzbid0IGRlZmluZWQgZm9yIGFueSByZWFzb25cbiAgICAgICAgaWYgKCFlbGVtZW50IHx8ICFlbGVtZW50LnBhcmVudEVsZW1lbnQgfHwgaXNJRSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgd2hpbGUgKGVsICYmIGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbCwgJ3RyYW5zZm9ybScpID09PSAnbm9uZScpIHtcbiAgICAgICAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWwgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVkIHRoZSBib3VuZGFyaWVzIGxpbWl0cyBhbmQgcmV0dXJuIHRoZW1cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZmVyZW5jZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYWRkaW5nXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gYm91bmRhcmllc0VsZW1lbnQgLSBFbGVtZW50IHVzZWQgdG8gZGVmaW5lIHRoZSBib3VuZGFyaWVzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBmaXhlZFBvc2l0aW9uIC0gSXMgaW4gZml4ZWQgcG9zaXRpb24gbW9kZVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IENvb3JkaW5hdGVzIG9mIHRoZSBib3VuZGFyaWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0Qm91bmRhcmllcyhwb3BwZXIsIHJlZmVyZW5jZSwgcGFkZGluZywgYm91bmRhcmllc0VsZW1lbnQpIHtcbiAgICAgICAgdmFyIGZpeGVkUG9zaXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IGZhbHNlO1xuXG4gICAgICAgIC8vIE5PVEU6IDEgRE9NIGFjY2VzcyBoZXJlXG5cbiAgICAgICAgdmFyIGJvdW5kYXJpZXMgPSB7XG4gICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgIH07XG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBmaXhlZFBvc2l0aW9uID8gZ2V0Rml4ZWRQb3NpdGlvbk9mZnNldFBhcmVudChwb3BwZXIpIDogZmluZENvbW1vbk9mZnNldFBhcmVudChwb3BwZXIsIHJlZmVyZW5jZSk7XG5cbiAgICAgICAgLy8gSGFuZGxlIHZpZXdwb3J0IGNhc2VcbiAgICAgICAgaWYgKGJvdW5kYXJpZXNFbGVtZW50ID09PSAndmlld3BvcnQnKSB7XG4gICAgICAgICAgICBib3VuZGFyaWVzID0gZ2V0Vmlld3BvcnRPZmZzZXRSZWN0UmVsYXRpdmVUb0FydGJpdHJhcnlOb2RlKG9mZnNldFBhcmVudCwgZml4ZWRQb3NpdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgb3RoZXIgY2FzZXMgYmFzZWQgb24gRE9NIGVsZW1lbnQgdXNlZCBhcyBib3VuZGFyaWVzXG4gICAgICAgICAgICB2YXIgYm91bmRhcmllc05vZGUgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoYm91bmRhcmllc0VsZW1lbnQgPT09ICdzY3JvbGxQYXJlbnQnKSB7XG4gICAgICAgICAgICAgICAgYm91bmRhcmllc05vZGUgPSBnZXRTY3JvbGxQYXJlbnQoZ2V0UGFyZW50Tm9kZShyZWZlcmVuY2UpKTtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRhcmllc05vZGUubm9kZU5hbWUgPT09ICdCT0RZJykge1xuICAgICAgICAgICAgICAgICAgICBib3VuZGFyaWVzTm9kZSA9IHBvcHBlci5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvdW5kYXJpZXNFbGVtZW50ID09PSAnd2luZG93Jykge1xuICAgICAgICAgICAgICAgIGJvdW5kYXJpZXNOb2RlID0gcG9wcGVyLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBib3VuZGFyaWVzTm9kZSA9IGJvdW5kYXJpZXNFbGVtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgb2Zmc2V0cyA9IGdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZShib3VuZGFyaWVzTm9kZSwgb2Zmc2V0UGFyZW50LCBmaXhlZFBvc2l0aW9uKTtcblxuICAgICAgICAgICAgLy8gSW4gY2FzZSBvZiBIVE1MLCB3ZSBuZWVkIGEgZGlmZmVyZW50IGNvbXB1dGF0aW9uXG4gICAgICAgICAgICBpZiAoYm91bmRhcmllc05vZGUubm9kZU5hbWUgPT09ICdIVE1MJyAmJiAhaXNGaXhlZChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9nZXRXaW5kb3dTaXplcyA9IGdldFdpbmRvd1NpemVzKCksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IF9nZXRXaW5kb3dTaXplcy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gX2dldFdpbmRvd1NpemVzLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgYm91bmRhcmllcy50b3AgKz0gb2Zmc2V0cy50b3AgLSBvZmZzZXRzLm1hcmdpblRvcDtcbiAgICAgICAgICAgICAgICBib3VuZGFyaWVzLmJvdHRvbSA9IGhlaWdodCArIG9mZnNldHMudG9wO1xuICAgICAgICAgICAgICAgIGJvdW5kYXJpZXMubGVmdCArPSBvZmZzZXRzLmxlZnQgLSBvZmZzZXRzLm1hcmdpbkxlZnQ7XG4gICAgICAgICAgICAgICAgYm91bmRhcmllcy5yaWdodCA9IHdpZHRoICsgb2Zmc2V0cy5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmb3IgYWxsIHRoZSBvdGhlciBET00gZWxlbWVudHMsIHRoaXMgb25lIGlzIGdvb2RcbiAgICAgICAgICAgICAgICBib3VuZGFyaWVzID0gb2Zmc2V0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBwYWRkaW5nc1xuICAgICAgICBib3VuZGFyaWVzLmxlZnQgKz0gcGFkZGluZztcbiAgICAgICAgYm91bmRhcmllcy50b3AgKz0gcGFkZGluZztcbiAgICAgICAgYm91bmRhcmllcy5yaWdodCAtPSBwYWRkaW5nO1xuICAgICAgICBib3VuZGFyaWVzLmJvdHRvbSAtPSBwYWRkaW5nO1xuXG4gICAgICAgIHJldHVybiBib3VuZGFyaWVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEFyZWEoX3JlZikge1xuICAgICAgICB2YXIgd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHdpZHRoICogaGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFV0aWxpdHkgdXNlZCB0byB0cmFuc2Zvcm0gdGhlIGBhdXRvYCBwbGFjZW1lbnQgdG8gdGhlIHBsYWNlbWVudCB3aXRoIG1vcmVcbiAgICAgKiBhdmFpbGFibGUgc3BhY2UuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAgICAgKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcHV0ZUF1dG9QbGFjZW1lbnQocGxhY2VtZW50LCByZWZSZWN0LCBwb3BwZXIsIHJlZmVyZW5jZSwgYm91bmRhcmllc0VsZW1lbnQpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IDA7XG5cbiAgICAgICAgaWYgKHBsYWNlbWVudC5pbmRleE9mKCdhdXRvJykgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gcGxhY2VtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJvdW5kYXJpZXMgPSBnZXRCb3VuZGFyaWVzKHBvcHBlciwgcmVmZXJlbmNlLCBwYWRkaW5nLCBib3VuZGFyaWVzRWxlbWVudCk7XG5cbiAgICAgICAgdmFyIHJlY3RzID0ge1xuICAgICAgICAgICAgdG9wOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvdW5kYXJpZXMud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiByZWZSZWN0LnRvcCAtIGJvdW5kYXJpZXMudG9wXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmlnaHQ6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogYm91bmRhcmllcy5yaWdodCAtIHJlZlJlY3QucmlnaHQsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBib3VuZGFyaWVzLmhlaWdodFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvdHRvbToge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBib3VuZGFyaWVzLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogYm91bmRhcmllcy5ib3R0b20gLSByZWZSZWN0LmJvdHRvbVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxlZnQ6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogcmVmUmVjdC5sZWZ0IC0gYm91bmRhcmllcy5sZWZ0LFxuICAgICAgICAgICAgICAgIGhlaWdodDogYm91bmRhcmllcy5oZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgc29ydGVkQXJlYXMgPSBPYmplY3Qua2V5cyhyZWN0cykubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVxuICAgICAgICAgICAgfSwgcmVjdHNba2V5XSwge1xuICAgICAgICAgICAgICAgIGFyZWE6IGdldEFyZWEocmVjdHNba2V5XSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiLmFyZWEgLSBhLmFyZWE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBmaWx0ZXJlZEFyZWFzID0gc29ydGVkQXJlYXMuZmlsdGVyKGZ1bmN0aW9uKF9yZWYyKSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSBfcmVmMi53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBfcmVmMi5oZWlnaHQ7XG4gICAgICAgICAgICByZXR1cm4gd2lkdGggPj0gcG9wcGVyLmNsaWVudFdpZHRoICYmIGhlaWdodCA+PSBwb3BwZXIuY2xpZW50SGVpZ2h0O1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgY29tcHV0ZWRQbGFjZW1lbnQgPSBmaWx0ZXJlZEFyZWFzLmxlbmd0aCA+IDAgPyBmaWx0ZXJlZEFyZWFzWzBdLmtleSA6IHNvcnRlZEFyZWFzWzBdLmtleTtcblxuICAgICAgICB2YXIgdmFyaWF0aW9uID0gcGxhY2VtZW50LnNwbGl0KCctJylbMV07XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkUGxhY2VtZW50ICsgKHZhcmlhdGlvbiA/ICctJyArIHZhcmlhdGlvbiA6ICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgb2Zmc2V0cyB0byB0aGUgcmVmZXJlbmNlIGVsZW1lbnRcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZVxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gcG9wcGVyIC0gdGhlIHBvcHBlciBlbGVtZW50XG4gICAgICogQHBhcmFtIHtFbGVtZW50fSByZWZlcmVuY2UgLSB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgKHRoZSBwb3BwZXIgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGlzKVxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZml4ZWRQb3NpdGlvbiAtIGlzIGluIGZpeGVkIHBvc2l0aW9uIG1vZGVcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2Zmc2V0cyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJlZmVyZW5jZU9mZnNldHMoc3RhdGUsIHBvcHBlciwgcmVmZXJlbmNlKSB7XG4gICAgICAgIHZhciBmaXhlZFBvc2l0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBudWxsO1xuXG4gICAgICAgIHZhciBjb21tb25PZmZzZXRQYXJlbnQgPSBmaXhlZFBvc2l0aW9uID8gZ2V0Rml4ZWRQb3NpdGlvbk9mZnNldFBhcmVudChwb3BwZXIpIDogZmluZENvbW1vbk9mZnNldFBhcmVudChwb3BwZXIsIHJlZmVyZW5jZSk7XG4gICAgICAgIHJldHVybiBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUocmVmZXJlbmNlLCBjb21tb25PZmZzZXRQYXJlbnQsIGZpeGVkUG9zaXRpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgb3V0ZXIgc2l6ZXMgb2YgdGhlIGdpdmVuIGVsZW1lbnQgKG9mZnNldCBzaXplICsgbWFyZ2lucylcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICAgICAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IG9iamVjdCBjb250YWluaW5nIHdpZHRoIGFuZCBoZWlnaHQgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE91dGVyU2l6ZXMoZWxlbWVudCkge1xuICAgICAgICB2YXIgc3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5Ub3ApICsgcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luQm90dG9tKTtcbiAgICAgICAgdmFyIHkgPSBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5MZWZ0KSArIHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpblJpZ2h0KTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBlbGVtZW50Lm9mZnNldFdpZHRoICsgeSxcbiAgICAgICAgICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQgKyB4XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBvcHBvc2l0ZSBwbGFjZW1lbnQgb2YgdGhlIGdpdmVuIG9uZVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gICAgICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IGZsaXBwZWQgcGxhY2VtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gICAgICAgIHZhciBoYXNoID0ge1xuICAgICAgICAgICAgbGVmdDogJ3JpZ2h0JyxcbiAgICAgICAgICAgIHJpZ2h0OiAnbGVmdCcsXG4gICAgICAgICAgICBib3R0b206ICd0b3AnLFxuICAgICAgICAgICAgdG9wOiAnYm90dG9tJ1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcGxhY2VtZW50LnJlcGxhY2UoL2xlZnR8cmlnaHR8Ym90dG9tfHRvcC9nLCBmdW5jdGlvbihtYXRjaGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFzaFttYXRjaGVkXTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IG9mZnNldHMgdG8gdGhlIHBvcHBlclxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvc2l0aW9uIC0gQ1NTIHBvc2l0aW9uIHRoZSBQb3BwZXIgd2lsbCBnZXQgYXBwbGllZFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlciAtIHRoZSBwb3BwZXIgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWZlcmVuY2VPZmZzZXRzIC0gdGhlIHJlZmVyZW5jZSBvZmZzZXRzICh0aGUgcG9wcGVyIHdpbGwgYmUgcmVsYXRpdmUgdG8gdGhpcylcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGxhY2VtZW50IC0gb25lIG9mIHRoZSB2YWxpZCBwbGFjZW1lbnQgb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IHBvcHBlck9mZnNldHMgLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2Zmc2V0cyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFBvcHBlck9mZnNldHMocG9wcGVyLCByZWZlcmVuY2VPZmZzZXRzLCBwbGFjZW1lbnQpIHtcbiAgICAgICAgcGxhY2VtZW50ID0gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG5cbiAgICAgICAgLy8gR2V0IHBvcHBlciBub2RlIHNpemVzXG4gICAgICAgIHZhciBwb3BwZXJSZWN0ID0gZ2V0T3V0ZXJTaXplcyhwb3BwZXIpO1xuXG4gICAgICAgIC8vIEFkZCBwb3NpdGlvbiwgd2lkdGggYW5kIGhlaWdodCB0byBvdXIgb2Zmc2V0cyBvYmplY3RcbiAgICAgICAgdmFyIHBvcHBlck9mZnNldHMgPSB7XG4gICAgICAgICAgICB3aWR0aDogcG9wcGVyUmVjdC53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogcG9wcGVyUmVjdC5oZWlnaHRcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBkZXBlbmRpbmcgYnkgdGhlIHBvcHBlciBwbGFjZW1lbnQgd2UgaGF2ZSB0byBjb21wdXRlIGl0cyBvZmZzZXRzIHNsaWdodGx5IGRpZmZlcmVudGx5XG4gICAgICAgIHZhciBpc0hvcml6ID0gWydyaWdodCcsICdsZWZ0J10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcbiAgICAgICAgdmFyIG1haW5TaWRlID0gaXNIb3JpeiA/ICd0b3AnIDogJ2xlZnQnO1xuICAgICAgICB2YXIgc2Vjb25kYXJ5U2lkZSA9IGlzSG9yaXogPyAnbGVmdCcgOiAndG9wJztcbiAgICAgICAgdmFyIG1lYXN1cmVtZW50ID0gaXNIb3JpeiA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICAgICAgdmFyIHNlY29uZGFyeU1lYXN1cmVtZW50ID0gIWlzSG9yaXogPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgICAgICAgcG9wcGVyT2Zmc2V0c1ttYWluU2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW21haW5TaWRlXSArIHJlZmVyZW5jZU9mZnNldHNbbWVhc3VyZW1lbnRdIC8gMiAtIHBvcHBlclJlY3RbbWVhc3VyZW1lbnRdIC8gMjtcbiAgICAgICAgaWYgKHBsYWNlbWVudCA9PT0gc2Vjb25kYXJ5U2lkZSkge1xuICAgICAgICAgICAgcG9wcGVyT2Zmc2V0c1tzZWNvbmRhcnlTaWRlXSA9IHJlZmVyZW5jZU9mZnNldHNbc2Vjb25kYXJ5U2lkZV0gLSBwb3BwZXJSZWN0W3NlY29uZGFyeU1lYXN1cmVtZW50XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvcHBlck9mZnNldHNbc2Vjb25kYXJ5U2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW2dldE9wcG9zaXRlUGxhY2VtZW50KHNlY29uZGFyeVNpZGUpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb3BwZXJPZmZzZXRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1pbWljcyB0aGUgYGZpbmRgIG1ldGhvZCBvZiBBcnJheVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gICAgICogQGFyZ3VtZW50IHtBcnJheX0gYXJyXG4gICAgICogQGFyZ3VtZW50IHByb3BcbiAgICAgKiBAYXJndW1lbnQgdmFsdWVcbiAgICAgKiBAcmV0dXJucyBpbmRleCBvciAtMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmQoYXJyLCBjaGVjaykge1xuICAgICAgICAvLyB1c2UgbmF0aXZlIGZpbmQgaWYgc3VwcG9ydGVkXG4gICAgICAgIGlmIChBcnJheS5wcm90b3R5cGUuZmluZCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyci5maW5kKGNoZWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzZSBgZmlsdGVyYCB0byBvYnRhaW4gdGhlIHNhbWUgYmVoYXZpb3Igb2YgYGZpbmRgXG4gICAgICAgIHJldHVybiBhcnIuZmlsdGVyKGNoZWNrKVswXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGluZGV4IG9mIHRoZSBtYXRjaGluZyBvYmplY3RcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICAgICAqIEBhcmd1bWVudCB7QXJyYXl9IGFyclxuICAgICAqIEBhcmd1bWVudCBwcm9wXG4gICAgICogQGFyZ3VtZW50IHZhbHVlXG4gICAgICogQHJldHVybnMgaW5kZXggb3IgLTFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICAvLyB1c2UgbmF0aXZlIGZpbmRJbmRleCBpZiBzdXBwb3J0ZWRcbiAgICAgICAgaWYgKEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBhcnIuZmluZEluZGV4KGZ1bmN0aW9uKGN1cikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJbcHJvcF0gPT09IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1c2UgYGZpbmRgICsgYGluZGV4T2ZgIGlmIGBmaW5kSW5kZXhgIGlzbid0IHN1cHBvcnRlZFxuICAgICAgICB2YXIgbWF0Y2ggPSBmaW5kKGFyciwgZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqW3Byb3BdID09PSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhcnIuaW5kZXhPZihtYXRjaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9vcCB0cm91Z2ggdGhlIGxpc3Qgb2YgbW9kaWZpZXJzIGFuZCBydW4gdGhlbSBpbiBvcmRlcixcbiAgICAgKiBlYWNoIG9mIHRoZW0gd2lsbCB0aGVuIGVkaXQgdGhlIGRhdGEgb2JqZWN0LlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gICAgICogQHBhcmFtIHtkYXRhT2JqZWN0fSBkYXRhXG4gICAgICogQHBhcmFtIHtBcnJheX0gbW9kaWZpZXJzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGVuZHMgLSBPcHRpb25hbCBtb2RpZmllciBuYW1lIHVzZWQgYXMgc3RvcHBlclxuICAgICAqIEByZXR1cm5zIHtkYXRhT2JqZWN0fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJ1bk1vZGlmaWVycyhtb2RpZmllcnMsIGRhdGEsIGVuZHMpIHtcbiAgICAgICAgdmFyIG1vZGlmaWVyc1RvUnVuID0gZW5kcyA9PT0gdW5kZWZpbmVkID8gbW9kaWZpZXJzIDogbW9kaWZpZXJzLnNsaWNlKDAsIGZpbmRJbmRleChtb2RpZmllcnMsICduYW1lJywgZW5kcykpO1xuXG4gICAgICAgIG1vZGlmaWVyc1RvUnVuLmZvckVhY2goZnVuY3Rpb24obW9kaWZpZXIpIHtcbiAgICAgICAgICAgIGlmIChtb2RpZmllclsnZnVuY3Rpb24nXSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdgbW9kaWZpZXIuZnVuY3Rpb25gIGlzIGRlcHJlY2F0ZWQsIHVzZSBgbW9kaWZpZXIuZm5gIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGZuID0gbW9kaWZpZXJbJ2Z1bmN0aW9uJ10gfHwgbW9kaWZpZXIuZm47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgICAgICAgICBpZiAobW9kaWZpZXIuZW5hYmxlZCAmJiBpc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgICAgICAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIHRvIG9mZnNldHMgdG8gbWFrZSB0aGVtIGEgY29tcGxldGUgY2xpZW50UmVjdCBvYmplY3RcbiAgICAgICAgICAgICAgICAvLyB3ZSBkbyB0aGlzIGJlZm9yZSBlYWNoIG1vZGlmaWVyIHRvIG1ha2Ugc3VyZSB0aGUgcHJldmlvdXMgb25lIGRvZXNuJ3RcbiAgICAgICAgICAgICAgICAvLyBtZXNzIHdpdGggdGhlc2UgdmFsdWVzXG4gICAgICAgICAgICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IGdldENsaWVudFJlY3QoZGF0YS5vZmZzZXRzLnBvcHBlcik7XG4gICAgICAgICAgICAgICAgZGF0YS5vZmZzZXRzLnJlZmVyZW5jZSA9IGdldENsaWVudFJlY3QoZGF0YS5vZmZzZXRzLnJlZmVyZW5jZSk7XG5cbiAgICAgICAgICAgICAgICBkYXRhID0gZm4oZGF0YSwgbW9kaWZpZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcG9wcGVyLCBjb21wdXRpbmcgdGhlIG5ldyBvZmZzZXRzIGFuZCBhcHBseWluZ1xuICAgICAqIHRoZSBuZXcgc3R5bGUuPGJyIC8+XG4gICAgICogUHJlZmVyIGBzY2hlZHVsZVVwZGF0ZWAgb3ZlciBgdXBkYXRlYCBiZWNhdXNlIG9mIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIC8vIGlmIHBvcHBlciBpcyBkZXN0cm95ZWQsIGRvbid0IHBlcmZvcm0gYW55IGZ1cnRoZXIgdXBkYXRlXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmlzRGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLFxuICAgICAgICAgICAgc3R5bGVzOiB7fSxcbiAgICAgICAgICAgIGFycm93U3R5bGVzOiB7fSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHt9LFxuICAgICAgICAgICAgZmxpcHBlZDogZmFsc2UsXG4gICAgICAgICAgICBvZmZzZXRzOiB7fVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGNvbXB1dGUgcmVmZXJlbmNlIGVsZW1lbnQgb2Zmc2V0c1xuICAgICAgICBkYXRhLm9mZnNldHMucmVmZXJlbmNlID0gZ2V0UmVmZXJlbmNlT2Zmc2V0cyh0aGlzLnN0YXRlLCB0aGlzLnBvcHBlciwgdGhpcy5yZWZlcmVuY2UsIHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkKTtcblxuICAgICAgICAvLyBjb21wdXRlIGF1dG8gcGxhY2VtZW50LCBzdG9yZSBwbGFjZW1lbnQgaW5zaWRlIHRoZSBkYXRhIG9iamVjdCxcbiAgICAgICAgLy8gbW9kaWZpZXJzIHdpbGwgYmUgYWJsZSB0byBlZGl0IGBwbGFjZW1lbnRgIGlmIG5lZWRlZFxuICAgICAgICAvLyBhbmQgcmVmZXIgdG8gb3JpZ2luYWxQbGFjZW1lbnQgdG8ga25vdyB0aGUgb3JpZ2luYWwgdmFsdWVcbiAgICAgICAgZGF0YS5wbGFjZW1lbnQgPSBjb21wdXRlQXV0b1BsYWNlbWVudCh0aGlzLm9wdGlvbnMucGxhY2VtZW50LCBkYXRhLm9mZnNldHMucmVmZXJlbmNlLCB0aGlzLnBvcHBlciwgdGhpcy5yZWZlcmVuY2UsIHRoaXMub3B0aW9ucy5tb2RpZmllcnMuZmxpcC5ib3VuZGFyaWVzRWxlbWVudCwgdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLnBhZGRpbmcpO1xuXG4gICAgICAgIC8vIHN0b3JlIHRoZSBjb21wdXRlZCBwbGFjZW1lbnQgaW5zaWRlIGBvcmlnaW5hbFBsYWNlbWVudGBcbiAgICAgICAgZGF0YS5vcmlnaW5hbFBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuXG4gICAgICAgIGRhdGEucG9zaXRpb25GaXhlZCA9IHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkO1xuXG4gICAgICAgIC8vIGNvbXB1dGUgdGhlIHBvcHBlciBvZmZzZXRzXG4gICAgICAgIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBnZXRQb3BwZXJPZmZzZXRzKHRoaXMucG9wcGVyLCBkYXRhLm9mZnNldHMucmVmZXJlbmNlLCBkYXRhLnBsYWNlbWVudCk7XG5cbiAgICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlci5wb3NpdGlvbiA9IHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkID8gJ2ZpeGVkJyA6ICdhYnNvbHV0ZSc7XG5cbiAgICAgICAgLy8gcnVuIHRoZSBtb2RpZmllcnNcbiAgICAgICAgZGF0YSA9IHJ1bk1vZGlmaWVycyh0aGlzLm1vZGlmaWVycywgZGF0YSk7XG5cbiAgICAgICAgLy8gdGhlIGZpcnN0IGB1cGRhdGVgIHdpbGwgY2FsbCBgb25DcmVhdGVgIGNhbGxiYWNrXG4gICAgICAgIC8vIHRoZSBvdGhlciBvbmVzIHdpbGwgY2FsbCBgb25VcGRhdGVgIGNhbGxiYWNrXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5pc0NyZWF0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNDcmVhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNyZWF0ZShkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vblVwZGF0ZShkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciB1c2VkIHRvIGtub3cgaWYgdGhlIGdpdmVuIG1vZGlmaWVyIGlzIGVuYWJsZWQuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01vZGlmaWVyRW5hYmxlZChtb2RpZmllcnMsIG1vZGlmaWVyTmFtZSkge1xuICAgICAgICByZXR1cm4gbW9kaWZpZXJzLnNvbWUoZnVuY3Rpb24oX3JlZikge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICAgICAgICAgICAgZW5hYmxlZCA9IF9yZWYuZW5hYmxlZDtcbiAgICAgICAgICAgIHJldHVybiBlbmFibGVkICYmIG5hbWUgPT09IG1vZGlmaWVyTmFtZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwcmVmaXhlZCBzdXBwb3J0ZWQgcHJvcGVydHkgbmFtZVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gICAgICogQGFyZ3VtZW50IHtTdHJpbmd9IHByb3BlcnR5IChjYW1lbENhc2UpXG4gICAgICogQHJldHVybnMge1N0cmluZ30gcHJlZml4ZWQgcHJvcGVydHkgKGNhbWVsQ2FzZSBvciBQYXNjYWxDYXNlLCBkZXBlbmRpbmcgb24gdGhlIHZlbmRvciBwcmVmaXgpXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0U3VwcG9ydGVkUHJvcGVydHlOYW1lKHByb3BlcnR5KSB7XG4gICAgICAgIHZhciBwcmVmaXhlcyA9IFtmYWxzZSwgJ21zJywgJ1dlYmtpdCcsICdNb3onLCAnTyddO1xuICAgICAgICB2YXIgdXBwZXJQcm9wID0gcHJvcGVydHkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zbGljZSgxKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcHJlZml4ID0gcHJlZml4ZXNbaV07XG4gICAgICAgICAgICB2YXIgdG9DaGVjayA9IHByZWZpeCA/ICcnICsgcHJlZml4ICsgdXBwZXJQcm9wIDogcHJvcGVydHk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50LmJvZHkuc3R5bGVbdG9DaGVja10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvQ2hlY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgcG9wcGVyXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnN0YXRlLmlzRGVzdHJveWVkID0gdHJ1ZTtcblxuICAgICAgICAvLyB0b3VjaCBET00gb25seSBpZiBgYXBwbHlTdHlsZWAgbW9kaWZpZXIgaXMgZW5hYmxlZFxuICAgICAgICBpZiAoaXNNb2RpZmllckVuYWJsZWQodGhpcy5tb2RpZmllcnMsICdhcHBseVN0eWxlJykpIHtcbiAgICAgICAgICAgIHRoaXMucG9wcGVyLnJlbW92ZUF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnKTtcbiAgICAgICAgICAgIHRoaXMucG9wcGVyLnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgICAgICAgICB0aGlzLnBvcHBlci5zdHlsZS50b3AgPSAnJztcbiAgICAgICAgICAgIHRoaXMucG9wcGVyLnN0eWxlLmxlZnQgPSAnJztcbiAgICAgICAgICAgIHRoaXMucG9wcGVyLnN0eWxlLnJpZ2h0ID0gJyc7XG4gICAgICAgICAgICB0aGlzLnBvcHBlci5zdHlsZS5ib3R0b20gPSAnJztcbiAgICAgICAgICAgIHRoaXMucG9wcGVyLnN0eWxlLndpbGxDaGFuZ2UgPSAnJztcbiAgICAgICAgICAgIHRoaXMucG9wcGVyLnN0eWxlW2dldFN1cHBvcnRlZFByb3BlcnR5TmFtZSgndHJhbnNmb3JtJyldID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc2FibGVFdmVudExpc3RlbmVycygpO1xuXG4gICAgICAgIC8vIHJlbW92ZSB0aGUgcG9wcGVyIGlmIHVzZXIgZXhwbGljaXR5IGFza2VkIGZvciB0aGUgZGVsZXRpb24gb24gZGVzdHJveVxuICAgICAgICAvLyBkbyBub3QgdXNlIGByZW1vdmVgIGJlY2F1c2UgSUUxMSBkb2Vzbid0IHN1cHBvcnQgaXRcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVPbkRlc3Ryb3kpIHtcbiAgICAgICAgICAgIHRoaXMucG9wcGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wb3BwZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgd2luZG93IGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudFxuICAgICAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqIEByZXR1cm5zIHtXaW5kb3d9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0V2luZG93KGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIHJldHVybiBvd25lckRvY3VtZW50ID8gb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyA6IHdpbmRvdztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhdHRhY2hUb1Njcm9sbFBhcmVudHMoc2Nyb2xsUGFyZW50LCBldmVudCwgY2FsbGJhY2ssIHNjcm9sbFBhcmVudHMpIHtcbiAgICAgICAgdmFyIGlzQm9keSA9IHNjcm9sbFBhcmVudC5ub2RlTmFtZSA9PT0gJ0JPRFknO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gaXNCb2R5ID8gc2Nyb2xsUGFyZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgOiBzY3JvbGxQYXJlbnQ7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjaywge1xuICAgICAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWlzQm9keSkge1xuICAgICAgICAgICAgYXR0YWNoVG9TY3JvbGxQYXJlbnRzKGdldFNjcm9sbFBhcmVudCh0YXJnZXQucGFyZW50Tm9kZSksIGV2ZW50LCBjYWxsYmFjaywgc2Nyb2xsUGFyZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgc2Nyb2xsUGFyZW50cy5wdXNoKHRhcmdldCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgbmVlZGVkIGV2ZW50IGxpc3RlbmVycyB1c2VkIHRvIHVwZGF0ZSB0aGUgcG9wcGVyIHBvc2l0aW9uXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldHVwRXZlbnRMaXN0ZW5lcnMocmVmZXJlbmNlLCBvcHRpb25zLCBzdGF0ZSwgdXBkYXRlQm91bmQpIHtcbiAgICAgICAgLy8gUmVzaXplIGV2ZW50IGxpc3RlbmVyIG9uIHdpbmRvd1xuICAgICAgICBzdGF0ZS51cGRhdGVCb3VuZCA9IHVwZGF0ZUJvdW5kO1xuICAgICAgICBnZXRXaW5kb3cocmVmZXJlbmNlKS5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzdGF0ZS51cGRhdGVCb3VuZCwge1xuICAgICAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHNcbiAgICAgICAgdmFyIHNjcm9sbEVsZW1lbnQgPSBnZXRTY3JvbGxQYXJlbnQocmVmZXJlbmNlKTtcbiAgICAgICAgYXR0YWNoVG9TY3JvbGxQYXJlbnRzKHNjcm9sbEVsZW1lbnQsICdzY3JvbGwnLCBzdGF0ZS51cGRhdGVCb3VuZCwgc3RhdGUuc2Nyb2xsUGFyZW50cyk7XG4gICAgICAgIHN0YXRlLnNjcm9sbEVsZW1lbnQgPSBzY3JvbGxFbGVtZW50O1xuICAgICAgICBzdGF0ZS5ldmVudHNFbmFibGVkID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXQgd2lsbCBhZGQgcmVzaXplL3Njcm9sbCBldmVudHMgYW5kIHN0YXJ0IHJlY2FsY3VsYXRpbmdcbiAgICAgKiBwb3NpdGlvbiBvZiB0aGUgcG9wcGVyIGVsZW1lbnQgd2hlbiB0aGV5IGFyZSB0cmlnZ2VyZWQuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmFibGVFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBzZXR1cEV2ZW50TGlzdGVuZXJzKHRoaXMucmVmZXJlbmNlLCB0aGlzLm9wdGlvbnMsIHRoaXMuc3RhdGUsIHRoaXMuc2NoZWR1bGVVcGRhdGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyB1c2VkIHRvIHVwZGF0ZSB0aGUgcG9wcGVyIHBvc2l0aW9uXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHJlZmVyZW5jZSwgc3RhdGUpIHtcbiAgICAgICAgLy8gUmVtb3ZlIHJlc2l6ZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3dcbiAgICAgICAgZ2V0V2luZG93KHJlZmVyZW5jZSkucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RhdGUudXBkYXRlQm91bmQpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHNcbiAgICAgICAgc3RhdGUuc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHN0YXRlLnVwZGF0ZUJvdW5kKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVzZXQgc3RhdGVcbiAgICAgICAgc3RhdGUudXBkYXRlQm91bmQgPSBudWxsO1xuICAgICAgICBzdGF0ZS5zY3JvbGxQYXJlbnRzID0gW107XG4gICAgICAgIHN0YXRlLnNjcm9sbEVsZW1lbnQgPSBudWxsO1xuICAgICAgICBzdGF0ZS5ldmVudHNFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdCB3aWxsIHJlbW92ZSByZXNpemUvc2Nyb2xsIGV2ZW50cyBhbmQgd29uJ3QgcmVjYWxjdWxhdGUgcG9wcGVyIHBvc2l0aW9uXG4gICAgICogd2hlbiB0aGV5IGFyZSB0cmlnZ2VyZWQuIEl0IGFsc28gd29uJ3QgdHJpZ2dlciBvblVwZGF0ZSBjYWxsYmFjayBhbnltb3JlLFxuICAgICAqIHVubGVzcyB5b3UgY2FsbCBgdXBkYXRlYCBtZXRob2QgbWFudWFsbHkuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuc2NoZWR1bGVVcGRhdGUpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMucmVmZXJlbmNlLCB0aGlzLnN0YXRlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlbGxzIGlmIGEgZ2l2ZW4gaW5wdXQgaXMgYSBudW1iZXJcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICAgICAqIEBwYXJhbSB7Kn0gaW5wdXQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVtZXJpYyhuKSB7XG4gICAgICAgIHJldHVybiBuICE9PSAnJyAmJiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHlsZSB0byB0aGUgZ2l2ZW4gcG9wcGVyXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAgICAgKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGFwcGx5IHRoZSBzdHlsZSB0b1xuICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBzdHlsZXNcbiAgICAgKiBPYmplY3Qgd2l0aCBhIGxpc3Qgb2YgcHJvcGVydGllcyBhbmQgdmFsdWVzIHdoaWNoIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFN0eWxlcyhlbGVtZW50LCBzdHlsZXMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoc3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgICAgIHZhciB1bml0ID0gJyc7XG4gICAgICAgICAgICAvLyBhZGQgdW5pdCBpZiB0aGUgdmFsdWUgaXMgbnVtZXJpYyBhbmQgaXMgb25lIG9mIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICAgIGlmIChbJ3dpZHRoJywgJ2hlaWdodCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXS5pbmRleE9mKHByb3ApICE9PSAtMSAmJiBpc051bWVyaWMoc3R5bGVzW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgIHVuaXQgPSAncHgnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHN0eWxlc1twcm9wXSArIHVuaXQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYXR0cmlidXRlcyB0byB0aGUgZ2l2ZW4gcG9wcGVyXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAgICAgKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGFwcGx5IHRoZSBhdHRyaWJ1dGVzIHRvXG4gICAgICogQGFyZ3VtZW50IHtPYmplY3R9IHN0eWxlc1xuICAgICAqIE9iamVjdCB3aXRoIGEgbGlzdCBvZiBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gYXR0cmlidXRlc1twcm9wXTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShwcm9wLCBhdHRyaWJ1dGVzW3Byb3BdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAgICAgKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gICAgICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEuc3R5bGVzIC0gTGlzdCBvZiBzdHlsZSBwcm9wZXJ0aWVzIC0gdmFsdWVzIHRvIGFwcGx5IHRvIHBvcHBlciBlbGVtZW50XG4gICAgICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEuYXR0cmlidXRlcyAtIExpc3Qgb2YgYXR0cmlidXRlIHByb3BlcnRpZXMgLSB2YWx1ZXMgdG8gYXBwbHkgdG8gcG9wcGVyIGVsZW1lbnRcbiAgICAgKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gICAgICogQHJldHVybnMge09iamVjdH0gVGhlIHNhbWUgZGF0YSBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcHBseVN0eWxlKGRhdGEpIHtcbiAgICAgICAgLy8gYW55IHByb3BlcnR5IHByZXNlbnQgaW4gYGRhdGEuc3R5bGVzYCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlcixcbiAgICAgICAgLy8gaW4gdGhpcyB3YXkgd2UgY2FuIG1ha2UgdGhlIDNyZCBwYXJ0eSBtb2RpZmllcnMgYWRkIGN1c3RvbSBzdHlsZXMgdG8gaXRcbiAgICAgICAgLy8gQmUgYXdhcmUsIG1vZGlmaWVycyBjb3VsZCBvdmVycmlkZSB0aGUgcHJvcGVydGllcyBkZWZpbmVkIGluIHRoZSBwcmV2aW91c1xuICAgICAgICAvLyBsaW5lcyBvZiB0aGlzIG1vZGlmaWVyIVxuICAgICAgICBzZXRTdHlsZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuc3R5bGVzKTtcblxuICAgICAgICAvLyBhbnkgcHJvcGVydHkgcHJlc2VudCBpbiBgZGF0YS5hdHRyaWJ1dGVzYCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlcixcbiAgICAgICAgLy8gdGhleSB3aWxsIGJlIHNldCBhcyBIVE1MIGF0dHJpYnV0ZXMgb2YgdGhlIGVsZW1lbnRcbiAgICAgICAgc2V0QXR0cmlidXRlcyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5hdHRyaWJ1dGVzKTtcblxuICAgICAgICAvLyBpZiBhcnJvd0VsZW1lbnQgaXMgZGVmaW5lZCBhbmQgYXJyb3dTdHlsZXMgaGFzIHNvbWUgcHJvcGVydGllc1xuICAgICAgICBpZiAoZGF0YS5hcnJvd0VsZW1lbnQgJiYgT2JqZWN0LmtleXMoZGF0YS5hcnJvd1N0eWxlcykubGVuZ3RoKSB7XG4gICAgICAgICAgICBzZXRTdHlsZXMoZGF0YS5hcnJvd0VsZW1lbnQsIGRhdGEuYXJyb3dTdHlsZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB4LXBsYWNlbWVudCBhdHRyaWJ1dGUgYmVmb3JlIGV2ZXJ5dGhpbmcgZWxzZSBiZWNhdXNlIGl0IGNvdWxkIGJlIHVzZWRcbiAgICAgKiB0byBhZGQgbWFyZ2lucyB0byB0aGUgcG9wcGVyIG1hcmdpbnMgbmVlZHMgdG8gYmUgY2FsY3VsYXRlZCB0byBnZXQgdGhlXG4gICAgICogY29ycmVjdCBwb3BwZXIgb2Zmc2V0cy5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFBvcHBlci5tb2RpZmllcnNcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByZWZlcmVuY2UgLSBUaGUgcmVmZXJlbmNlIGVsZW1lbnQgdXNlZCB0byBwb3NpdGlvbiB0aGUgcG9wcGVyXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wcGVyIC0gVGhlIEhUTUwgZWxlbWVudCB1c2VkIGFzIHBvcHBlclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gUG9wcGVyLmpzIG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcHBseVN0eWxlT25Mb2FkKHJlZmVyZW5jZSwgcG9wcGVyLCBvcHRpb25zLCBtb2RpZmllck9wdGlvbnMsIHN0YXRlKSB7XG4gICAgICAgIC8vIGNvbXB1dGUgcmVmZXJlbmNlIGVsZW1lbnQgb2Zmc2V0c1xuICAgICAgICB2YXIgcmVmZXJlbmNlT2Zmc2V0cyA9IGdldFJlZmVyZW5jZU9mZnNldHMoc3RhdGUsIHBvcHBlciwgcmVmZXJlbmNlLCBvcHRpb25zLnBvc2l0aW9uRml4ZWQpO1xuXG4gICAgICAgIC8vIGNvbXB1dGUgYXV0byBwbGFjZW1lbnQsIHN0b3JlIHBsYWNlbWVudCBpbnNpZGUgdGhlIGRhdGEgb2JqZWN0LFxuICAgICAgICAvLyBtb2RpZmllcnMgd2lsbCBiZSBhYmxlIHRvIGVkaXQgYHBsYWNlbWVudGAgaWYgbmVlZGVkXG4gICAgICAgIC8vIGFuZCByZWZlciB0byBvcmlnaW5hbFBsYWNlbWVudCB0byBrbm93IHRoZSBvcmlnaW5hbCB2YWx1ZVxuICAgICAgICB2YXIgcGxhY2VtZW50ID0gY29tcHV0ZUF1dG9QbGFjZW1lbnQob3B0aW9ucy5wbGFjZW1lbnQsIHJlZmVyZW5jZU9mZnNldHMsIHBvcHBlciwgcmVmZXJlbmNlLCBvcHRpb25zLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LCBvcHRpb25zLm1vZGlmaWVycy5mbGlwLnBhZGRpbmcpO1xuXG4gICAgICAgIHBvcHBlci5zZXRBdHRyaWJ1dGUoJ3gtcGxhY2VtZW50JywgcGxhY2VtZW50KTtcblxuICAgICAgICAvLyBBcHBseSBgcG9zaXRpb25gIHRvIHBvcHBlciBiZWZvcmUgYW55dGhpbmcgZWxzZSBiZWNhdXNlXG4gICAgICAgIC8vIHdpdGhvdXQgdGhlIHBvc2l0aW9uIGFwcGxpZWQgd2UgY2FuJ3QgZ3VhcmFudGVlIGNvcnJlY3QgY29tcHV0YXRpb25zXG4gICAgICAgIHNldFN0eWxlcyhwb3BwZXIsIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBvcHRpb25zLnBvc2l0aW9uRml4ZWQgPyAnZml4ZWQnIDogJ2Fic29sdXRlJ1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gICAgICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcHV0ZVN0eWxlKGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHggPSBvcHRpb25zLngsXG4gICAgICAgICAgICB5ID0gb3B0aW9ucy55O1xuICAgICAgICB2YXIgcG9wcGVyID0gZGF0YS5vZmZzZXRzLnBvcHBlcjtcblxuICAgICAgICAvLyBSZW1vdmUgdGhpcyBsZWdhY3kgc3VwcG9ydCBpbiBQb3BwZXIuanMgdjJcblxuICAgICAgICB2YXIgbGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uID0gZmluZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgZnVuY3Rpb24obW9kaWZpZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2RpZmllci5uYW1lID09PSAnYXBwbHlTdHlsZSc7XG4gICAgICAgIH0pLmdwdUFjY2VsZXJhdGlvbjtcbiAgICAgICAgaWYgKGxlZ2FjeUdwdUFjY2VsZXJhdGlvbk9wdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IGBncHVBY2NlbGVyYXRpb25gIG9wdGlvbiBtb3ZlZCB0byBgY29tcHV0ZVN0eWxlYCBtb2RpZmllciBhbmQgd2lsbCBub3QgYmUgc3VwcG9ydGVkIGluIGZ1dHVyZSB2ZXJzaW9ucyBvZiBQb3BwZXIuanMhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdwdUFjY2VsZXJhdGlvbiA9IGxlZ2FjeUdwdUFjY2VsZXJhdGlvbk9wdGlvbiAhPT0gdW5kZWZpbmVkID8gbGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uIDogb3B0aW9ucy5ncHVBY2NlbGVyYXRpb247XG5cbiAgICAgICAgdmFyIG9mZnNldFBhcmVudCA9IGdldE9mZnNldFBhcmVudChkYXRhLmluc3RhbmNlLnBvcHBlcik7XG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG9mZnNldFBhcmVudCk7XG5cbiAgICAgICAgLy8gU3R5bGVzXG4gICAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogcG9wcGVyLnBvc2l0aW9uXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQXZvaWQgYmx1cnJ5IHRleHQgYnkgdXNpbmcgZnVsbCBwaXhlbCBpbnRlZ2Vycy5cbiAgICAgICAgLy8gRm9yIHBpeGVsLXBlcmZlY3QgcG9zaXRpb25pbmcsIHRvcC9ib3R0b20gcHJlZmVycyByb3VuZGVkXG4gICAgICAgIC8vIHZhbHVlcywgd2hpbGUgbGVmdC9yaWdodCBwcmVmZXJzIGZsb29yZWQgdmFsdWVzLlxuICAgICAgICB2YXIgb2Zmc2V0cyA9IHtcbiAgICAgICAgICAgIGxlZnQ6IE1hdGguZmxvb3IocG9wcGVyLmxlZnQpLFxuICAgICAgICAgICAgdG9wOiBNYXRoLnJvdW5kKHBvcHBlci50b3ApLFxuICAgICAgICAgICAgYm90dG9tOiBNYXRoLnJvdW5kKHBvcHBlci5ib3R0b20pLFxuICAgICAgICAgICAgcmlnaHQ6IE1hdGguZmxvb3IocG9wcGVyLnJpZ2h0KVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzaWRlQSA9IHggPT09ICdib3R0b20nID8gJ3RvcCcgOiAnYm90dG9tJztcbiAgICAgICAgdmFyIHNpZGVCID0geSA9PT0gJ3JpZ2h0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG5cbiAgICAgICAgLy8gaWYgZ3B1QWNjZWxlcmF0aW9uIGlzIHNldCB0byBgdHJ1ZWAgYW5kIHRyYW5zZm9ybSBpcyBzdXBwb3J0ZWQsXG4gICAgICAgIC8vICB3ZSB1c2UgYHRyYW5zbGF0ZTNkYCB0byBhcHBseSB0aGUgcG9zaXRpb24gdG8gdGhlIHBvcHBlciB3ZVxuICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IHVzZSB0aGUgc3VwcG9ydGVkIHByZWZpeGVkIHZlcnNpb24gaWYgbmVlZGVkXG4gICAgICAgIHZhciBwcmVmaXhlZFByb3BlcnR5ID0gZ2V0U3VwcG9ydGVkUHJvcGVydHlOYW1lKCd0cmFuc2Zvcm0nKTtcblxuICAgICAgICAvLyBub3csIGxldCdzIG1ha2UgYSBzdGVwIGJhY2sgYW5kIGxvb2sgYXQgdGhpcyBjb2RlIGNsb3NlbHkgKHd0Zj8pXG4gICAgICAgIC8vIElmIHRoZSBjb250ZW50IG9mIHRoZSBwb3BwZXIgZ3Jvd3Mgb25jZSBpdCdzIGJlZW4gcG9zaXRpb25lZCwgaXRcbiAgICAgICAgLy8gbWF5IGhhcHBlbiB0aGF0IHRoZSBwb3BwZXIgZ2V0cyBtaXNwbGFjZWQgYmVjYXVzZSBvZiB0aGUgbmV3IGNvbnRlbnRcbiAgICAgICAgLy8gb3ZlcmZsb3dpbmcgaXRzIHJlZmVyZW5jZSBlbGVtZW50XG4gICAgICAgIC8vIFRvIGF2b2lkIHRoaXMgcHJvYmxlbSwgd2UgcHJvdmlkZSB0d28gb3B0aW9ucyAoeCBhbmQgeSksIHdoaWNoIGFsbG93XG4gICAgICAgIC8vIHRoZSBjb25zdW1lciB0byBkZWZpbmUgdGhlIG9mZnNldCBvcmlnaW4uXG4gICAgICAgIC8vIElmIHdlIHBvc2l0aW9uIGEgcG9wcGVyIG9uIHRvcCBvZiBhIHJlZmVyZW5jZSBlbGVtZW50LCB3ZSBjYW4gc2V0XG4gICAgICAgIC8vIGB4YCB0byBgdG9wYCB0byBtYWtlIHRoZSBwb3BwZXIgZ3JvdyB0b3dhcmRzIGl0cyB0b3AgaW5zdGVhZCBvZlxuICAgICAgICAvLyBpdHMgYm90dG9tLlxuICAgICAgICB2YXIgbGVmdCA9IHZvaWQgMCxcbiAgICAgICAgICAgIHRvcCA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHNpZGVBID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgdG9wID0gLW9mZnNldFBhcmVudFJlY3QuaGVpZ2h0ICsgb2Zmc2V0cy5ib3R0b207XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b3AgPSBvZmZzZXRzLnRvcDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2lkZUIgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIGxlZnQgPSAtb2Zmc2V0UGFyZW50UmVjdC53aWR0aCArIG9mZnNldHMucmlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZWZ0ID0gb2Zmc2V0cy5sZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChncHVBY2NlbGVyYXRpb24gJiYgcHJlZml4ZWRQcm9wZXJ0eSkge1xuICAgICAgICAgICAgc3R5bGVzW3ByZWZpeGVkUHJvcGVydHldID0gJ3RyYW5zbGF0ZTNkKCcgKyBsZWZ0ICsgJ3B4LCAnICsgdG9wICsgJ3B4LCAwKSc7XG4gICAgICAgICAgICBzdHlsZXNbc2lkZUFdID0gMDtcbiAgICAgICAgICAgIHN0eWxlc1tzaWRlQl0gPSAwO1xuICAgICAgICAgICAgc3R5bGVzLndpbGxDaGFuZ2UgPSAndHJhbnNmb3JtJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIG90aHdlcmlzZSwgd2UgdXNlIHRoZSBzdGFuZGFyZCBgdG9wYCwgYGxlZnRgLCBgYm90dG9tYCBhbmQgYHJpZ2h0YCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICB2YXIgaW52ZXJ0VG9wID0gc2lkZUEgPT09ICdib3R0b20nID8gLTEgOiAxO1xuICAgICAgICAgICAgdmFyIGludmVydExlZnQgPSBzaWRlQiA9PT0gJ3JpZ2h0JyA/IC0xIDogMTtcbiAgICAgICAgICAgIHN0eWxlc1tzaWRlQV0gPSB0b3AgKiBpbnZlcnRUb3A7XG4gICAgICAgICAgICBzdHlsZXNbc2lkZUJdID0gbGVmdCAqIGludmVydExlZnQ7XG4gICAgICAgICAgICBzdHlsZXMud2lsbENoYW5nZSA9IHNpZGVBICsgJywgJyArIHNpZGVCO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXR0cmlidXRlc1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgICd4LXBsYWNlbWVudCc6IGRhdGEucGxhY2VtZW50XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVXBkYXRlIGBkYXRhYCBhdHRyaWJ1dGVzLCBzdHlsZXMgYW5kIGFycm93U3R5bGVzXG4gICAgICAgIGRhdGEuYXR0cmlidXRlcyA9IF9leHRlbmRzKHt9LCBhdHRyaWJ1dGVzLCBkYXRhLmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLnN0eWxlcyA9IF9leHRlbmRzKHt9LCBzdHlsZXMsIGRhdGEuc3R5bGVzKTtcbiAgICAgICAgZGF0YS5hcnJvd1N0eWxlcyA9IF9leHRlbmRzKHt9LCBkYXRhLm9mZnNldHMuYXJyb3csIGRhdGEuYXJyb3dTdHlsZXMpO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciB1c2VkIHRvIGtub3cgaWYgdGhlIGdpdmVuIG1vZGlmaWVyIGRlcGVuZHMgZnJvbSBhbm90aGVyIG9uZS48YnIgLz5cbiAgICAgKiBJdCBjaGVja3MgaWYgdGhlIG5lZWRlZCBtb2RpZmllciBpcyBsaXN0ZWQgYW5kIGVuYWJsZWQuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnMgLSBsaXN0IG9mIG1vZGlmaWVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0aW5nTmFtZSAtIG5hbWUgb2YgcmVxdWVzdGluZyBtb2RpZmllclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0ZWROYW1lIC0gbmFtZSBvZiByZXF1ZXN0ZWQgbW9kaWZpZXJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01vZGlmaWVyUmVxdWlyZWQobW9kaWZpZXJzLCByZXF1ZXN0aW5nTmFtZSwgcmVxdWVzdGVkTmFtZSkge1xuICAgICAgICB2YXIgcmVxdWVzdGluZyA9IGZpbmQobW9kaWZpZXJzLCBmdW5jdGlvbihfcmVmKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IF9yZWYubmFtZTtcbiAgICAgICAgICAgIHJldHVybiBuYW1lID09PSByZXF1ZXN0aW5nTmFtZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGlzUmVxdWlyZWQgPSAhIXJlcXVlc3RpbmcgJiYgbW9kaWZpZXJzLnNvbWUoZnVuY3Rpb24obW9kaWZpZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2RpZmllci5uYW1lID09PSByZXF1ZXN0ZWROYW1lICYmIG1vZGlmaWVyLmVuYWJsZWQgJiYgbW9kaWZpZXIub3JkZXIgPCByZXF1ZXN0aW5nLm9yZGVyO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWlzUmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHZhciBfcmVxdWVzdGluZyA9ICdgJyArIHJlcXVlc3RpbmdOYW1lICsgJ2AnO1xuICAgICAgICAgICAgdmFyIHJlcXVlc3RlZCA9ICdgJyArIHJlcXVlc3RlZE5hbWUgKyAnYCc7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4ocmVxdWVzdGVkICsgJyBtb2RpZmllciBpcyByZXF1aXJlZCBieSAnICsgX3JlcXVlc3RpbmcgKyAnIG1vZGlmaWVyIGluIG9yZGVyIHRvIHdvcmssIGJlIHN1cmUgdG8gaW5jbHVkZSBpdCBiZWZvcmUgJyArIF9yZXF1ZXN0aW5nICsgJyEnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNSZXF1aXJlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gICAgICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAgICAgKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gICAgICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycm93KGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9kYXRhJG9mZnNldHMkYXJyb3c7XG5cbiAgICAgICAgLy8gYXJyb3cgZGVwZW5kcyBvbiBrZWVwVG9nZXRoZXIgaW4gb3JkZXIgdG8gd29ya1xuICAgICAgICBpZiAoIWlzTW9kaWZpZXJSZXF1aXJlZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgJ2Fycm93JywgJ2tlZXBUb2dldGhlcicpKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcnJvd0VsZW1lbnQgPSBvcHRpb25zLmVsZW1lbnQ7XG5cbiAgICAgICAgLy8gaWYgYXJyb3dFbGVtZW50IGlzIGEgc3RyaW5nLCBzdXBwb3NlIGl0J3MgYSBDU1Mgc2VsZWN0b3JcbiAgICAgICAgaWYgKHR5cGVvZiBhcnJvd0VsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBhcnJvd0VsZW1lbnQgPSBkYXRhLmluc3RhbmNlLnBvcHBlci5xdWVyeVNlbGVjdG9yKGFycm93RWxlbWVudCk7XG5cbiAgICAgICAgICAgIC8vIGlmIGFycm93RWxlbWVudCBpcyBub3QgZm91bmQsIGRvbid0IHJ1biB0aGUgbW9kaWZpZXJcbiAgICAgICAgICAgIGlmICghYXJyb3dFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgYXJyb3dFbGVtZW50IGlzbid0IGEgcXVlcnkgc2VsZWN0b3Igd2UgbXVzdCBjaGVjayB0aGF0IHRoZVxuICAgICAgICAgICAgLy8gcHJvdmlkZWQgRE9NIG5vZGUgaXMgY2hpbGQgb2YgaXRzIHBvcHBlciBub2RlXG4gICAgICAgICAgICBpZiAoIWRhdGEuaW5zdGFuY2UucG9wcGVyLmNvbnRhaW5zKGFycm93RWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IGBhcnJvdy5lbGVtZW50YCBtdXN0IGJlIGNoaWxkIG9mIGl0cyBwb3BwZXIgZWxlbWVudCEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICAgICAgICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgICAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgICAgICAgdmFyIGlzVmVydGljYWwgPSBbJ2xlZnQnLCAncmlnaHQnXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xO1xuXG4gICAgICAgIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICAgICAgICB2YXIgc2lkZUNhcGl0YWxpemVkID0gaXNWZXJ0aWNhbCA/ICdUb3AnIDogJ0xlZnQnO1xuICAgICAgICB2YXIgc2lkZSA9IHNpZGVDYXBpdGFsaXplZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB2YXIgYWx0U2lkZSA9IGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJztcbiAgICAgICAgdmFyIG9wU2lkZSA9IGlzVmVydGljYWwgPyAnYm90dG9tJyA6ICdyaWdodCc7XG4gICAgICAgIHZhciBhcnJvd0VsZW1lbnRTaXplID0gZ2V0T3V0ZXJTaXplcyhhcnJvd0VsZW1lbnQpW2xlbl07XG5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gZXh0ZW5kcyBrZWVwVG9nZXRoZXIgYmVoYXZpb3IgbWFraW5nIHN1cmUgdGhlIHBvcHBlciBhbmQgaXRzXG4gICAgICAgIC8vIHJlZmVyZW5jZSBoYXZlIGVub3VnaCBwaXhlbHMgaW4gY29uanVjdGlvblxuICAgICAgICAvL1xuXG4gICAgICAgIC8vIHRvcC9sZWZ0IHNpZGVcbiAgICAgICAgaWYgKHJlZmVyZW5jZVtvcFNpZGVdIC0gYXJyb3dFbGVtZW50U2l6ZSA8IHBvcHBlcltzaWRlXSkge1xuICAgICAgICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlcltzaWRlXSAtPSBwb3BwZXJbc2lkZV0gLSAocmVmZXJlbmNlW29wU2lkZV0gLSBhcnJvd0VsZW1lbnRTaXplKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBib3R0b20vcmlnaHQgc2lkZVxuICAgICAgICBpZiAocmVmZXJlbmNlW3NpZGVdICsgYXJyb3dFbGVtZW50U2l6ZSA+IHBvcHBlcltvcFNpZGVdKSB7XG4gICAgICAgICAgICBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdICs9IHJlZmVyZW5jZVtzaWRlXSArIGFycm93RWxlbWVudFNpemUgLSBwb3BwZXJbb3BTaWRlXTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0Q2xpZW50UmVjdChkYXRhLm9mZnNldHMucG9wcGVyKTtcblxuICAgICAgICAvLyBjb21wdXRlIGNlbnRlciBvZiB0aGUgcG9wcGVyXG4gICAgICAgIHZhciBjZW50ZXIgPSByZWZlcmVuY2Vbc2lkZV0gKyByZWZlcmVuY2VbbGVuXSAvIDIgLSBhcnJvd0VsZW1lbnRTaXplIC8gMjtcblxuICAgICAgICAvLyBDb21wdXRlIHRoZSBzaWRlVmFsdWUgdXNpbmcgdGhlIHVwZGF0ZWQgcG9wcGVyIG9mZnNldHNcbiAgICAgICAgLy8gdGFrZSBwb3BwZXIgbWFyZ2luIGluIGFjY291bnQgYmVjYXVzZSB3ZSBkb24ndCBoYXZlIHRoaXMgaW5mbyBhdmFpbGFibGVcbiAgICAgICAgdmFyIGNzcyA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShkYXRhLmluc3RhbmNlLnBvcHBlcik7XG4gICAgICAgIHZhciBwb3BwZXJNYXJnaW5TaWRlID0gcGFyc2VGbG9hdChjc3NbJ21hcmdpbicgKyBzaWRlQ2FwaXRhbGl6ZWRdLCAxMCk7XG4gICAgICAgIHZhciBwb3BwZXJCb3JkZXJTaWRlID0gcGFyc2VGbG9hdChjc3NbJ2JvcmRlcicgKyBzaWRlQ2FwaXRhbGl6ZWQgKyAnV2lkdGgnXSwgMTApO1xuICAgICAgICB2YXIgc2lkZVZhbHVlID0gY2VudGVyIC0gZGF0YS5vZmZzZXRzLnBvcHBlcltzaWRlXSAtIHBvcHBlck1hcmdpblNpZGUgLSBwb3BwZXJCb3JkZXJTaWRlO1xuXG4gICAgICAgIC8vIHByZXZlbnQgYXJyb3dFbGVtZW50IGZyb20gYmVpbmcgcGxhY2VkIG5vdCBjb250aWd1b3VzbHkgdG8gaXRzIHBvcHBlclxuICAgICAgICBzaWRlVmFsdWUgPSBNYXRoLm1heChNYXRoLm1pbihwb3BwZXJbbGVuXSAtIGFycm93RWxlbWVudFNpemUsIHNpZGVWYWx1ZSksIDApO1xuXG4gICAgICAgIGRhdGEuYXJyb3dFbGVtZW50ID0gYXJyb3dFbGVtZW50O1xuICAgICAgICBkYXRhLm9mZnNldHMuYXJyb3cgPSAoX2RhdGEkb2Zmc2V0cyRhcnJvdyA9IHt9LCBkZWZpbmVQcm9wZXJ0eShfZGF0YSRvZmZzZXRzJGFycm93LCBzaWRlLCBNYXRoLnJvdW5kKHNpZGVWYWx1ZSkpLCBkZWZpbmVQcm9wZXJ0eShfZGF0YSRvZmZzZXRzJGFycm93LCBhbHRTaWRlLCAnJyksIF9kYXRhJG9mZnNldHMkYXJyb3cpO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgb3Bwb3NpdGUgcGxhY2VtZW50IHZhcmlhdGlvbiBvZiB0aGUgZ2l2ZW4gb25lXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAgICAgKiBAYXJndW1lbnQge1N0cmluZ30gcGxhY2VtZW50IHZhcmlhdGlvblxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IGZsaXBwZWQgcGxhY2VtZW50IHZhcmlhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE9wcG9zaXRlVmFyaWF0aW9uKHZhcmlhdGlvbikge1xuICAgICAgICBpZiAodmFyaWF0aW9uID09PSAnZW5kJykge1xuICAgICAgICAgICAgcmV0dXJuICdzdGFydCc7XG4gICAgICAgIH0gZWxzZSBpZiAodmFyaWF0aW9uID09PSAnc3RhcnQnKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2VuZCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhcmlhdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIGFjY2VwdGVkIHBsYWNlbWVudHMgdG8gdXNlIGFzIHZhbHVlcyBvZiB0aGUgYHBsYWNlbWVudGAgb3B0aW9uLjxiciAvPlxuICAgICAqIFZhbGlkIHBsYWNlbWVudHMgYXJlOlxuICAgICAqIC0gYGF1dG9gXG4gICAgICogLSBgdG9wYFxuICAgICAqIC0gYHJpZ2h0YFxuICAgICAqIC0gYGJvdHRvbWBcbiAgICAgKiAtIGBsZWZ0YFxuICAgICAqXG4gICAgICogRWFjaCBwbGFjZW1lbnQgY2FuIGhhdmUgYSB2YXJpYXRpb24gZnJvbSB0aGlzIGxpc3Q6XG4gICAgICogLSBgLXN0YXJ0YFxuICAgICAqIC0gYC1lbmRgXG4gICAgICpcbiAgICAgKiBWYXJpYXRpb25zIGFyZSBpbnRlcnByZXRlZCBlYXNpbHkgaWYgeW91IHRoaW5rIG9mIHRoZW0gYXMgdGhlIGxlZnQgdG8gcmlnaHRcbiAgICAgKiB3cml0dGVuIGxhbmd1YWdlcy4gSG9yaXpvbnRhbGx5IChgdG9wYCBhbmQgYGJvdHRvbWApLCBgc3RhcnRgIGlzIGxlZnQgYW5kIGBlbmRgXG4gICAgICogaXMgcmlnaHQuPGJyIC8+XG4gICAgICogVmVydGljYWxseSAoYGxlZnRgIGFuZCBgcmlnaHRgKSwgYHN0YXJ0YCBpcyB0b3AgYW5kIGBlbmRgIGlzIGJvdHRvbS5cbiAgICAgKlxuICAgICAqIFNvbWUgdmFsaWQgZXhhbXBsZXMgYXJlOlxuICAgICAqIC0gYHRvcC1lbmRgIChvbiB0b3Agb2YgcmVmZXJlbmNlLCByaWdodCBhbGlnbmVkKVxuICAgICAqIC0gYHJpZ2h0LXN0YXJ0YCAob24gcmlnaHQgb2YgcmVmZXJlbmNlLCB0b3AgYWxpZ25lZClcbiAgICAgKiAtIGBib3R0b21gIChvbiBib3R0b20sIGNlbnRlcmVkKVxuICAgICAqIC0gYGF1dG8tcmlnaHRgIChvbiB0aGUgc2lkZSB3aXRoIG1vcmUgc3BhY2UgYXZhaWxhYmxlLCBhbGlnbm1lbnQgZGVwZW5kcyBieSBwbGFjZW1lbnQpXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBlbnVtIHtTdHJpbmd9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1ldGhvZCBwbGFjZW1lbnRzXG4gICAgICogQG1lbWJlcm9mIFBvcHBlclxuICAgICAqL1xuICAgIHZhciBwbGFjZW1lbnRzID0gWydhdXRvLXN0YXJ0JywgJ2F1dG8nLCAnYXV0by1lbmQnLCAndG9wLXN0YXJ0JywgJ3RvcCcsICd0b3AtZW5kJywgJ3JpZ2h0LXN0YXJ0JywgJ3JpZ2h0JywgJ3JpZ2h0LWVuZCcsICdib3R0b20tZW5kJywgJ2JvdHRvbScsICdib3R0b20tc3RhcnQnLCAnbGVmdC1lbmQnLCAnbGVmdCcsICdsZWZ0LXN0YXJ0J107XG5cbiAgICAvLyBHZXQgcmlkIG9mIGBhdXRvYCBgYXV0by1zdGFydGAgYW5kIGBhdXRvLWVuZGBcbiAgICB2YXIgdmFsaWRQbGFjZW1lbnRzID0gcGxhY2VtZW50cy5zbGljZSgzKTtcblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGFuIGluaXRpYWwgcGxhY2VtZW50LCByZXR1cm5zIGFsbCB0aGUgc3Vic2VxdWVudCBwbGFjZW1lbnRzXG4gICAgICogY2xvY2t3aXNlIChvciBjb3VudGVyLWNsb2Nrd2lzZSkuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICAgICAqIEBhcmd1bWVudCB7U3RyaW5nfSBwbGFjZW1lbnQgLSBBIHZhbGlkIHBsYWNlbWVudCAoaXQgYWNjZXB0cyB2YXJpYXRpb25zKVxuICAgICAqIEBhcmd1bWVudCB7Qm9vbGVhbn0gY291bnRlciAtIFNldCB0byB0cnVlIHRvIHdhbGsgdGhlIHBsYWNlbWVudHMgY291bnRlcmNsb2Nrd2lzZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gcGxhY2VtZW50cyBpbmNsdWRpbmcgdGhlaXIgdmFyaWF0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb2Nrd2lzZShwbGFjZW1lbnQpIHtcbiAgICAgICAgdmFyIGNvdW50ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgICAgIHZhciBpbmRleCA9IHZhbGlkUGxhY2VtZW50cy5pbmRleE9mKHBsYWNlbWVudCk7XG4gICAgICAgIHZhciBhcnIgPSB2YWxpZFBsYWNlbWVudHMuc2xpY2UoaW5kZXggKyAxKS5jb25jYXQodmFsaWRQbGFjZW1lbnRzLnNsaWNlKDAsIGluZGV4KSk7XG4gICAgICAgIHJldHVybiBjb3VudGVyID8gYXJyLnJldmVyc2UoKSA6IGFycjtcbiAgICB9XG5cbiAgICB2YXIgQkVIQVZJT1JTID0ge1xuICAgICAgICBGTElQOiAnZmxpcCcsXG4gICAgICAgIENMT0NLV0lTRTogJ2Nsb2Nrd2lzZScsXG4gICAgICAgIENPVU5URVJDTE9DS1dJU0U6ICdjb3VudGVyY2xvY2t3aXNlJ1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gICAgICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAgICAgKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gICAgICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsaXAoZGF0YSwgb3B0aW9ucykge1xuICAgICAgICAvLyBpZiBgaW5uZXJgIG1vZGlmaWVyIGlzIGVuYWJsZWQsIHdlIGNhbid0IHVzZSB0aGUgYGZsaXBgIG1vZGlmaWVyXG4gICAgICAgIGlmIChpc01vZGlmaWVyRW5hYmxlZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgJ2lubmVyJykpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuZmxpcHBlZCAmJiBkYXRhLnBsYWNlbWVudCA9PT0gZGF0YS5vcmlnaW5hbFBsYWNlbWVudCkge1xuICAgICAgICAgICAgLy8gc2VlbXMgbGlrZSBmbGlwIGlzIHRyeWluZyB0byBsb29wLCBwcm9iYWJseSB0aGVyZSdzIG5vdCBlbm91Z2ggc3BhY2Ugb24gYW55IG9mIHRoZSBmbGlwcGFibGUgc2lkZXNcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJvdW5kYXJpZXMgPSBnZXRCb3VuZGFyaWVzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLmluc3RhbmNlLnJlZmVyZW5jZSwgb3B0aW9ucy5wYWRkaW5nLCBvcHRpb25zLmJvdW5kYXJpZXNFbGVtZW50LCBkYXRhLnBvc2l0aW9uRml4ZWQpO1xuXG4gICAgICAgIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICAgICAgICB2YXIgcGxhY2VtZW50T3Bwb3NpdGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuICAgICAgICB2YXIgdmFyaWF0aW9uID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVsxXSB8fCAnJztcblxuICAgICAgICB2YXIgZmxpcE9yZGVyID0gW107XG5cbiAgICAgICAgc3dpdGNoIChvcHRpb25zLmJlaGF2aW9yKSB7XG4gICAgICAgICAgICBjYXNlIEJFSEFWSU9SUy5GTElQOlxuICAgICAgICAgICAgICAgIGZsaXBPcmRlciA9IFtwbGFjZW1lbnQsIHBsYWNlbWVudE9wcG9zaXRlXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQkVIQVZJT1JTLkNMT0NLV0lTRTpcbiAgICAgICAgICAgICAgICBmbGlwT3JkZXIgPSBjbG9ja3dpc2UocGxhY2VtZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQkVIQVZJT1JTLkNPVU5URVJDTE9DS1dJU0U6XG4gICAgICAgICAgICAgICAgZmxpcE9yZGVyID0gY2xvY2t3aXNlKHBsYWNlbWVudCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGZsaXBPcmRlciA9IG9wdGlvbnMuYmVoYXZpb3I7XG4gICAgICAgIH1cblxuICAgICAgICBmbGlwT3JkZXIuZm9yRWFjaChmdW5jdGlvbihzdGVwLCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKHBsYWNlbWVudCAhPT0gc3RlcCB8fCBmbGlwT3JkZXIubGVuZ3RoID09PSBpbmRleCArIDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgICAgICAgICAgIHBsYWNlbWVudE9wcG9zaXRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcblxuICAgICAgICAgICAgdmFyIHBvcHBlck9mZnNldHMgPSBkYXRhLm9mZnNldHMucG9wcGVyO1xuICAgICAgICAgICAgdmFyIHJlZk9mZnNldHMgPSBkYXRhLm9mZnNldHMucmVmZXJlbmNlO1xuXG4gICAgICAgICAgICAvLyB1c2luZyBmbG9vciBiZWNhdXNlIHRoZSByZWZlcmVuY2Ugb2Zmc2V0cyBtYXkgY29udGFpbiBkZWNpbWFscyB3ZSBhcmUgbm90IGdvaW5nIHRvIGNvbnNpZGVyIGhlcmVcbiAgICAgICAgICAgIHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG4gICAgICAgICAgICB2YXIgb3ZlcmxhcHNSZWYgPSBwbGFjZW1lbnQgPT09ICdsZWZ0JyAmJiBmbG9vcihwb3BwZXJPZmZzZXRzLnJpZ2h0KSA+IGZsb29yKHJlZk9mZnNldHMubGVmdCkgfHwgcGxhY2VtZW50ID09PSAncmlnaHQnICYmIGZsb29yKHBvcHBlck9mZnNldHMubGVmdCkgPCBmbG9vcihyZWZPZmZzZXRzLnJpZ2h0KSB8fCBwbGFjZW1lbnQgPT09ICd0b3AnICYmIGZsb29yKHBvcHBlck9mZnNldHMuYm90dG9tKSA+IGZsb29yKHJlZk9mZnNldHMudG9wKSB8fCBwbGFjZW1lbnQgPT09ICdib3R0b20nICYmIGZsb29yKHBvcHBlck9mZnNldHMudG9wKSA8IGZsb29yKHJlZk9mZnNldHMuYm90dG9tKTtcblxuICAgICAgICAgICAgdmFyIG92ZXJmbG93c0xlZnQgPSBmbG9vcihwb3BwZXJPZmZzZXRzLmxlZnQpIDwgZmxvb3IoYm91bmRhcmllcy5sZWZ0KTtcbiAgICAgICAgICAgIHZhciBvdmVyZmxvd3NSaWdodCA9IGZsb29yKHBvcHBlck9mZnNldHMucmlnaHQpID4gZmxvb3IoYm91bmRhcmllcy5yaWdodCk7XG4gICAgICAgICAgICB2YXIgb3ZlcmZsb3dzVG9wID0gZmxvb3IocG9wcGVyT2Zmc2V0cy50b3ApIDwgZmxvb3IoYm91bmRhcmllcy50b3ApO1xuICAgICAgICAgICAgdmFyIG92ZXJmbG93c0JvdHRvbSA9IGZsb29yKHBvcHBlck9mZnNldHMuYm90dG9tKSA+IGZsb29yKGJvdW5kYXJpZXMuYm90dG9tKTtcblxuICAgICAgICAgICAgdmFyIG92ZXJmbG93c0JvdW5kYXJpZXMgPSBwbGFjZW1lbnQgPT09ICdsZWZ0JyAmJiBvdmVyZmxvd3NMZWZ0IHx8IHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyAmJiBvdmVyZmxvd3NSaWdodCB8fCBwbGFjZW1lbnQgPT09ICd0b3AnICYmIG92ZXJmbG93c1RvcCB8fCBwbGFjZW1lbnQgPT09ICdib3R0b20nICYmIG92ZXJmbG93c0JvdHRvbTtcblxuICAgICAgICAgICAgLy8gZmxpcCB0aGUgdmFyaWF0aW9uIGlmIHJlcXVpcmVkXG4gICAgICAgICAgICB2YXIgaXNWZXJ0aWNhbCA9IFsndG9wJywgJ2JvdHRvbSddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTE7XG4gICAgICAgICAgICB2YXIgZmxpcHBlZFZhcmlhdGlvbiA9ICEhb3B0aW9ucy5mbGlwVmFyaWF0aW9ucyAmJiAoaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdzdGFydCcgJiYgb3ZlcmZsb3dzTGVmdCB8fCBpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ2VuZCcgJiYgb3ZlcmZsb3dzUmlnaHQgfHwgIWlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnc3RhcnQnICYmIG92ZXJmbG93c1RvcCB8fCAhaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdlbmQnICYmIG92ZXJmbG93c0JvdHRvbSk7XG5cbiAgICAgICAgICAgIGlmIChvdmVybGFwc1JlZiB8fCBvdmVyZmxvd3NCb3VuZGFyaWVzIHx8IGZsaXBwZWRWYXJpYXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGJvb2xlYW4gdG8gZGV0ZWN0IGFueSBmbGlwIGxvb3BcbiAgICAgICAgICAgICAgICBkYXRhLmZsaXBwZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKG92ZXJsYXBzUmVmIHx8IG92ZXJmbG93c0JvdW5kYXJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID0gZmxpcE9yZGVyW2luZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGZsaXBwZWRWYXJpYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyaWF0aW9uID0gZ2V0T3Bwb3NpdGVWYXJpYXRpb24odmFyaWF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkYXRhLnBsYWNlbWVudCA9IHBsYWNlbWVudCArICh2YXJpYXRpb24gPyAnLScgKyB2YXJpYXRpb24gOiAnJyk7XG5cbiAgICAgICAgICAgICAgICAvLyB0aGlzIG9iamVjdCBjb250YWlucyBgcG9zaXRpb25gLCB3ZSB3YW50IHRvIHByZXNlcnZlIGl0IGFsb25nIHdpdGhcbiAgICAgICAgICAgICAgICAvLyBhbnkgYWRkaXRpb25hbCBwcm9wZXJ0eSB3ZSBtYXkgYWRkIGluIHRoZSBmdXR1cmVcbiAgICAgICAgICAgICAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gX2V4dGVuZHMoe30sIGRhdGEub2Zmc2V0cy5wb3BwZXIsIGdldFBvcHBlck9mZnNldHMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIGRhdGEucGxhY2VtZW50KSk7XG5cbiAgICAgICAgICAgICAgICBkYXRhID0gcnVuTW9kaWZpZXJzKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCBkYXRhLCAnZmxpcCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gICAgICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZWVwVG9nZXRoZXIoZGF0YSkge1xuICAgICAgICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgICAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgICAgICAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gICAgICAgIHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG4gICAgICAgIHZhciBpc1ZlcnRpY2FsID0gWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcbiAgICAgICAgdmFyIHNpZGUgPSBpc1ZlcnRpY2FsID8gJ3JpZ2h0JyA6ICdib3R0b20nO1xuICAgICAgICB2YXIgb3BTaWRlID0gaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnO1xuICAgICAgICB2YXIgbWVhc3VyZW1lbnQgPSBpc1ZlcnRpY2FsID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuXG4gICAgICAgIGlmIChwb3BwZXJbc2lkZV0gPCBmbG9vcihyZWZlcmVuY2Vbb3BTaWRlXSkpIHtcbiAgICAgICAgICAgIGRhdGEub2Zmc2V0cy5wb3BwZXJbb3BTaWRlXSA9IGZsb29yKHJlZmVyZW5jZVtvcFNpZGVdKSAtIHBvcHBlclttZWFzdXJlbWVudF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvcHBlcltvcFNpZGVdID4gZmxvb3IocmVmZXJlbmNlW3NpZGVdKSkge1xuICAgICAgICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlcltvcFNpZGVdID0gZmxvb3IocmVmZXJlbmNlW3NpZGVdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgc3RyaW5nIGNvbnRhaW5pbmcgdmFsdWUgKyB1bml0IGludG8gYSBweCB2YWx1ZSBudW1iZXJcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyb2Yge21vZGlmaWVyc35vZmZzZXR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAYXJndW1lbnQge1N0cmluZ30gc3RyIC0gVmFsdWUgKyB1bml0IHN0cmluZ1xuICAgICAqIEBhcmd1bWVudCB7U3RyaW5nfSBtZWFzdXJlbWVudCAtIGBoZWlnaHRgIG9yIGB3aWR0aGBcbiAgICAgKiBAYXJndW1lbnQge09iamVjdH0gcG9wcGVyT2Zmc2V0c1xuICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSByZWZlcmVuY2VPZmZzZXRzXG4gICAgICogQHJldHVybnMge051bWJlcnxTdHJpbmd9XG4gICAgICogVmFsdWUgaW4gcGl4ZWxzLCBvciBvcmlnaW5hbCBzdHJpbmcgaWYgbm8gdmFsdWVzIHdlcmUgZXh0cmFjdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9WYWx1ZShzdHIsIG1lYXN1cmVtZW50LCBwb3BwZXJPZmZzZXRzLCByZWZlcmVuY2VPZmZzZXRzKSB7XG4gICAgICAgIC8vIHNlcGFyYXRlIHZhbHVlIGZyb20gdW5pdFxuICAgICAgICB2YXIgc3BsaXQgPSBzdHIubWF0Y2goLygoPzpcXC18XFwrKT9cXGQqXFwuP1xcZCopKC4qKS8pO1xuICAgICAgICB2YXIgdmFsdWUgPSArc3BsaXRbMV07XG4gICAgICAgIHZhciB1bml0ID0gc3BsaXRbMl07XG5cbiAgICAgICAgLy8gSWYgaXQncyBub3QgYSBudW1iZXIgaXQncyBhbiBvcGVyYXRvciwgSSBndWVzc1xuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVuaXQuaW5kZXhPZignJScpID09PSAwKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHN3aXRjaCAodW5pdCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJyVwJzpcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IHBvcHBlck9mZnNldHM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJyUnOlxuICAgICAgICAgICAgICAgIGNhc2UgJyVyJzpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gcmVmZXJlbmNlT2Zmc2V0cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJlY3QgPSBnZXRDbGllbnRSZWN0KGVsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlY3RbbWVhc3VyZW1lbnRdIC8gMTAwICogdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAodW5pdCA9PT0gJ3ZoJyB8fCB1bml0ID09PSAndncnKSB7XG4gICAgICAgICAgICAvLyBpZiBpcyBhIHZoIG9yIHZ3LCB3ZSBjYWxjdWxhdGUgdGhlIHNpemUgYmFzZWQgb24gdGhlIHZpZXdwb3J0XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh1bml0ID09PSAndmgnKSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCwgd2luZG93LmlubmVyV2lkdGggfHwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2l6ZSAvIDEwMCAqIHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgaXMgYW4gZXhwbGljaXQgcGl4ZWwgdW5pdCwgd2UgZ2V0IHJpZCBvZiB0aGUgdW5pdCBhbmQga2VlcCB0aGUgdmFsdWVcbiAgICAgICAgICAgIC8vIGlmIGlzIGFuIGltcGxpY2l0IHVuaXQsIGl0J3MgcHgsIGFuZCB3ZSByZXR1cm4ganVzdCB0aGUgdmFsdWVcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlIGFuIGBvZmZzZXRgIHN0cmluZyB0byBleHRyYXBvbGF0ZSBgeGAgYW5kIGB5YCBudW1lcmljIG9mZnNldHMuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlcm9mIHttb2RpZmllcnN+b2Zmc2V0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGFyZ3VtZW50IHtTdHJpbmd9IG9mZnNldFxuICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBwb3BwZXJPZmZzZXRzXG4gICAgICogQGFyZ3VtZW50IHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHNcbiAgICAgKiBAYXJndW1lbnQge1N0cmluZ30gYmFzZVBsYWNlbWVudFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gYSB0d28gY2VsbHMgYXJyYXkgd2l0aCB4IGFuZCB5IG9mZnNldHMgaW4gbnVtYmVyc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlT2Zmc2V0KG9mZnNldCwgcG9wcGVyT2Zmc2V0cywgcmVmZXJlbmNlT2Zmc2V0cywgYmFzZVBsYWNlbWVudCkge1xuICAgICAgICB2YXIgb2Zmc2V0cyA9IFswLCAwXTtcblxuICAgICAgICAvLyBVc2UgaGVpZ2h0IGlmIHBsYWNlbWVudCBpcyBsZWZ0IG9yIHJpZ2h0IGFuZCBpbmRleCBpcyAwIG90aGVyd2lzZSB1c2Ugd2lkdGhcbiAgICAgICAgLy8gaW4gdGhpcyB3YXkgdGhlIGZpcnN0IG9mZnNldCB3aWxsIHVzZSBhbiBheGlzIGFuZCB0aGUgc2Vjb25kIG9uZVxuICAgICAgICAvLyB3aWxsIHVzZSB0aGUgb3RoZXIgb25lXG4gICAgICAgIHZhciB1c2VIZWlnaHQgPSBbJ3JpZ2h0JywgJ2xlZnQnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcblxuICAgICAgICAvLyBTcGxpdCB0aGUgb2Zmc2V0IHN0cmluZyB0byBvYnRhaW4gYSBsaXN0IG9mIHZhbHVlcyBhbmQgb3BlcmFuZHNcbiAgICAgICAgLy8gVGhlIHJlZ2V4IGFkZHJlc3NlcyB2YWx1ZXMgd2l0aCB0aGUgcGx1cyBvciBtaW51cyBzaWduIGluIGZyb250ICgrMTAsIC0yMCwgZXRjKVxuICAgICAgICB2YXIgZnJhZ21lbnRzID0gb2Zmc2V0LnNwbGl0KC8oXFwrfFxcLSkvKS5tYXAoZnVuY3Rpb24oZnJhZykge1xuICAgICAgICAgICAgcmV0dXJuIGZyYWcudHJpbSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEZXRlY3QgaWYgdGhlIG9mZnNldCBzdHJpbmcgY29udGFpbnMgYSBwYWlyIG9mIHZhbHVlcyBvciBhIHNpbmdsZSBvbmVcbiAgICAgICAgLy8gdGhleSBjb3VsZCBiZSBzZXBhcmF0ZWQgYnkgY29tbWEgb3Igc3BhY2VcbiAgICAgICAgdmFyIGRpdmlkZXIgPSBmcmFnbWVudHMuaW5kZXhPZihmaW5kKGZyYWdtZW50cywgZnVuY3Rpb24oZnJhZykge1xuICAgICAgICAgICAgcmV0dXJuIGZyYWcuc2VhcmNoKC8sfFxccy8pICE9PSAtMTtcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGlmIChmcmFnbWVudHNbZGl2aWRlcl0gJiYgZnJhZ21lbnRzW2RpdmlkZXJdLmluZGV4T2YoJywnKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignT2Zmc2V0cyBzZXBhcmF0ZWQgYnkgd2hpdGUgc3BhY2UocykgYXJlIGRlcHJlY2F0ZWQsIHVzZSBhIGNvbW1hICgsKSBpbnN0ZWFkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgZGl2aWRlciBpcyBmb3VuZCwgd2UgZGl2aWRlIHRoZSBsaXN0IG9mIHZhbHVlcyBhbmQgb3BlcmFuZHMgdG8gZGl2aWRlXG4gICAgICAgIC8vIHRoZW0gYnkgb2ZzZXQgWCBhbmQgWS5cbiAgICAgICAgdmFyIHNwbGl0UmVnZXggPSAvXFxzKixcXHMqfFxccysvO1xuICAgICAgICB2YXIgb3BzID0gZGl2aWRlciAhPT0gLTEgPyBbZnJhZ21lbnRzLnNsaWNlKDAsIGRpdmlkZXIpLmNvbmNhdChbZnJhZ21lbnRzW2RpdmlkZXJdLnNwbGl0KHNwbGl0UmVnZXgpWzBdXSksIFtmcmFnbWVudHNbZGl2aWRlcl0uc3BsaXQoc3BsaXRSZWdleClbMV1dLmNvbmNhdChmcmFnbWVudHMuc2xpY2UoZGl2aWRlciArIDEpKV0gOiBbZnJhZ21lbnRzXTtcblxuICAgICAgICAvLyBDb252ZXJ0IHRoZSB2YWx1ZXMgd2l0aCB1bml0cyB0byBhYnNvbHV0ZSBwaXhlbHMgdG8gYWxsb3cgb3VyIGNvbXB1dGF0aW9uc1xuICAgICAgICBvcHMgPSBvcHMubWFwKGZ1bmN0aW9uKG9wLCBpbmRleCkge1xuICAgICAgICAgICAgLy8gTW9zdCBvZiB0aGUgdW5pdHMgcmVseSBvbiB0aGUgb3JpZW50YXRpb24gb2YgdGhlIHBvcHBlclxuICAgICAgICAgICAgdmFyIG1lYXN1cmVtZW50ID0gKGluZGV4ID09PSAxID8gIXVzZUhlaWdodCA6IHVzZUhlaWdodCkgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgICAgICAgICB2YXIgbWVyZ2VXaXRoUHJldmlvdXMgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBvcFxuICAgICAgICAgICAgICAgIC8vIFRoaXMgYWdncmVnYXRlcyBhbnkgYCtgIG9yIGAtYCBzaWduIHRoYXQgYXJlbid0IGNvbnNpZGVyZWQgb3BlcmF0b3JzXG4gICAgICAgICAgICAgICAgLy8gZS5nLjogMTAgKyArNSA9PiBbMTAsICssICs1XVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYVthLmxlbmd0aCAtIDFdID09PSAnJyAmJiBbJysnLCAnLSddLmluZGV4T2YoYikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhW2EubGVuZ3RoIC0gMV0gPSBiO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VXaXRoUHJldmlvdXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWVyZ2VXaXRoUHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFbYS5sZW5ndGggLSAxXSArPSBiO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VXaXRoUHJldmlvdXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuY29uY2F0KGIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgW10pXG4gICAgICAgICAgICAgICAgLy8gSGVyZSB3ZSBjb252ZXJ0IHRoZSBzdHJpbmcgdmFsdWVzIGludG8gbnVtYmVyIHZhbHVlcyAoaW4gcHgpXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvVmFsdWUoc3RyLCBtZWFzdXJlbWVudCwgcG9wcGVyT2Zmc2V0cywgcmVmZXJlbmNlT2Zmc2V0cyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIExvb3AgdHJvdWdoIHRoZSBvZmZzZXRzIGFycmF5cyBhbmQgZXhlY3V0ZSB0aGUgb3BlcmF0aW9uc1xuICAgICAgICBvcHMuZm9yRWFjaChmdW5jdGlvbihvcCwgaW5kZXgpIHtcbiAgICAgICAgICAgIG9wLmZvckVhY2goZnVuY3Rpb24oZnJhZywgaW5kZXgyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTnVtZXJpYyhmcmFnKSkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXRzW2luZGV4XSArPSBmcmFnICogKG9wW2luZGV4MiAtIDFdID09PSAnLScgPyAtMSA6IDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9mZnNldHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gICAgICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICAgICAqIEBhcmd1bWVudCB7TnVtYmVyfFN0cmluZ30gb3B0aW9ucy5vZmZzZXQ9MFxuICAgICAqIFRoZSBvZmZzZXQgdmFsdWUgYXMgZGVzY3JpYmVkIGluIHRoZSBtb2RpZmllciBkZXNjcmlwdGlvblxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvZmZzZXQoZGF0YSwgX3JlZikge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gX3JlZi5vZmZzZXQ7XG4gICAgICAgIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudCxcbiAgICAgICAgICAgIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICAgICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcixcbiAgICAgICAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlO1xuXG4gICAgICAgIHZhciBiYXNlUGxhY2VtZW50ID0gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG5cbiAgICAgICAgdmFyIG9mZnNldHMgPSB2b2lkIDA7XG4gICAgICAgIGlmIChpc051bWVyaWMoK29mZnNldCkpIHtcbiAgICAgICAgICAgIG9mZnNldHMgPSBbK29mZnNldCwgMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvZmZzZXRzID0gcGFyc2VPZmZzZXQob2Zmc2V0LCBwb3BwZXIsIHJlZmVyZW5jZSwgYmFzZVBsYWNlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmFzZVBsYWNlbWVudCA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICBwb3BwZXIudG9wICs9IG9mZnNldHNbMF07XG4gICAgICAgICAgICBwb3BwZXIubGVmdCAtPSBvZmZzZXRzWzFdO1xuICAgICAgICB9IGVsc2UgaWYgKGJhc2VQbGFjZW1lbnQgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIHBvcHBlci50b3AgKz0gb2Zmc2V0c1swXTtcbiAgICAgICAgICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMV07XG4gICAgICAgIH0gZWxzZSBpZiAoYmFzZVBsYWNlbWVudCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMF07XG4gICAgICAgICAgICBwb3BwZXIudG9wIC09IG9mZnNldHNbMV07XG4gICAgICAgIH0gZWxzZSBpZiAoYmFzZVBsYWNlbWVudCA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMF07XG4gICAgICAgICAgICBwb3BwZXIudG9wICs9IG9mZnNldHNbMV07XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnBvcHBlciA9IHBvcHBlcjtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAgICAgKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gICAgICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByZXZlbnRPdmVyZmxvdyhkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBib3VuZGFyaWVzRWxlbWVudCA9IG9wdGlvbnMuYm91bmRhcmllc0VsZW1lbnQgfHwgZ2V0T2Zmc2V0UGFyZW50KGRhdGEuaW5zdGFuY2UucG9wcGVyKTtcblxuICAgICAgICAvLyBJZiBvZmZzZXRQYXJlbnQgaXMgdGhlIHJlZmVyZW5jZSBlbGVtZW50LCB3ZSByZWFsbHkgd2FudCB0b1xuICAgICAgICAvLyBnbyBvbmUgc3RlcCB1cCBhbmQgdXNlIHRoZSBuZXh0IG9mZnNldFBhcmVudCBhcyByZWZlcmVuY2UgdG9cbiAgICAgICAgLy8gYXZvaWQgdG8gbWFrZSB0aGlzIG1vZGlmaWVyIGNvbXBsZXRlbHkgdXNlbGVzcyBhbmQgbG9vayBsaWtlIGJyb2tlblxuICAgICAgICBpZiAoZGF0YS5pbnN0YW5jZS5yZWZlcmVuY2UgPT09IGJvdW5kYXJpZXNFbGVtZW50KSB7XG4gICAgICAgICAgICBib3VuZGFyaWVzRWxlbWVudCA9IGdldE9mZnNldFBhcmVudChib3VuZGFyaWVzRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOT1RFOiBET00gYWNjZXNzIGhlcmVcbiAgICAgICAgLy8gcmVzZXRzIHRoZSBwb3BwZXIncyBwb3NpdGlvbiBzbyB0aGF0IHRoZSBkb2N1bWVudCBzaXplIGNhbiBiZSBjYWxjdWxhdGVkIGV4Y2x1ZGluZ1xuICAgICAgICAvLyB0aGUgc2l6ZSBvZiB0aGUgcG9wcGVyIGVsZW1lbnQgaXRzZWxmXG4gICAgICAgIHZhciB0cmFuc2Zvcm1Qcm9wID0gZ2V0U3VwcG9ydGVkUHJvcGVydHlOYW1lKCd0cmFuc2Zvcm0nKTtcbiAgICAgICAgdmFyIHBvcHBlclN0eWxlcyA9IGRhdGEuaW5zdGFuY2UucG9wcGVyLnN0eWxlOyAvLyBhc3NpZ25tZW50IHRvIGhlbHAgbWluaWZpY2F0aW9uXG4gICAgICAgIHZhciB0b3AgPSBwb3BwZXJTdHlsZXMudG9wLFxuICAgICAgICAgICAgbGVmdCA9IHBvcHBlclN0eWxlcy5sZWZ0LFxuICAgICAgICAgICAgdHJhbnNmb3JtID0gcG9wcGVyU3R5bGVzW3RyYW5zZm9ybVByb3BdO1xuXG4gICAgICAgIHBvcHBlclN0eWxlcy50b3AgPSAnJztcbiAgICAgICAgcG9wcGVyU3R5bGVzLmxlZnQgPSAnJztcbiAgICAgICAgcG9wcGVyU3R5bGVzW3RyYW5zZm9ybVByb3BdID0gJyc7XG5cbiAgICAgICAgdmFyIGJvdW5kYXJpZXMgPSBnZXRCb3VuZGFyaWVzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLmluc3RhbmNlLnJlZmVyZW5jZSwgb3B0aW9ucy5wYWRkaW5nLCBib3VuZGFyaWVzRWxlbWVudCwgZGF0YS5wb3NpdGlvbkZpeGVkKTtcblxuICAgICAgICAvLyBOT1RFOiBET00gYWNjZXNzIGhlcmVcbiAgICAgICAgLy8gcmVzdG9yZXMgdGhlIG9yaWdpbmFsIHN0eWxlIHByb3BlcnRpZXMgYWZ0ZXIgdGhlIG9mZnNldHMgaGF2ZSBiZWVuIGNvbXB1dGVkXG4gICAgICAgIHBvcHBlclN0eWxlcy50b3AgPSB0b3A7XG4gICAgICAgIHBvcHBlclN0eWxlcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgcG9wcGVyU3R5bGVzW3RyYW5zZm9ybVByb3BdID0gdHJhbnNmb3JtO1xuXG4gICAgICAgIG9wdGlvbnMuYm91bmRhcmllcyA9IGJvdW5kYXJpZXM7XG5cbiAgICAgICAgdmFyIG9yZGVyID0gb3B0aW9ucy5wcmlvcml0eTtcbiAgICAgICAgdmFyIHBvcHBlciA9IGRhdGEub2Zmc2V0cy5wb3BwZXI7XG5cbiAgICAgICAgdmFyIGNoZWNrID0ge1xuICAgICAgICAgICAgcHJpbWFyeTogZnVuY3Rpb24gcHJpbWFyeShwbGFjZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBwb3BwZXJbcGxhY2VtZW50XTtcbiAgICAgICAgICAgICAgICBpZiAocG9wcGVyW3BsYWNlbWVudF0gPCBib3VuZGFyaWVzW3BsYWNlbWVudF0gJiYgIW9wdGlvbnMuZXNjYXBlV2l0aFJlZmVyZW5jZSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGgubWF4KHBvcHBlcltwbGFjZW1lbnRdLCBib3VuZGFyaWVzW3BsYWNlbWVudF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkoe30sIHBsYWNlbWVudCwgdmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlY29uZGFyeTogZnVuY3Rpb24gc2Vjb25kYXJ5KHBsYWNlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBtYWluU2lkZSA9IHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyA/ICdsZWZ0JyA6ICd0b3AnO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBvcHBlclttYWluU2lkZV07XG4gICAgICAgICAgICAgICAgaWYgKHBvcHBlcltwbGFjZW1lbnRdID4gYm91bmRhcmllc1twbGFjZW1lbnRdICYmICFvcHRpb25zLmVzY2FwZVdpdGhSZWZlcmVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBNYXRoLm1pbihwb3BwZXJbbWFpblNpZGVdLCBib3VuZGFyaWVzW3BsYWNlbWVudF0gLSAocGxhY2VtZW50ID09PSAncmlnaHQnID8gcG9wcGVyLndpZHRoIDogcG9wcGVyLmhlaWdodCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkoe30sIG1haW5TaWRlLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgb3JkZXIuZm9yRWFjaChmdW5jdGlvbihwbGFjZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBzaWRlID0gWydsZWZ0JywgJ3RvcCddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTEgPyAncHJpbWFyeScgOiAnc2Vjb25kYXJ5JztcbiAgICAgICAgICAgIHBvcHBlciA9IF9leHRlbmRzKHt9LCBwb3BwZXIsIGNoZWNrW3NpZGVdKHBsYWNlbWVudCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gcG9wcGVyO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAgICAgKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gICAgICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaGlmdChkYXRhKSB7XG4gICAgICAgIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudDtcbiAgICAgICAgdmFyIGJhc2VQbGFjZW1lbnQgPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgICAgICAgdmFyIHNoaWZ0dmFyaWF0aW9uID0gcGxhY2VtZW50LnNwbGl0KCctJylbMV07XG5cbiAgICAgICAgLy8gaWYgc2hpZnQgc2hpZnR2YXJpYXRpb24gaXMgc3BlY2lmaWVkLCBydW4gdGhlIG1vZGlmaWVyXG4gICAgICAgIGlmIChzaGlmdHZhcmlhdGlvbikge1xuICAgICAgICAgICAgdmFyIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgcG9wcGVyID0gX2RhdGEkb2Zmc2V0cy5wb3BwZXI7XG5cbiAgICAgICAgICAgIHZhciBpc1ZlcnRpY2FsID0gWydib3R0b20nLCAndG9wJ10uaW5kZXhPZihiYXNlUGxhY2VtZW50KSAhPT0gLTE7XG4gICAgICAgICAgICB2YXIgc2lkZSA9IGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJztcbiAgICAgICAgICAgIHZhciBtZWFzdXJlbWVudCA9IGlzVmVydGljYWwgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG5cbiAgICAgICAgICAgIHZhciBzaGlmdE9mZnNldHMgPSB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IGRlZmluZVByb3BlcnR5KHt9LCBzaWRlLCByZWZlcmVuY2Vbc2lkZV0pLFxuICAgICAgICAgICAgICAgIGVuZDogZGVmaW5lUHJvcGVydHkoe30sIHNpZGUsIHJlZmVyZW5jZVtzaWRlXSArIHJlZmVyZW5jZVttZWFzdXJlbWVudF0gLSBwb3BwZXJbbWVhc3VyZW1lbnRdKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IF9leHRlbmRzKHt9LCBwb3BwZXIsIHNoaWZ0T2Zmc2V0c1tzaGlmdHZhcmlhdGlvbl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gICAgICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoaWRlKGRhdGEpIHtcbiAgICAgICAgaWYgKCFpc01vZGlmaWVyUmVxdWlyZWQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsICdoaWRlJywgJ3ByZXZlbnRPdmVyZmxvdycpKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWZSZWN0ID0gZGF0YS5vZmZzZXRzLnJlZmVyZW5jZTtcbiAgICAgICAgdmFyIGJvdW5kID0gZmluZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgZnVuY3Rpb24obW9kaWZpZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2RpZmllci5uYW1lID09PSAncHJldmVudE92ZXJmbG93JztcbiAgICAgICAgfSkuYm91bmRhcmllcztcblxuICAgICAgICBpZiAocmVmUmVjdC5ib3R0b20gPCBib3VuZC50b3AgfHwgcmVmUmVjdC5sZWZ0ID4gYm91bmQucmlnaHQgfHwgcmVmUmVjdC50b3AgPiBib3VuZC5ib3R0b20gfHwgcmVmUmVjdC5yaWdodCA8IGJvdW5kLmxlZnQpIHtcbiAgICAgICAgICAgIC8vIEF2b2lkIHVubmVjZXNzYXJ5IERPTSBhY2Nlc3MgaWYgdmlzaWJpbGl0eSBoYXNuJ3QgY2hhbmdlZFxuICAgICAgICAgICAgaWYgKGRhdGEuaGlkZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhLmhpZGUgPSB0cnVlO1xuICAgICAgICAgICAgZGF0YS5hdHRyaWJ1dGVzWyd4LW91dC1vZi1ib3VuZGFyaWVzJ10gPSAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEF2b2lkIHVubmVjZXNzYXJ5IERPTSBhY2Nlc3MgaWYgdmlzaWJpbGl0eSBoYXNuJ3QgY2hhbmdlZFxuICAgICAgICAgICAgaWYgKGRhdGEuaGlkZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YS5oaWRlID0gZmFsc2U7XG4gICAgICAgICAgICBkYXRhLmF0dHJpYnV0ZXNbJ3gtb3V0LW9mLWJvdW5kYXJpZXMnXSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAgICAgKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gICAgICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlubmVyKGRhdGEpIHtcbiAgICAgICAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuICAgICAgICB2YXIgYmFzZVBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICAgICAgICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgICAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgICAgICAgdmFyIGlzSG9yaXogPSBbJ2xlZnQnLCAncmlnaHQnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcblxuICAgICAgICB2YXIgc3VidHJhY3RMZW5ndGggPSBbJ3RvcCcsICdsZWZ0J10uaW5kZXhPZihiYXNlUGxhY2VtZW50KSA9PT0gLTE7XG5cbiAgICAgICAgcG9wcGVyW2lzSG9yaXogPyAnbGVmdCcgOiAndG9wJ10gPSByZWZlcmVuY2VbYmFzZVBsYWNlbWVudF0gLSAoc3VidHJhY3RMZW5ndGggPyBwb3BwZXJbaXNIb3JpeiA/ICd3aWR0aCcgOiAnaGVpZ2h0J10gOiAwKTtcblxuICAgICAgICBkYXRhLnBsYWNlbWVudCA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gICAgICAgIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBnZXRDbGllbnRSZWN0KHBvcHBlcik7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW9kaWZpZXIgZnVuY3Rpb24sIGVhY2ggbW9kaWZpZXIgY2FuIGhhdmUgYSBmdW5jdGlvbiBvZiB0aGlzIHR5cGUgYXNzaWduZWRcbiAgICAgKiB0byBpdHMgYGZuYCBwcm9wZXJ0eS48YnIgLz5cbiAgICAgKiBUaGVzZSBmdW5jdGlvbnMgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCB1cGRhdGUsIHRoaXMgbWVhbnMgdGhhdCB5b3UgbXVzdFxuICAgICAqIG1ha2Ugc3VyZSB0aGV5IGFyZSBwZXJmb3JtYW50IGVub3VnaCB0byBhdm9pZCBwZXJmb3JtYW5jZSBib3R0bGVuZWNrcy5cbiAgICAgKlxuICAgICAqIEBmdW5jdGlvbiBNb2RpZmllckZuXG4gICAgICogQGFyZ3VtZW50IHtkYXRhT2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAgICAgKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gICAgICogQHJldHVybnMge2RhdGFPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIE1vZGlmaWVycyBhcmUgcGx1Z2lucyB1c2VkIHRvIGFsdGVyIHRoZSBiZWhhdmlvciBvZiB5b3VyIHBvcHBlcnMuPGJyIC8+XG4gICAgICogUG9wcGVyLmpzIHVzZXMgYSBzZXQgb2YgOSBtb2RpZmllcnMgdG8gcHJvdmlkZSBhbGwgdGhlIGJhc2ljIGZ1bmN0aW9uYWxpdGllc1xuICAgICAqIG5lZWRlZCBieSB0aGUgbGlicmFyeS5cbiAgICAgKlxuICAgICAqIFVzdWFsbHkgeW91IGRvbid0IHdhbnQgdG8gb3ZlcnJpZGUgdGhlIGBvcmRlcmAsIGBmbmAgYW5kIGBvbkxvYWRgIHByb3BzLlxuICAgICAqIEFsbCB0aGUgb3RoZXIgcHJvcGVydGllcyBhcmUgY29uZmlndXJhdGlvbnMgdGhhdCBjb3VsZCBiZSB0d2Vha2VkLlxuICAgICAqIEBuYW1lc3BhY2UgbW9kaWZpZXJzXG4gICAgICovXG4gICAgdmFyIG1vZGlmaWVycyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vZGlmaWVyIHVzZWQgdG8gc2hpZnQgdGhlIHBvcHBlciBvbiB0aGUgc3RhcnQgb3IgZW5kIG9mIGl0cyByZWZlcmVuY2VcbiAgICAgICAgICogZWxlbWVudC48YnIgLz5cbiAgICAgICAgICogSXQgd2lsbCByZWFkIHRoZSB2YXJpYXRpb24gb2YgdGhlIGBwbGFjZW1lbnRgIHByb3BlcnR5LjxiciAvPlxuICAgICAgICAgKiBJdCBjYW4gYmUgb25lIGVpdGhlciBgLWVuZGAgb3IgYC1zdGFydGAuXG4gICAgICAgICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICAgICAgICogQGlubmVyXG4gICAgICAgICAqL1xuICAgICAgICBzaGlmdDoge1xuICAgICAgICAgICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTEwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICAgICAgICAgIG9yZGVyOiAxMDAsXG4gICAgICAgICAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgICAgICAgICAgZm46IHNoaWZ0XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgb2Zmc2V0YCBtb2RpZmllciBjYW4gc2hpZnQgeW91ciBwb3BwZXIgb24gYm90aCBpdHMgYXhpcy5cbiAgICAgICAgICpcbiAgICAgICAgICogSXQgYWNjZXB0cyB0aGUgZm9sbG93aW5nIHVuaXRzOlxuICAgICAgICAgKiAtIGBweGAgb3IgdW5pdGxlc3MsIGludGVycHJldGVkIGFzIHBpeGVsc1xuICAgICAgICAgKiAtIGAlYCBvciBgJXJgLCBwZXJjZW50YWdlIHJlbGF0aXZlIHRvIHRoZSBsZW5ndGggb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50XG4gICAgICAgICAqIC0gYCVwYCwgcGVyY2VudGFnZSByZWxhdGl2ZSB0byB0aGUgbGVuZ3RoIG9mIHRoZSBwb3BwZXIgZWxlbWVudFxuICAgICAgICAgKiAtIGB2d2AsIENTUyB2aWV3cG9ydCB3aWR0aCB1bml0XG4gICAgICAgICAqIC0gYHZoYCwgQ1NTIHZpZXdwb3J0IGhlaWdodCB1bml0XG4gICAgICAgICAqXG4gICAgICAgICAqIEZvciBsZW5ndGggaXMgaW50ZW5kZWQgdGhlIG1haW4gYXhpcyByZWxhdGl2ZSB0byB0aGUgcGxhY2VtZW50IG9mIHRoZSBwb3BwZXIuPGJyIC8+XG4gICAgICAgICAqIFRoaXMgbWVhbnMgdGhhdCBpZiB0aGUgcGxhY2VtZW50IGlzIGB0b3BgIG9yIGBib3R0b21gLCB0aGUgbGVuZ3RoIHdpbGwgYmUgdGhlXG4gICAgICAgICAqIGB3aWR0aGAuIEluIGNhc2Ugb2YgYGxlZnRgIG9yIGByaWdodGAsIGl0IHdpbGwgYmUgdGhlIGhlaWdodC5cbiAgICAgICAgICpcbiAgICAgICAgICogWW91IGNhbiBwcm92aWRlIGEgc2luZ2xlIHZhbHVlIChhcyBgTnVtYmVyYCBvciBgU3RyaW5nYCksIG9yIGEgcGFpciBvZiB2YWx1ZXNcbiAgICAgICAgICogYXMgYFN0cmluZ2AgZGl2aWRlZCBieSBhIGNvbW1hIG9yIG9uZSAob3IgbW9yZSkgd2hpdGUgc3BhY2VzLjxiciAvPlxuICAgICAgICAgKiBUaGUgbGF0dGVyIGlzIGEgZGVwcmVjYXRlZCBtZXRob2QgYmVjYXVzZSBpdCBsZWFkcyB0byBjb25mdXNpb24gYW5kIHdpbGwgYmVcbiAgICAgICAgICogcmVtb3ZlZCBpbiB2Mi48YnIgLz5cbiAgICAgICAgICogQWRkaXRpb25hbGx5LCBpdCBhY2NlcHRzIGFkZGl0aW9ucyBhbmQgc3VidHJhY3Rpb25zIGJldHdlZW4gZGlmZmVyZW50IHVuaXRzLlxuICAgICAgICAgKiBOb3RlIHRoYXQgbXVsdGlwbGljYXRpb25zIGFuZCBkaXZpc2lvbnMgYXJlbid0IHN1cHBvcnRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVmFsaWQgZXhhbXBsZXMgYXJlOlxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICogMTBcbiAgICAgICAgICogJzEwJSdcbiAgICAgICAgICogJzEwLCAxMCdcbiAgICAgICAgICogJzEwJSwgMTAnXG4gICAgICAgICAqICcxMCArIDEwJSdcbiAgICAgICAgICogJzEwIC0gNXZoICsgMyUnXG4gICAgICAgICAqICctMTBweCArIDV2aCwgNXB4IC0gNiUnXG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiA+ICoqTkIqKjogSWYgeW91IGRlc2lyZSB0byBhcHBseSBvZmZzZXRzIHRvIHlvdXIgcG9wcGVycyBpbiBhIHdheSB0aGF0IG1heSBtYWtlIHRoZW0gb3ZlcmxhcFxuICAgICAgICAgKiA+IHdpdGggdGhlaXIgcmVmZXJlbmNlIGVsZW1lbnQsIHVuZm9ydHVuYXRlbHksIHlvdSB3aWxsIGhhdmUgdG8gZGlzYWJsZSB0aGUgYGZsaXBgIG1vZGlmaWVyLlxuICAgICAgICAgKiA+IE1vcmUgb24gdGhpcyBbcmVhZGluZyB0aGlzIGlzc3VlXShodHRwczovL2dpdGh1Yi5jb20vRmV6VnJhc3RhL3BvcHBlci5qcy9pc3N1ZXMvMzczKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAgICAgICAqIEBpbm5lclxuICAgICAgICAgKi9cbiAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9MjAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgICAgICAgICAgb3JkZXI6IDIwMCxcbiAgICAgICAgICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgICAgICAgICBmbjogb2Zmc2V0LFxuICAgICAgICAgICAgLyoqIEBwcm9wIHtOdW1iZXJ8U3RyaW5nfSBvZmZzZXQ9MFxuICAgICAgICAgICAgICogVGhlIG9mZnNldCB2YWx1ZSBhcyBkZXNjcmliZWQgaW4gdGhlIG1vZGlmaWVyIGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb2RpZmllciB1c2VkIHRvIHByZXZlbnQgdGhlIHBvcHBlciBmcm9tIGJlaW5nIHBvc2l0aW9uZWQgb3V0c2lkZSB0aGUgYm91bmRhcnkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEFuIHNjZW5hcmlvIGV4aXN0cyB3aGVyZSB0aGUgcmVmZXJlbmNlIGl0c2VsZiBpcyBub3Qgd2l0aGluIHRoZSBib3VuZGFyaWVzLjxiciAvPlxuICAgICAgICAgKiBXZSBjYW4gc2F5IGl0IGhhcyBcImVzY2FwZWQgdGhlIGJvdW5kYXJpZXNcIiDigJQgb3IganVzdCBcImVzY2FwZWRcIi48YnIgLz5cbiAgICAgICAgICogSW4gdGhpcyBjYXNlIHdlIG5lZWQgdG8gZGVjaWRlIHdoZXRoZXIgdGhlIHBvcHBlciBzaG91bGQgZWl0aGVyOlxuICAgICAgICAgKlxuICAgICAgICAgKiAtIGRldGFjaCBmcm9tIHRoZSByZWZlcmVuY2UgYW5kIHJlbWFpbiBcInRyYXBwZWRcIiBpbiB0aGUgYm91bmRhcmllcywgb3JcbiAgICAgICAgICogLSBpZiBpdCBzaG91bGQgaWdub3JlIHRoZSBib3VuZGFyeSBhbmQgXCJlc2NhcGUgd2l0aCBpdHMgcmVmZXJlbmNlXCJcbiAgICAgICAgICpcbiAgICAgICAgICogV2hlbiBgZXNjYXBlV2l0aFJlZmVyZW5jZWAgaXMgc2V0IHRvYHRydWVgIGFuZCByZWZlcmVuY2UgaXMgY29tcGxldGVseVxuICAgICAgICAgKiBvdXRzaWRlIGl0cyBib3VuZGFyaWVzLCB0aGUgcG9wcGVyIHdpbGwgb3ZlcmZsb3cgKG9yIGNvbXBsZXRlbHkgbGVhdmUpXG4gICAgICAgICAqIHRoZSBib3VuZGFyaWVzIGluIG9yZGVyIHRvIHJlbWFpbiBhdHRhY2hlZCB0byB0aGUgZWRnZSBvZiB0aGUgcmVmZXJlbmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAgICAgICAqIEBpbm5lclxuICAgICAgICAgKi9cbiAgICAgICAgcHJldmVudE92ZXJmbG93OiB7XG4gICAgICAgICAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9MzAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgICAgICAgICAgb3JkZXI6IDMwMCxcbiAgICAgICAgICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgICAgICAgICBmbjogcHJldmVudE92ZXJmbG93LFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAcHJvcCB7QXJyYXl9IFtwcmlvcml0eT1bJ2xlZnQnLCdyaWdodCcsJ3RvcCcsJ2JvdHRvbSddXVxuICAgICAgICAgICAgICogUG9wcGVyIHdpbGwgdHJ5IHRvIHByZXZlbnQgb3ZlcmZsb3cgZm9sbG93aW5nIHRoZXNlIHByaW9yaXRpZXMgYnkgZGVmYXVsdCxcbiAgICAgICAgICAgICAqIHRoZW4sIGl0IGNvdWxkIG92ZXJmbG93IG9uIHRoZSBsZWZ0IGFuZCBvbiB0b3Agb2YgdGhlIGBib3VuZGFyaWVzRWxlbWVudGBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcHJpb3JpdHk6IFsnbGVmdCcsICdyaWdodCcsICd0b3AnLCAnYm90dG9tJ10sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwcm9wIHtudW1iZXJ9IHBhZGRpbmc9NVxuICAgICAgICAgICAgICogQW1vdW50IG9mIHBpeGVsIHVzZWQgdG8gZGVmaW5lIGEgbWluaW11bSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBib3VuZGFyaWVzXG4gICAgICAgICAgICAgKiBhbmQgdGhlIHBvcHBlciB0aGlzIG1ha2VzIHN1cmUgdGhlIHBvcHBlciBoYXMgYWx3YXlzIGEgbGl0dGxlIHBhZGRpbmdcbiAgICAgICAgICAgICAqIGJldHdlZW4gdGhlIGVkZ2VzIG9mIGl0cyBjb250YWluZXJcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcGFkZGluZzogNSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHByb3Age1N0cmluZ3xIVE1MRWxlbWVudH0gYm91bmRhcmllc0VsZW1lbnQ9J3Njcm9sbFBhcmVudCdcbiAgICAgICAgICAgICAqIEJvdW5kYXJpZXMgdXNlZCBieSB0aGUgbW9kaWZpZXIsIGNhbiBiZSBgc2Nyb2xsUGFyZW50YCwgYHdpbmRvd2AsXG4gICAgICAgICAgICAgKiBgdmlld3BvcnRgIG9yIGFueSBET00gZWxlbWVudC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYm91bmRhcmllc0VsZW1lbnQ6ICdzY3JvbGxQYXJlbnQnXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vZGlmaWVyIHVzZWQgdG8gbWFrZSBzdXJlIHRoZSByZWZlcmVuY2UgYW5kIGl0cyBwb3BwZXIgc3RheSBuZWFyIGVhY2hvdGhlcnNcbiAgICAgICAgICogd2l0aG91dCBsZWF2aW5nIGFueSBnYXAgYmV0d2VlbiB0aGUgdHdvLiBFeHBlY2lhbGx5IHVzZWZ1bCB3aGVuIHRoZSBhcnJvdyBpc1xuICAgICAgICAgKiBlbmFibGVkIGFuZCB5b3Ugd2FudCB0byBhc3N1cmUgaXQgdG8gcG9pbnQgdG8gaXRzIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgICAgICAgKiBJdCBjYXJlcyBvbmx5IGFib3V0IHRoZSBmaXJzdCBheGlzLCB5b3UgY2FuIHN0aWxsIGhhdmUgcG9wcGVycyB3aXRoIG1hcmdpblxuICAgICAgICAgKiBiZXR3ZWVuIHRoZSBwb3BwZXIgYW5kIGl0cyByZWZlcmVuY2UgZWxlbWVudC5cbiAgICAgICAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgICAgICAgKiBAaW5uZXJcbiAgICAgICAgICovXG4gICAgICAgIGtlZXBUb2dldGhlcjoge1xuICAgICAgICAgICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTQwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICAgICAgICAgIG9yZGVyOiA0MDAsXG4gICAgICAgICAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgICAgICAgICAgZm46IGtlZXBUb2dldGhlclxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIG1vZGlmaWVyIGlzIHVzZWQgdG8gbW92ZSB0aGUgYGFycm93RWxlbWVudGAgb2YgdGhlIHBvcHBlciB0byBtYWtlXG4gICAgICAgICAqIHN1cmUgaXQgaXMgcG9zaXRpb25lZCBiZXR3ZWVuIHRoZSByZWZlcmVuY2UgZWxlbWVudCBhbmQgaXRzIHBvcHBlciBlbGVtZW50LlxuICAgICAgICAgKiBJdCB3aWxsIHJlYWQgdGhlIG91dGVyIHNpemUgb2YgdGhlIGBhcnJvd0VsZW1lbnRgIG5vZGUgdG8gZGV0ZWN0IGhvdyBtYW55XG4gICAgICAgICAqIHBpeGVscyBvZiBjb25qdWN0aW9uIGFyZSBuZWVkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IGhhcyBubyBlZmZlY3QgaWYgbm8gYGFycm93RWxlbWVudGAgaXMgcHJvdmlkZWQuXG4gICAgICAgICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICAgICAgICogQGlubmVyXG4gICAgICAgICAqL1xuICAgICAgICBhcnJvdzoge1xuICAgICAgICAgICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTUwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICAgICAgICAgIG9yZGVyOiA1MDAsXG4gICAgICAgICAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgICAgICAgICAgZm46IGFycm93LFxuICAgICAgICAgICAgLyoqIEBwcm9wIHtTdHJpbmd8SFRNTEVsZW1lbnR9IGVsZW1lbnQ9J1t4LWFycm93XScgLSBTZWxlY3RvciBvciBub2RlIHVzZWQgYXMgYXJyb3cgKi9cbiAgICAgICAgICAgIGVsZW1lbnQ6ICdbeC1hcnJvd10nXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vZGlmaWVyIHVzZWQgdG8gZmxpcCB0aGUgcG9wcGVyJ3MgcGxhY2VtZW50IHdoZW4gaXQgc3RhcnRzIHRvIG92ZXJsYXAgaXRzXG4gICAgICAgICAqIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBSZXF1aXJlcyB0aGUgYHByZXZlbnRPdmVyZmxvd2AgbW9kaWZpZXIgYmVmb3JlIGl0IGluIG9yZGVyIHRvIHdvcmsuXG4gICAgICAgICAqXG4gICAgICAgICAqICoqTk9URToqKiB0aGlzIG1vZGlmaWVyIHdpbGwgaW50ZXJydXB0IHRoZSBjdXJyZW50IHVwZGF0ZSBjeWNsZSBhbmQgd2lsbFxuICAgICAgICAgKiByZXN0YXJ0IGl0IGlmIGl0IGRldGVjdHMgdGhlIG5lZWQgdG8gZmxpcCB0aGUgcGxhY2VtZW50LlxuICAgICAgICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAgICAgICAqIEBpbm5lclxuICAgICAgICAgKi9cbiAgICAgICAgZmxpcDoge1xuICAgICAgICAgICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTYwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICAgICAgICAgIG9yZGVyOiA2MDAsXG4gICAgICAgICAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgICAgICAgICAgZm46IGZsaXAsXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwcm9wIHtTdHJpbmd8QXJyYXl9IGJlaGF2aW9yPSdmbGlwJ1xuICAgICAgICAgICAgICogVGhlIGJlaGF2aW9yIHVzZWQgdG8gY2hhbmdlIHRoZSBwb3BwZXIncyBwbGFjZW1lbnQuIEl0IGNhbiBiZSBvbmUgb2ZcbiAgICAgICAgICAgICAqIGBmbGlwYCwgYGNsb2Nrd2lzZWAsIGBjb3VudGVyY2xvY2t3aXNlYCBvciBhbiBhcnJheSB3aXRoIGEgbGlzdCBvZiB2YWxpZFxuICAgICAgICAgICAgICogcGxhY2VtZW50cyAod2l0aCBvcHRpb25hbCB2YXJpYXRpb25zKS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYmVoYXZpb3I6ICdmbGlwJyxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHByb3Age251bWJlcn0gcGFkZGluZz01XG4gICAgICAgICAgICAgKiBUaGUgcG9wcGVyIHdpbGwgZmxpcCBpZiBpdCBoaXRzIHRoZSBlZGdlcyBvZiB0aGUgYGJvdW5kYXJpZXNFbGVtZW50YFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBwYWRkaW5nOiA1LFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAcHJvcCB7U3RyaW5nfEhUTUxFbGVtZW50fSBib3VuZGFyaWVzRWxlbWVudD0ndmlld3BvcnQnXG4gICAgICAgICAgICAgKiBUaGUgZWxlbWVudCB3aGljaCB3aWxsIGRlZmluZSB0aGUgYm91bmRhcmllcyBvZiB0aGUgcG9wcGVyIHBvc2l0aW9uLFxuICAgICAgICAgICAgICogdGhlIHBvcHBlciB3aWxsIG5ldmVyIGJlIHBsYWNlZCBvdXRzaWRlIG9mIHRoZSBkZWZpbmVkIGJvdW5kYXJpZXNcbiAgICAgICAgICAgICAqIChleGNlcHQgaWYga2VlcFRvZ2V0aGVyIGlzIGVuYWJsZWQpXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGJvdW5kYXJpZXNFbGVtZW50OiAndmlld3BvcnQnXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vZGlmaWVyIHVzZWQgdG8gbWFrZSB0aGUgcG9wcGVyIGZsb3cgdG93YXJkIHRoZSBpbm5lciBvZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gICAgICAgICAqIEJ5IGRlZmF1bHQsIHdoZW4gdGhpcyBtb2RpZmllciBpcyBkaXNhYmxlZCwgdGhlIHBvcHBlciB3aWxsIGJlIHBsYWNlZCBvdXRzaWRlXG4gICAgICAgICAqIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAgICAgICAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgICAgICAgKiBAaW5uZXJcbiAgICAgICAgICovXG4gICAgICAgIGlubmVyOiB7XG4gICAgICAgICAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NzAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgICAgICAgICAgb3JkZXI6IDcwMCxcbiAgICAgICAgICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD1mYWxzZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICAgICAgICAgIGZuOiBpbm5lclxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb2RpZmllciB1c2VkIHRvIGhpZGUgdGhlIHBvcHBlciB3aGVuIGl0cyByZWZlcmVuY2UgZWxlbWVudCBpcyBvdXRzaWRlIG9mIHRoZVxuICAgICAgICAgKiBwb3BwZXIgYm91bmRhcmllcy4gSXQgd2lsbCBzZXQgYSBgeC1vdXQtb2YtYm91bmRhcmllc2AgYXR0cmlidXRlIHdoaWNoIGNhblxuICAgICAgICAgKiBiZSB1c2VkIHRvIGhpZGUgd2l0aCBhIENTUyBzZWxlY3RvciB0aGUgcG9wcGVyIHdoZW4gaXRzIHJlZmVyZW5jZSBpc1xuICAgICAgICAgKiBvdXQgb2YgYm91bmRhcmllcy5cbiAgICAgICAgICpcbiAgICAgICAgICogUmVxdWlyZXMgdGhlIGBwcmV2ZW50T3ZlcmZsb3dgIG1vZGlmaWVyIGJlZm9yZSBpdCBpbiBvcmRlciB0byB3b3JrLlxuICAgICAgICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAgICAgICAqIEBpbm5lclxuICAgICAgICAgKi9cbiAgICAgICAgaGlkZToge1xuICAgICAgICAgICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTgwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICAgICAgICAgIG9yZGVyOiA4MDAsXG4gICAgICAgICAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgICAgICAgICAgZm46IGhpZGVcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcHV0ZXMgdGhlIHN0eWxlIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIgZWxlbWVudCB0byBnZXRzXG4gICAgICAgICAqIHByb3Blcmx5IHBvc2l0aW9uZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGUgdGhhdCB0aGlzIG1vZGlmaWVyIHdpbGwgbm90IHRvdWNoIHRoZSBET00sIGl0IGp1c3QgcHJlcGFyZXMgdGhlIHN0eWxlc1xuICAgICAgICAgKiBzbyB0aGF0IGBhcHBseVN0eWxlYCBtb2RpZmllciBjYW4gYXBwbHkgaXQuIFRoaXMgc2VwYXJhdGlvbiBpcyB1c2VmdWxcbiAgICAgICAgICogaW4gY2FzZSB5b3UgbmVlZCB0byByZXBsYWNlIGBhcHBseVN0eWxlYCB3aXRoIGEgY3VzdG9tIGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1vZGlmaWVyIGhhcyBgODUwYCBhcyBgb3JkZXJgIHZhbHVlIHRvIG1haW50YWluIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICogd2l0aCBwcmV2aW91cyB2ZXJzaW9ucyBvZiBQb3BwZXIuanMuIEV4cGVjdCB0aGUgbW9kaWZpZXJzIG9yZGVyaW5nIG1ldGhvZFxuICAgICAgICAgKiB0byBjaGFuZ2UgaW4gZnV0dXJlIG1ham9yIHZlcnNpb25zIG9mIHRoZSBsaWJyYXJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAgICAgICAqIEBpbm5lclxuICAgICAgICAgKi9cbiAgICAgICAgY29tcHV0ZVN0eWxlOiB7XG4gICAgICAgICAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9ODUwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgICAgICAgICAgb3JkZXI6IDg1MCxcbiAgICAgICAgICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgICAgICAgICBmbjogY29tcHV0ZVN0eWxlLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gZ3B1QWNjZWxlcmF0aW9uPXRydWVcbiAgICAgICAgICAgICAqIElmIHRydWUsIGl0IHVzZXMgdGhlIENTUyAzZCB0cmFuc2Zvcm1hdGlvbiB0byBwb3NpdGlvbiB0aGUgcG9wcGVyLlxuICAgICAgICAgICAgICogT3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRvcGAgYW5kIGBsZWZ0YCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBncHVBY2NlbGVyYXRpb246IHRydWUsXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwcm9wIHtzdHJpbmd9IFt4PSdib3R0b20nXVxuICAgICAgICAgICAgICogV2hlcmUgdG8gYW5jaG9yIHRoZSBYIGF4aXMgKGBib3R0b21gIG9yIGB0b3BgKS4gQUtBIFggb2Zmc2V0IG9yaWdpbi5cbiAgICAgICAgICAgICAqIENoYW5nZSB0aGlzIGlmIHlvdXIgcG9wcGVyIHNob3VsZCBncm93IGluIGEgZGlyZWN0aW9uIGRpZmZlcmVudCBmcm9tIGBib3R0b21gXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHg6ICdib3R0b20nLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAcHJvcCB7c3RyaW5nfSBbeD0nbGVmdCddXG4gICAgICAgICAgICAgKiBXaGVyZSB0byBhbmNob3IgdGhlIFkgYXhpcyAoYGxlZnRgIG9yIGByaWdodGApLiBBS0EgWSBvZmZzZXQgb3JpZ2luLlxuICAgICAgICAgICAgICogQ2hhbmdlIHRoaXMgaWYgeW91ciBwb3BwZXIgc2hvdWxkIGdyb3cgaW4gYSBkaXJlY3Rpb24gZGlmZmVyZW50IGZyb20gYHJpZ2h0YFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB5OiAncmlnaHQnXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFwcGxpZXMgdGhlIGNvbXB1dGVkIHN0eWxlcyB0byB0aGUgcG9wcGVyIGVsZW1lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEFsbCB0aGUgRE9NIG1hbmlwdWxhdGlvbnMgYXJlIGxpbWl0ZWQgdG8gdGhpcyBtb2RpZmllci4gVGhpcyBpcyB1c2VmdWwgaW4gY2FzZVxuICAgICAgICAgKiB5b3Ugd2FudCB0byBpbnRlZ3JhdGUgUG9wcGVyLmpzIGluc2lkZSBhIGZyYW1ld29yayBvciB2aWV3IGxpYnJhcnkgYW5kIHlvdVxuICAgICAgICAgKiB3YW50IHRvIGRlbGVnYXRlIGFsbCB0aGUgRE9NIG1hbmlwdWxhdGlvbnMgdG8gaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGUgdGhhdCBpZiB5b3UgZGlzYWJsZSB0aGlzIG1vZGlmaWVyLCB5b3UgbXVzdCBtYWtlIHN1cmUgdGhlIHBvcHBlciBlbGVtZW50XG4gICAgICAgICAqIGhhcyBpdHMgcG9zaXRpb24gc2V0IHRvIGBhYnNvbHV0ZWAgYmVmb3JlIFBvcHBlci5qcyBjYW4gZG8gaXRzIHdvcmshXG4gICAgICAgICAqXG4gICAgICAgICAqIEp1c3QgZGlzYWJsZSB0aGlzIG1vZGlmaWVyIGFuZCBkZWZpbmUgeW91IG93biB0byBhY2hpZXZlIHRoZSBkZXNpcmVkIGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgICAgICAgKiBAaW5uZXJcbiAgICAgICAgICovXG4gICAgICAgIGFwcGx5U3R5bGU6IHtcbiAgICAgICAgICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj05MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgICAgICAgICBvcmRlcjogOTAwLFxuICAgICAgICAgICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICAgICAgICAgIGZuOiBhcHBseVN0eWxlLFxuICAgICAgICAgICAgLyoqIEBwcm9wIHtGdW5jdGlvbn0gKi9cbiAgICAgICAgICAgIG9uTG9hZDogYXBwbHlTdHlsZU9uTG9hZCxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAxLjEwLjAsIHRoZSBwcm9wZXJ0eSBtb3ZlZCB0byBgY29tcHV0ZVN0eWxlYCBtb2RpZmllclxuICAgICAgICAgICAgICogQHByb3Age0Jvb2xlYW59IGdwdUFjY2VsZXJhdGlvbj10cnVlXG4gICAgICAgICAgICAgKiBJZiB0cnVlLCBpdCB1c2VzIHRoZSBDU1MgM2QgdHJhbnNmb3JtYXRpb24gdG8gcG9zaXRpb24gdGhlIHBvcHBlci5cbiAgICAgICAgICAgICAqIE90aGVyd2lzZSwgaXQgd2lsbCB1c2UgdGhlIGB0b3BgIGFuZCBgbGVmdGAgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZ3B1QWNjZWxlcmF0aW9uOiB1bmRlZmluZWRcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYGRhdGFPYmplY3RgIGlzIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgaW5mb3JtYXRpb25zIHVzZWQgYnkgUG9wcGVyLmpzXG4gICAgICogdGhpcyBvYmplY3QgZ2V0IHBhc3NlZCB0byBtb2RpZmllcnMgYW5kIHRvIHRoZSBgb25DcmVhdGVgIGFuZCBgb25VcGRhdGVgIGNhbGxiYWNrcy5cbiAgICAgKiBAbmFtZSBkYXRhT2JqZWN0XG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEuaW5zdGFuY2UgVGhlIFBvcHBlci5qcyBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBkYXRhLnBsYWNlbWVudCBQbGFjZW1lbnQgYXBwbGllZCB0byBwb3BwZXJcbiAgICAgKiBAcHJvcGVydHkge1N0cmluZ30gZGF0YS5vcmlnaW5hbFBsYWNlbWVudCBQbGFjZW1lbnQgb3JpZ2luYWxseSBkZWZpbmVkIG9uIGluaXRcbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGRhdGEuZmxpcHBlZCBUcnVlIGlmIHBvcHBlciBoYXMgYmVlbiBmbGlwcGVkIGJ5IGZsaXAgbW9kaWZpZXJcbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGRhdGEuaGlkZSBUcnVlIGlmIHRoZSByZWZlcmVuY2UgZWxlbWVudCBpcyBvdXQgb2YgYm91bmRhcmllcywgdXNlZnVsIHRvIGtub3cgd2hlbiB0byBoaWRlIHRoZSBwb3BwZXIuXG4gICAgICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gZGF0YS5hcnJvd0VsZW1lbnQgTm9kZSB1c2VkIGFzIGFycm93IGJ5IGFycm93IG1vZGlmaWVyXG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEuc3R5bGVzIEFueSBDU1MgcHJvcGVydHkgZGVmaW5lZCBoZXJlIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLCBpdCBleHBlY3RzIHRoZSBKYXZhU2NyaXB0IG5vbWVuY2xhdHVyZSAoZWcuIGBtYXJnaW5Cb3R0b21gKVxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmFycm93U3R5bGVzIEFueSBDU1MgcHJvcGVydHkgZGVmaW5lZCBoZXJlIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyIGFycm93LCBpdCBleHBlY3RzIHRoZSBKYXZhU2NyaXB0IG5vbWVuY2xhdHVyZSAoZWcuIGBtYXJnaW5Cb3R0b21gKVxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmJvdW5kYXJpZXMgT2Zmc2V0cyBvZiB0aGUgcG9wcGVyIGJvdW5kYXJpZXNcbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5vZmZzZXRzIFRoZSBtZWFzdXJlbWVudHMgb2YgcG9wcGVyLCByZWZlcmVuY2UgYW5kIGFycm93IGVsZW1lbnRzLlxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMucG9wcGVyIGB0b3BgLCBgbGVmdGAsIGB3aWR0aGAsIGBoZWlnaHRgIHZhbHVlc1xuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMucmVmZXJlbmNlIGB0b3BgLCBgbGVmdGAsIGB3aWR0aGAsIGBoZWlnaHRgIHZhbHVlc1xuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMuYXJyb3ddIGB0b3BgIGFuZCBgbGVmdGAgb2Zmc2V0cywgb25seSBvbmUgb2YgdGhlbSB3aWxsIGJlIGRpZmZlcmVudCBmcm9tIDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgb3B0aW9ucyBwcm92aWRlZCB0byBQb3BwZXIuanMgY29uc3RydWN0b3IuPGJyIC8+XG4gICAgICogVGhlc2UgY2FuIGJlIG92ZXJyaWRlbiB1c2luZyB0aGUgYG9wdGlvbnNgIGFyZ3VtZW50IG9mIFBvcHBlci5qcy48YnIgLz5cbiAgICAgKiBUbyBvdmVycmlkZSBhbiBvcHRpb24sIHNpbXBseSBwYXNzIGFzIDNyZCBhcmd1bWVudCBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZVxuICAgICAqIHN0cnVjdHVyZSBvZiB0aGlzIG9iamVjdCwgZXhhbXBsZTpcbiAgICAgKiBgYGBcbiAgICAgKiBuZXcgUG9wcGVyKHJlZiwgcG9wLCB7XG4gICAgICogICBtb2RpZmllcnM6IHtcbiAgICAgKiAgICAgcHJldmVudE92ZXJmbG93OiB7IGVuYWJsZWQ6IGZhbHNlIH1cbiAgICAgKiAgIH1cbiAgICAgKiB9KVxuICAgICAqIGBgYFxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQb3BwZXJcbiAgICAgKi9cbiAgICB2YXIgRGVmYXVsdHMgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb3BwZXIncyBwbGFjZW1lbnRcbiAgICAgICAgICogQHByb3Age1BvcHBlci5wbGFjZW1lbnRzfSBwbGFjZW1lbnQ9J2JvdHRvbSdcbiAgICAgICAgICovXG4gICAgICAgIHBsYWNlbWVudDogJ2JvdHRvbScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGlzIHRvIHRydWUgaWYgeW91IHdhbnQgcG9wcGVyIHRvIHBvc2l0aW9uIGl0IHNlbGYgaW4gJ2ZpeGVkJyBtb2RlXG4gICAgICAgICAqIEBwcm9wIHtCb29sZWFufSBwb3NpdGlvbkZpeGVkPWZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBwb3NpdGlvbkZpeGVkOiBmYWxzZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBldmVudHMgKHJlc2l6ZSwgc2Nyb2xsKSBhcmUgaW5pdGlhbGx5IGVuYWJsZWRcbiAgICAgICAgICogQHByb3Age0Jvb2xlYW59IGV2ZW50c0VuYWJsZWQ9dHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgZXZlbnRzRW5hYmxlZDogdHJ1ZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdG8gYXV0b21hdGljYWxseSByZW1vdmUgdGhlIHBvcHBlciB3aGVuXG4gICAgICAgICAqIHlvdSBjYWxsIHRoZSBgZGVzdHJveWAgbWV0aG9kLlxuICAgICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gcmVtb3ZlT25EZXN0cm95PWZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVPbkRlc3Ryb3k6IGZhbHNlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayBjYWxsZWQgd2hlbiB0aGUgcG9wcGVyIGlzIGNyZWF0ZWQuPGJyIC8+XG4gICAgICAgICAqIEJ5IGRlZmF1bHQsIGlzIHNldCB0byBuby1vcC48YnIgLz5cbiAgICAgICAgICogQWNjZXNzIFBvcHBlci5qcyBpbnN0YW5jZSB3aXRoIGBkYXRhLmluc3RhbmNlYC5cbiAgICAgICAgICogQHByb3Age29uQ3JlYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgb25DcmVhdGU6IGZ1bmN0aW9uIG9uQ3JlYXRlKCkge30sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIGNhbGxlZCB3aGVuIHRoZSBwb3BwZXIgaXMgdXBkYXRlZCwgdGhpcyBjYWxsYmFjayBpcyBub3QgY2FsbGVkXG4gICAgICAgICAqIG9uIHRoZSBpbml0aWFsaXphdGlvbi9jcmVhdGlvbiBvZiB0aGUgcG9wcGVyLCBidXQgb25seSBvbiBzdWJzZXF1ZW50XG4gICAgICAgICAqIHVwZGF0ZXMuPGJyIC8+XG4gICAgICAgICAqIEJ5IGRlZmF1bHQsIGlzIHNldCB0byBuby1vcC48YnIgLz5cbiAgICAgICAgICogQWNjZXNzIFBvcHBlci5qcyBpbnN0YW5jZSB3aXRoIGBkYXRhLmluc3RhbmNlYC5cbiAgICAgICAgICogQHByb3Age29uVXBkYXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgb25VcGRhdGU6IGZ1bmN0aW9uIG9uVXBkYXRlKCkge30sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgbW9kaWZpZXJzIHVzZWQgdG8gbW9kaWZ5IHRoZSBvZmZzZXRzIGJlZm9yZSB0aGV5IGFyZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIuXG4gICAgICAgICAqIFRoZXkgcHJvdmlkZSBtb3N0IG9mIHRoZSBmdW5jdGlvbmFsaXRpZXMgb2YgUG9wcGVyLmpzXG4gICAgICAgICAqIEBwcm9wIHttb2RpZmllcnN9XG4gICAgICAgICAqL1xuICAgICAgICBtb2RpZmllcnM6IG1vZGlmaWVyc1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAY2FsbGJhY2sgb25DcmVhdGVcbiAgICAgKiBAcGFyYW0ge2RhdGFPYmplY3R9IGRhdGFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBjYWxsYmFjayBvblVwZGF0ZVxuICAgICAqIEBwYXJhbSB7ZGF0YU9iamVjdH0gZGF0YVxuICAgICAqL1xuXG4gICAgLy8gVXRpbHNcbiAgICAvLyBNZXRob2RzXG4gICAgdmFyIFBvcHBlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgbmV3IFBvcHBlci5qcyBpbnN0YW5jZVxuICAgICAgICAgKiBAY2xhc3MgUG9wcGVyXG4gICAgICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8cmVmZXJlbmNlT2JqZWN0fSByZWZlcmVuY2UgLSBUaGUgcmVmZXJlbmNlIGVsZW1lbnQgdXNlZCB0byBwb3NpdGlvbiB0aGUgcG9wcGVyXG4gICAgICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlciAtIFRoZSBIVE1MIGVsZW1lbnQgdXNlZCBhcyBwb3BwZXIuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gWW91ciBjdXN0b20gb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgb25lcyBkZWZpbmVkIGluIFtEZWZhdWx0c10oI2RlZmF1bHRzKVxuICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGluc3RhbmNlIC0gVGhlIGdlbmVyYXRlZCBQb3BwZXIuanMgaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIFBvcHBlcihyZWZlcmVuY2UsIHBvcHBlcikge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgICAgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9wcGVyKTtcblxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMudXBkYXRlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIG1ha2UgdXBkYXRlKCkgZGVib3VuY2VkLCBzbyB0aGF0IGl0IG9ubHkgcnVucyBhdCBtb3N0IG9uY2UtcGVyLXRpY2tcbiAgICAgICAgICAgIHRoaXMudXBkYXRlID0gZGVib3VuY2UodGhpcy51cGRhdGUuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgICAgIC8vIHdpdGgge30gd2UgY3JlYXRlIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBvcHRpb25zIGluc2lkZSBpdFxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gX2V4dGVuZHMoe30sIFBvcHBlci5EZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIGluaXQgc3RhdGVcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgaXNEZXN0cm95ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzQ3JlYXRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2Nyb2xsUGFyZW50czogW11cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIGdldCByZWZlcmVuY2UgYW5kIHBvcHBlciBlbGVtZW50cyAoYWxsb3cgalF1ZXJ5IHdyYXBwZXJzKVxuICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2UgPSByZWZlcmVuY2UgJiYgcmVmZXJlbmNlLmpxdWVyeSA/IHJlZmVyZW5jZVswXSA6IHJlZmVyZW5jZTtcbiAgICAgICAgICAgIHRoaXMucG9wcGVyID0gcG9wcGVyICYmIHBvcHBlci5qcXVlcnkgPyBwb3BwZXJbMF0gOiBwb3BwZXI7XG5cbiAgICAgICAgICAgIC8vIERlZXAgbWVyZ2UgbW9kaWZpZXJzIG9wdGlvbnNcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tb2RpZmllcnMgPSB7fTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKF9leHRlbmRzKHt9LCBQb3BwZXIuRGVmYXVsdHMubW9kaWZpZXJzLCBvcHRpb25zLm1vZGlmaWVycykpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9wdGlvbnMubW9kaWZpZXJzW25hbWVdID0gX2V4dGVuZHMoe30sIFBvcHBlci5EZWZhdWx0cy5tb2RpZmllcnNbbmFtZV0gfHwge30sIG9wdGlvbnMubW9kaWZpZXJzID8gb3B0aW9ucy5tb2RpZmllcnNbbmFtZV0gOiB7fSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUmVmYWN0b3JpbmcgbW9kaWZpZXJzJyBsaXN0IChPYmplY3QgPT4gQXJyYXkpXG4gICAgICAgICAgICB0aGlzLm1vZGlmaWVycyA9IE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5tb2RpZmllcnMpLm1hcChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH0sIF90aGlzLm9wdGlvbnMubW9kaWZpZXJzW25hbWVdKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC8vIHNvcnQgdGhlIG1vZGlmaWVycyBieSBvcmRlclxuICAgICAgICAgICAgICAgIC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBtb2RpZmllcnMgaGF2ZSB0aGUgYWJpbGl0eSB0byBleGVjdXRlIGFyYml0cmFyeSBjb2RlIHdoZW4gUG9wcGVyLmpzIGdldCBpbml0ZWRcbiAgICAgICAgICAgIC8vIHN1Y2ggY29kZSBpcyBleGVjdXRlZCBpbiB0aGUgc2FtZSBvcmRlciBvZiBpdHMgbW9kaWZpZXJcbiAgICAgICAgICAgIC8vIHRoZXkgY291bGQgYWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHRoZWlyIG9wdGlvbnMgY29uZmlndXJhdGlvblxuICAgICAgICAgICAgLy8gQkUgQVdBUkU6IGRvbid0IGFkZCBvcHRpb25zIHRvIGBvcHRpb25zLm1vZGlmaWVycy5uYW1lYCBidXQgdG8gYG1vZGlmaWVyT3B0aW9uc2AhXG4gICAgICAgICAgICB0aGlzLm1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uKG1vZGlmaWVyT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChtb2RpZmllck9wdGlvbnMuZW5hYmxlZCAmJiBpc0Z1bmN0aW9uKG1vZGlmaWVyT3B0aW9ucy5vbkxvYWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVyT3B0aW9ucy5vbkxvYWQoX3RoaXMucmVmZXJlbmNlLCBfdGhpcy5wb3BwZXIsIF90aGlzLm9wdGlvbnMsIG1vZGlmaWVyT3B0aW9ucywgX3RoaXMuc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBmaXJlIHRoZSBmaXJzdCB1cGRhdGUgdG8gcG9zaXRpb24gdGhlIHBvcHBlciBpbiB0aGUgcmlnaHQgcGxhY2VcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgICAgICAgICAgIHZhciBldmVudHNFbmFibGVkID0gdGhpcy5vcHRpb25zLmV2ZW50c0VuYWJsZWQ7XG4gICAgICAgICAgICBpZiAoZXZlbnRzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIC8vIHNldHVwIGV2ZW50IGxpc3RlbmVycywgdGhleSB3aWxsIHRha2UgY2FyZSBvZiB1cGRhdGUgdGhlIHBvc2l0aW9uIGluIHNwZWNpZmljIHNpdHVhdGlvbnNcbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZXZlbnRzRW5hYmxlZCA9IGV2ZW50c0VuYWJsZWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSBjYW4ndCB1c2UgY2xhc3MgcHJvcGVydGllcyBiZWNhdXNlIHRoZXkgZG9uJ3QgZ2V0IGxpc3RlZCBpbiB0aGVcbiAgICAgICAgLy8gY2xhc3MgcHJvdG90eXBlIGFuZCBicmVhayBzdHVmZiBsaWtlIFNpbm9uIHN0dWJzXG5cblxuICAgICAgICBjcmVhdGVDbGFzcyhQb3BwZXIsIFt7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSQkMSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3kkJDEoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZW5hYmxlRXZlbnRMaXN0ZW5lcnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGVuYWJsZUV2ZW50TGlzdGVuZXJzJCQxKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbmFibGVFdmVudExpc3RlbmVycy5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdkaXNhYmxlRXZlbnRMaXN0ZW5lcnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2FibGVFdmVudExpc3RlbmVycyQkMSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlzYWJsZUV2ZW50TGlzdGVuZXJzLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2NoZWR1bGUgYW4gdXBkYXRlLCBpdCB3aWxsIHJ1biBvbiB0aGUgbmV4dCBVSSB1cGRhdGUgYXZhaWxhYmxlXG4gICAgICAgICAgICAgKiBAbWV0aG9kIHNjaGVkdWxlVXBkYXRlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyXG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbGxlY3Rpb24gb2YgdXRpbGl0aWVzIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY3VzdG9tIG1vZGlmaWVycy5cbiAgICAgICAgICAgICAqIFN0YXJ0aW5nIGZyb20gdmVyc2lvbiAxLjcsIHRoaXMgbWV0aG9kIGlzIGF2YWlsYWJsZSBvbmx5IGlmIHlvdVxuICAgICAgICAgICAgICogaW5jbHVkZSBgcG9wcGVyLXV0aWxzLmpzYCBiZWZvcmUgYHBvcHBlci5qc2AuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogKipERVBSRUNBVElPTioqOiBUaGlzIHdheSB0byBhY2Nlc3MgUG9wcGVyVXRpbHMgaXMgZGVwcmVjYXRlZFxuICAgICAgICAgICAgICogYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MiEgVXNlIHRoZSBQb3BwZXJVdGlscyBtb2R1bGUgZGlyZWN0bHkgaW5zdGVhZC5cbiAgICAgICAgICAgICAqIER1ZSB0byB0aGUgaGlnaCBpbnN0YWJpbGl0eSBvZiB0aGUgbWV0aG9kcyBjb250YWluZWQgaW4gVXRpbHMsIHdlIGNhbid0XG4gICAgICAgICAgICAgKiBndWFyYW50ZWUgdGhlbSB0byBmb2xsb3cgc2VtdmVyLiBVc2UgdGhlbSBhdCB5b3VyIG93biByaXNrIVxuICAgICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDEuOFxuICAgICAgICAgICAgICogQG1lbWJlciBVdGlsc1xuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBvcHBlclxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfV0pO1xuICAgICAgICByZXR1cm4gUG9wcGVyO1xuICAgIH0oKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBgcmVmZXJlbmNlT2JqZWN0YCBpcyBhbiBvYmplY3QgdGhhdCBwcm92aWRlcyBhbiBpbnRlcmZhY2UgY29tcGF0aWJsZSB3aXRoIFBvcHBlci5qc1xuICAgICAqIGFuZCBsZXRzIHlvdSB1c2UgaXQgYXMgcmVwbGFjZW1lbnQgb2YgYSByZWFsIERPTSBub2RlLjxiciAvPlxuICAgICAqIFlvdSBjYW4gdXNlIHRoaXMgbWV0aG9kIHRvIHBvc2l0aW9uIGEgcG9wcGVyIHJlbGF0aXZlbHkgdG8gYSBzZXQgb2YgY29vcmRpbmF0ZXNcbiAgICAgKiBpbiBjYXNlIHlvdSBkb24ndCBoYXZlIGEgRE9NIG5vZGUgdG8gdXNlIGFzIHJlZmVyZW5jZS5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIG5ldyBQb3BwZXIocmVmZXJlbmNlT2JqZWN0LCBwb3BwZXJOb2RlKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIE5COiBUaGlzIGZlYXR1cmUgaXNuJ3Qgc3VwcG9ydGVkIGluIEludGVybmV0IEV4cGxvcmVyIDEwXG4gICAgICogQG5hbWUgcmVmZXJlbmNlT2JqZWN0XG4gICAgICogQHByb3BlcnR5IHtGdW5jdGlvbn0gZGF0YS5nZXRCb3VuZGluZ0NsaWVudFJlY3RcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHNldCBvZiBjb29yZGluYXRlcyBjb21wYXRpYmxlIHdpdGggdGhlIG5hdGl2ZSBgZ2V0Qm91bmRpbmdDbGllbnRSZWN0YCBtZXRob2QuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGRhdGEuY2xpZW50V2lkdGhcbiAgICAgKiBBbiBFUzYgZ2V0dGVyIHRoYXQgd2lsbCByZXR1cm4gdGhlIHdpZHRoIG9mIHRoZSB2aXJ0dWFsIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYXRhLmNsaWVudEhlaWdodFxuICAgICAqIEFuIEVTNiBnZXR0ZXIgdGhhdCB3aWxsIHJldHVybiB0aGUgaGVpZ2h0IG9mIHRoZSB2aXJ0dWFsIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgICAqL1xuXG5cbiAgICBQb3BwZXIuVXRpbHMgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpLlBvcHBlclV0aWxzO1xuICAgIFBvcHBlci5wbGFjZW1lbnRzID0gcGxhY2VtZW50cztcbiAgICBQb3BwZXIuRGVmYXVsdHMgPSBEZWZhdWx0cztcblxuICAgIC8qKlxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQm9vdHN0cmFwICh2NC4xLjIpOiBkcm9wZG93bi5qc1xuICAgICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKi9cblxuICAgIHZhciBEcm9wZG93biA9IGZ1bmN0aW9uKCQkJDEpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBDb25zdGFudHNcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgTkFNRSA9ICdkcm9wZG93bic7XG4gICAgICAgIHZhciBWRVJTSU9OID0gJzQuMS4yJztcbiAgICAgICAgdmFyIERBVEFfS0VZID0gJ2JzLmRyb3Bkb3duJztcbiAgICAgICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gICAgICAgIHZhciBEQVRBX0FQSV9LRVkgPSAnLmRhdGEtYXBpJztcbiAgICAgICAgdmFyIEpRVUVSWV9OT19DT05GTElDVCA9ICQkJDEuZm5bTkFNRV07XG4gICAgICAgIHZhciBFU0NBUEVfS0VZQ09ERSA9IDI3OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciBFc2NhcGUgKEVzYykga2V5XG5cbiAgICAgICAgdmFyIFNQQUNFX0tFWUNPREUgPSAzMjsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3Igc3BhY2Uga2V5XG5cbiAgICAgICAgdmFyIFRBQl9LRVlDT0RFID0gOTsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgdGFiIGtleVxuXG4gICAgICAgIHZhciBBUlJPV19VUF9LRVlDT0RFID0gMzg7IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIHVwIGFycm93IGtleVxuXG4gICAgICAgIHZhciBBUlJPV19ET1dOX0tFWUNPREUgPSA0MDsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgZG93biBhcnJvdyBrZXlcblxuICAgICAgICB2YXIgUklHSFRfTU9VU0VfQlVUVE9OX1dISUNIID0gMzsgLy8gTW91c2VFdmVudC53aGljaCB2YWx1ZSBmb3IgdGhlIHJpZ2h0IGJ1dHRvbiAoYXNzdW1pbmcgYSByaWdodC1oYW5kZWQgbW91c2UpXG5cbiAgICAgICAgdmFyIFJFR0VYUF9LRVlET1dOID0gbmV3IFJlZ0V4cChBUlJPV19VUF9LRVlDT0RFICsgXCJ8XCIgKyBBUlJPV19ET1dOX0tFWUNPREUgKyBcInxcIiArIEVTQ0FQRV9LRVlDT0RFKTtcbiAgICAgICAgdmFyIEV2ZW50ID0ge1xuICAgICAgICAgICAgSElERTogXCJoaWRlXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBISURERU46IFwiaGlkZGVuXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBTSE9XOiBcInNob3dcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIFNIT1dOOiBcInNob3duXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBDTElDSzogXCJjbGlja1wiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgQ0xJQ0tfREFUQV9BUEk6IFwiY2xpY2tcIiArIEVWRU5UX0tFWSArIERBVEFfQVBJX0tFWSxcbiAgICAgICAgICAgIEtFWURPV05fREFUQV9BUEk6IFwia2V5ZG93blwiICsgRVZFTlRfS0VZICsgREFUQV9BUElfS0VZLFxuICAgICAgICAgICAgS0VZVVBfREFUQV9BUEk6IFwia2V5dXBcIiArIEVWRU5UX0tFWSArIERBVEFfQVBJX0tFWVxuICAgICAgICB9O1xuICAgICAgICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgICAgICAgICAgRElTQUJMRUQ6ICdkaXNhYmxlZCcsXG4gICAgICAgICAgICBTSE9XOiAnc2hvdycsXG4gICAgICAgICAgICBEUk9QVVA6ICdkcm9wdXAnLFxuICAgICAgICAgICAgRFJPUFJJR0hUOiAnZHJvcHJpZ2h0JyxcbiAgICAgICAgICAgIERST1BMRUZUOiAnZHJvcGxlZnQnLFxuICAgICAgICAgICAgTUVOVVJJR0hUOiAnZHJvcGRvd24tbWVudS1yaWdodCcsXG4gICAgICAgICAgICBNRU5VTEVGVDogJ2Ryb3Bkb3duLW1lbnUtbGVmdCcsXG4gICAgICAgICAgICBQT1NJVElPTl9TVEFUSUM6ICdwb3NpdGlvbi1zdGF0aWMnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBTZWxlY3RvciA9IHtcbiAgICAgICAgICAgIERBVEFfVE9HR0xFOiAnW2RhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIl0nLFxuICAgICAgICAgICAgRk9STV9DSElMRDogJy5kcm9wZG93biBmb3JtJyxcbiAgICAgICAgICAgIE1FTlU6ICcuZHJvcGRvd24tbWVudScsXG4gICAgICAgICAgICBOQVZCQVJfTkFWOiAnLm5hdmJhci1uYXYnLFxuICAgICAgICAgICAgVklTSUJMRV9JVEVNUzogJy5kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtOm5vdCguZGlzYWJsZWQpOm5vdCg6ZGlzYWJsZWQpJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgQXR0YWNobWVudE1hcCA9IHtcbiAgICAgICAgICAgIFRPUDogJ3RvcC1zdGFydCcsXG4gICAgICAgICAgICBUT1BFTkQ6ICd0b3AtZW5kJyxcbiAgICAgICAgICAgIEJPVFRPTTogJ2JvdHRvbS1zdGFydCcsXG4gICAgICAgICAgICBCT1RUT01FTkQ6ICdib3R0b20tZW5kJyxcbiAgICAgICAgICAgIFJJR0hUOiAncmlnaHQtc3RhcnQnLFxuICAgICAgICAgICAgUklHSFRFTkQ6ICdyaWdodC1lbmQnLFxuICAgICAgICAgICAgTEVGVDogJ2xlZnQtc3RhcnQnLFxuICAgICAgICAgICAgTEVGVEVORDogJ2xlZnQtZW5kJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgRGVmYXVsdCA9IHtcbiAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIGZsaXA6IHRydWUsXG4gICAgICAgICAgICBib3VuZGFyeTogJ3Njcm9sbFBhcmVudCcsXG4gICAgICAgICAgICByZWZlcmVuY2U6ICd0b2dnbGUnLFxuICAgICAgICAgICAgZGlzcGxheTogJ2R5bmFtaWMnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBEZWZhdWx0VHlwZSA9IHtcbiAgICAgICAgICAgIG9mZnNldDogJyhudW1iZXJ8c3RyaW5nfGZ1bmN0aW9uKScsXG4gICAgICAgICAgICBmbGlwOiAnYm9vbGVhbicsXG4gICAgICAgICAgICBib3VuZGFyeTogJyhzdHJpbmd8ZWxlbWVudCknLFxuICAgICAgICAgICAgcmVmZXJlbmNlOiAnKHN0cmluZ3xlbGVtZW50KScsXG4gICAgICAgICAgICBkaXNwbGF5OiAnc3RyaW5nJ1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAqIENsYXNzIERlZmluaXRpb25cbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgRHJvcGRvd24gPVxuICAgICAgICAgICAgLyojX19QVVJFX18qL1xuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gRHJvcGRvd24oZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3BwZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVudSA9IHRoaXMuX2dldE1lbnVFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luTmF2YmFyID0gdGhpcy5fZGV0ZWN0TmF2YmFyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgICAgICAgICAgICAgdmFyIF9wcm90byA9IERyb3Bkb3duLnByb3RvdHlwZTtcblxuICAgICAgICAgICAgICAgIC8vIFB1YmxpY1xuICAgICAgICAgICAgICAgIF9wcm90by50b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lbGVtZW50LmRpc2FibGVkIHx8ICQkJDEodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkRJU0FCTEVEKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IERyb3Bkb3duLl9nZXRQYXJlbnRGcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNBY3RpdmUgPSAkJCQxKHRoaXMuX21lbnUpLmhhc0NsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgICAgICAgICAgICAgICBEcm9wZG93bi5fY2xlYXJNZW51cygpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiB0aGlzLl9lbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBzaG93RXZlbnQgPSAkJCQxLkV2ZW50KEV2ZW50LlNIT1csIHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHBhcmVudCkudHJpZ2dlcihzaG93RXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSAvLyBEaXNhYmxlIHRvdGFsbHkgUG9wcGVyLmpzIGZvciBEcm9wZG93biBpbiBOYXZiYXJcblxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5faW5OYXZiYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ2hlY2sgZm9yIFBvcHBlciBkZXBlbmRlbmN5XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBQb3BwZXIgLSBodHRwczovL3BvcHBlci5qcy5vcmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBQb3BwZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9vdHN0cmFwIGRyb3Bkb3duIHJlcXVpcmUgUG9wcGVyLmpzIChodHRwczovL3BvcHBlci5qcy5vcmcpJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWZlcmVuY2VFbGVtZW50ID0gdGhpcy5fZWxlbWVudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5yZWZlcmVuY2UgPT09ICdwYXJlbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlRWxlbWVudCA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoVXRpbC5pc0VsZW1lbnQodGhpcy5fY29uZmlnLnJlZmVyZW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VFbGVtZW50ID0gdGhpcy5fY29uZmlnLnJlZmVyZW5jZTsgLy8gQ2hlY2sgaWYgaXQncyBqUXVlcnkgZWxlbWVudFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9jb25maWcucmVmZXJlbmNlLmpxdWVyeSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlRWxlbWVudCA9IHRoaXMuX2NvbmZpZy5yZWZlcmVuY2VbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBJZiBib3VuZGFyeSBpcyBub3QgYHNjcm9sbFBhcmVudGAsIHRoZW4gc2V0IHBvc2l0aW9uIHRvIGBzdGF0aWNgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBhbGxvdyB0aGUgbWVudSB0byBcImVzY2FwZVwiIHRoZSBzY3JvbGwgcGFyZW50J3MgYm91bmRhcmllc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2lzc3Vlcy8yNDI1MVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb25maWcuYm91bmRhcnkgIT09ICdzY3JvbGxQYXJlbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShwYXJlbnQpLmFkZENsYXNzKENsYXNzTmFtZS5QT1NJVElPTl9TVEFUSUMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3BwZXIgPSBuZXcgUG9wcGVyKHJlZmVyZW5jZUVsZW1lbnQsIHRoaXMuX21lbnUsIHRoaXMuX2dldFBvcHBlckNvbmZpZygpKTtcbiAgICAgICAgICAgICAgICAgICAgfSAvLyBJZiB0aGlzIGlzIGEgdG91Y2gtZW5hYmxlZCBkZXZpY2Ugd2UgYWRkIGV4dHJhXG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5IG1vdXNlb3ZlciBsaXN0ZW5lcnMgdG8gdGhlIGJvZHkncyBpbW1lZGlhdGUgY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgbmVlZGVkIGJlY2F1c2Ugb2YgYnJva2VuIGV2ZW50IGRlbGVnYXRpb24gb24gaU9TXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LnF1aXJrc21vZGUub3JnL2Jsb2cvYXJjaGl2ZXMvMjAxNC8wMi9tb3VzZV9ldmVudF9idWIuaHRtbFxuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAkJCQxKHBhcmVudCkuY2xvc2VzdChTZWxlY3Rvci5OQVZCQVJfTkFWKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4oKS5vbignbW91c2VvdmVyJywgbnVsbCwgJCQkMS5ub29wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuZm9jdXMoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fbWVudSkudG9nZ2xlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHBhcmVudCkudG9nZ2xlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpLnRyaWdnZXIoJCQkMS5FdmVudChFdmVudC5TSE9XTiwgcmVsYXRlZFRhcmdldCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICAgICAgICAgICQkJDEucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub2ZmKEVWRU5UX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZW51ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcG9wcGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3BwZXIuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3BwZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luTmF2YmFyID0gdGhpcy5fZGV0ZWN0TmF2YmFyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BvcHBlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9wcGVyLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9OyAvLyBQcml2YXRlXG5cblxuICAgICAgICAgICAgICAgIF9wcm90by5fYWRkRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5vbihFdmVudC5DTElDSywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdCwgJCQkMSh0aGlzLl9lbGVtZW50KS5kYXRhKCksIGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUsIGNvbmZpZywgdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0VHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fZ2V0TWVudUVsZW1lbnQgPSBmdW5jdGlvbiBfZ2V0TWVudUVsZW1lbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbWVudSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IERyb3Bkb3duLl9nZXRQYXJlbnRGcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21lbnUgPSBwYXJlbnQucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5NRU5VKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tZW51O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2dldFBsYWNlbWVudCA9IGZ1bmN0aW9uIF9nZXRQbGFjZW1lbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkcGFyZW50RHJvcGRvd24gPSAkJCQxKHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwbGFjZW1lbnQgPSBBdHRhY2htZW50TWFwLkJPVFRPTTsgLy8gSGFuZGxlIGRyb3B1cFxuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkcGFyZW50RHJvcGRvd24uaGFzQ2xhc3MoQ2xhc3NOYW1lLkRST1BVUCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9IEF0dGFjaG1lbnRNYXAuVE9QO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCQkMSh0aGlzLl9tZW51KS5oYXNDbGFzcyhDbGFzc05hbWUuTUVOVVJJR0hUKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9IEF0dGFjaG1lbnRNYXAuVE9QRU5EO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRwYXJlbnREcm9wZG93bi5oYXNDbGFzcyhDbGFzc05hbWUuRFJPUFJJR0hUKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID0gQXR0YWNobWVudE1hcC5SSUdIVDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkcGFyZW50RHJvcGRvd24uaGFzQ2xhc3MoQ2xhc3NOYW1lLkRST1BMRUZUKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID0gQXR0YWNobWVudE1hcC5MRUZUO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCQkJDEodGhpcy5fbWVudSkuaGFzQ2xhc3MoQ2xhc3NOYW1lLk1FTlVSSUdIVCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9IEF0dGFjaG1lbnRNYXAuQk9UVE9NRU5EO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBsYWNlbWVudDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9kZXRlY3ROYXZiYXIgPSBmdW5jdGlvbiBfZGV0ZWN0TmF2YmFyKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCQkMSh0aGlzLl9lbGVtZW50KS5jbG9zZXN0KCcubmF2YmFyJykubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXRQb3BwZXJDb25maWcgPSBmdW5jdGlvbiBfZ2V0UG9wcGVyQ29uZmlnKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0Q29uZiA9IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fY29uZmlnLm9mZnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0Q29uZi5mbiA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLm9mZnNldHMgPSBfb2JqZWN0U3ByZWFkKHt9LCBkYXRhLm9mZnNldHMsIF90aGlzMi5fY29uZmlnLm9mZnNldChkYXRhLm9mZnNldHMpIHx8IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRDb25mLm9mZnNldCA9IHRoaXMuX2NvbmZpZy5vZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9wcGVyQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiB0aGlzLl9nZXRQbGFjZW1lbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0Q29uZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGlwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRoaXMuX2NvbmZpZy5mbGlwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ZW50T3ZlcmZsb3c6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRhcmllc0VsZW1lbnQ6IHRoaXMuX2NvbmZpZy5ib3VuZGFyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gLy8gRGlzYWJsZSBQb3BwZXIuanMgaWYgd2UgaGF2ZSBhIHN0YXRpYyBkaXNwbGF5XG5cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29uZmlnLmRpc3BsYXkgPT09ICdzdGF0aWMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3BwZXJDb25maWcubW9kaWZpZXJzLmFwcGx5U3R5bGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9wcGVyQ29uZmlnO1xuICAgICAgICAgICAgICAgIH07IC8vIFN0YXRpY1xuXG5cbiAgICAgICAgICAgICAgICBEcm9wZG93bi5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jb25maWcgPSB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyA/IGNvbmZpZyA6IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBuZXcgRHJvcGRvd24odGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgY29uZmlnICsgXCJcXFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgRHJvcGRvd24uX2NsZWFyTWVudXMgPSBmdW5jdGlvbiBfY2xlYXJNZW51cyhldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQgJiYgKGV2ZW50LndoaWNoID09PSBSSUdIVF9NT1VTRV9CVVRUT05fV0hJQ0ggfHwgZXZlbnQudHlwZSA9PT0gJ2tleXVwJyAmJiBldmVudC53aGljaCAhPT0gVEFCX0tFWUNPREUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9nZ2xlcyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5EQVRBX1RPR0dMRSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0b2dnbGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gRHJvcGRvd24uX2dldFBhcmVudEZyb21FbGVtZW50KHRvZ2dsZXNbaV0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udGV4dCA9ICQkJDEodG9nZ2xlc1tpXSkuZGF0YShEQVRBX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiB0b2dnbGVzW2ldXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gJ2NsaWNrJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQuY2xpY2tFdmVudCA9IGV2ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRyb3Bkb3duTWVudSA9IGNvbnRleHQuX21lbnU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJCQkMShwYXJlbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5TSE9XKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdjbGljaycgJiYgL2lucHV0fHRleHRhcmVhL2kudGVzdChldmVudC50YXJnZXQudGFnTmFtZSkgfHwgZXZlbnQudHlwZSA9PT0gJ2tleXVwJyAmJiBldmVudC53aGljaCA9PT0gVEFCX0tFWUNPREUpICYmICQkJDEuY29udGFpbnMocGFyZW50LCBldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoaWRlRXZlbnQgPSAkJCQxLkV2ZW50KEV2ZW50LkhJREUsIHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShwYXJlbnQpLnRyaWdnZXIoaGlkZUV2ZW50KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBJZiB0aGlzIGlzIGEgdG91Y2gtZW5hYmxlZCBkZXZpY2Ugd2UgcmVtb3ZlIHRoZSBleHRyYVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHkgbW91c2VvdmVyIGxpc3RlbmVycyB3ZSBhZGRlZCBmb3IgaU9TIHN1cHBvcnRcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShkb2N1bWVudC5ib2R5KS5jaGlsZHJlbigpLm9mZignbW91c2VvdmVyJywgbnVsbCwgJCQkMS5ub29wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlc1tpXS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoZHJvcGRvd25NZW51KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHBhcmVudCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpLnRyaWdnZXIoJCQkMS5FdmVudChFdmVudC5ISURERU4sIHJlbGF0ZWRUYXJnZXQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBEcm9wZG93bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQgPSBmdW5jdGlvbiBfZ2V0UGFyZW50RnJvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQgfHwgZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5cblxuICAgICAgICAgICAgICAgIERyb3Bkb3duLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIgPSBmdW5jdGlvbiBfZGF0YUFwaUtleWRvd25IYW5kbGVyKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIG5vdCBpbnB1dC90ZXh0YXJlYTpcbiAgICAgICAgICAgICAgICAgICAgLy8gIC0gQW5kIG5vdCBhIGtleSBpbiBSRUdFWFBfS0VZRE9XTiA9PiBub3QgYSBkcm9wZG93biBjb21tYW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGlucHV0L3RleHRhcmVhOlxuICAgICAgICAgICAgICAgICAgICAvLyAgLSBJZiBzcGFjZSBrZXkgPT4gbm90IGEgZHJvcGRvd24gY29tbWFuZFxuICAgICAgICAgICAgICAgICAgICAvLyAgLSBJZiBrZXkgaXMgb3RoZXIgdGhhbiBlc2NhcGVcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgLSBJZiBrZXkgaXMgbm90IHVwIG9yIGRvd24gPT4gbm90IGEgZHJvcGRvd24gY29tbWFuZFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAtIElmIHRyaWdnZXIgaW5zaWRlIHRoZSBtZW51ID0+IG5vdCBhIGRyb3Bkb3duIGNvbW1hbmRcbiAgICAgICAgICAgICAgICAgICAgaWYgKC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZXZlbnQudGFyZ2V0LnRhZ05hbWUpID8gZXZlbnQud2hpY2ggPT09IFNQQUNFX0tFWUNPREUgfHwgZXZlbnQud2hpY2ggIT09IEVTQ0FQRV9LRVlDT0RFICYmIChldmVudC53aGljaCAhPT0gQVJST1dfRE9XTl9LRVlDT0RFICYmIGV2ZW50LndoaWNoICE9PSBBUlJPV19VUF9LRVlDT0RFIHx8ICQkJDEoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFNlbGVjdG9yLk1FTlUpLmxlbmd0aCkgOiAhUkVHRVhQX0tFWURPV04udGVzdChldmVudC53aGljaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpc2FibGVkIHx8ICQkJDEodGhpcykuaGFzQ2xhc3MoQ2xhc3NOYW1lLkRJU0FCTEVEKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IERyb3Bkb3duLl9nZXRQYXJlbnRGcm9tRWxlbWVudCh0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNBY3RpdmUgPSAkJCQxKHBhcmVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNBY3RpdmUgJiYgKGV2ZW50LndoaWNoICE9PSBFU0NBUEVfS0VZQ09ERSB8fCBldmVudC53aGljaCAhPT0gU1BBQ0VfS0VZQ09ERSkgfHwgaXNBY3RpdmUgJiYgKGV2ZW50LndoaWNoID09PSBFU0NBUEVfS0VZQ09ERSB8fCBldmVudC53aGljaCA9PT0gU1BBQ0VfS0VZQ09ERSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC53aGljaCA9PT0gRVNDQVBFX0tFWUNPREUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9nZ2xlID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuREFUQV9UT0dHTEUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodG9nZ2xlKS50cmlnZ2VyKCdmb2N1cycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSBbXS5zbGljZS5jYWxsKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLlZJU0lCTEVfSVRFTVMpKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBpdGVtcy5pbmRleE9mKGV2ZW50LnRhcmdldCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBBUlJPV19VUF9LRVlDT0RFICYmIGluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IEFSUk9XX0RPV05fS0VZQ09ERSAmJiBpbmRleCA8IGl0ZW1zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvd25cbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpdGVtc1tpbmRleF0uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKERyb3Bkb3duLCBudWxsLCBbe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBWRVJTSU9OO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiRGVmYXVsdFR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGVmYXVsdFR5cGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gRHJvcGRvd247XG4gICAgICAgICAgICB9KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogRGF0YSBBcGkgaW1wbGVtZW50YXRpb25cbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgJCQkMShkb2N1bWVudCkub24oRXZlbnQuS0VZRE9XTl9EQVRBX0FQSSwgU2VsZWN0b3IuREFUQV9UT0dHTEUsIERyb3Bkb3duLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIpLm9uKEV2ZW50LktFWURPV05fREFUQV9BUEksIFNlbGVjdG9yLk1FTlUsIERyb3Bkb3duLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIpLm9uKEV2ZW50LkNMSUNLX0RBVEFfQVBJICsgXCIgXCIgKyBFdmVudC5LRVlVUF9EQVRBX0FQSSwgRHJvcGRvd24uX2NsZWFyTWVudXMpLm9uKEV2ZW50LkNMSUNLX0RBVEFfQVBJLCBTZWxlY3Rvci5EQVRBX1RPR0dMRSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgRHJvcGRvd24uX2pRdWVyeUludGVyZmFjZS5jYWxsKCQkJDEodGhpcyksICd0b2dnbGUnKTtcbiAgICAgICAgfSkub24oRXZlbnQuQ0xJQ0tfREFUQV9BUEksIFNlbGVjdG9yLkZPUk1fQ0hJTEQsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIGpRdWVyeVxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG5cbiAgICAgICAgJCQkMS5mbltOQU1FXSA9IERyb3Bkb3duLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgICQkJDEuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBEcm9wZG93bjtcblxuICAgICAgICAkJCQxLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQkJDEuZm5bTkFNRV0gPSBKUVVFUllfTk9fQ09ORkxJQ1Q7XG4gICAgICAgICAgICByZXR1cm4gRHJvcGRvd24uX2pRdWVyeUludGVyZmFjZTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gRHJvcGRvd247XG4gICAgfSgkLCBQb3BwZXIpO1xuXG4gICAgLyoqXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBCb290c3RyYXAgKHY0LjEuMik6IG1vZGFsLmpzXG4gICAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqL1xuXG4gICAgdmFyIE1vZGFsID0gZnVuY3Rpb24oJCQkMSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIENvbnN0YW50c1xuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBOQU1FID0gJ21vZGFsJztcbiAgICAgICAgdmFyIFZFUlNJT04gPSAnNC4xLjInO1xuICAgICAgICB2YXIgREFUQV9LRVkgPSAnYnMubW9kYWwnO1xuICAgICAgICB2YXIgRVZFTlRfS0VZID0gXCIuXCIgKyBEQVRBX0tFWTtcbiAgICAgICAgdmFyIERBVEFfQVBJX0tFWSA9ICcuZGF0YS1hcGknO1xuICAgICAgICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUID0gJCQkMS5mbltOQU1FXTtcbiAgICAgICAgdmFyIEVTQ0FQRV9LRVlDT0RFID0gMjc7IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIEVzY2FwZSAoRXNjKSBrZXlcblxuICAgICAgICB2YXIgRGVmYXVsdCA9IHtcbiAgICAgICAgICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgICAgICAgICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgICAgICAgICBmb2N1czogdHJ1ZSxcbiAgICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIERlZmF1bHRUeXBlID0ge1xuICAgICAgICAgICAgYmFja2Ryb3A6ICcoYm9vbGVhbnxzdHJpbmcpJyxcbiAgICAgICAgICAgIGtleWJvYXJkOiAnYm9vbGVhbicsXG4gICAgICAgICAgICBmb2N1czogJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgc2hvdzogJ2Jvb2xlYW4nXG4gICAgICAgIH07XG4gICAgICAgIHZhciBFdmVudCA9IHtcbiAgICAgICAgICAgIEhJREU6IFwiaGlkZVwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgSElEREVOOiBcImhpZGRlblwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgU0hPVzogXCJzaG93XCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBTSE9XTjogXCJzaG93blwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgRk9DVVNJTjogXCJmb2N1c2luXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBSRVNJWkU6IFwicmVzaXplXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBDTElDS19ESVNNSVNTOiBcImNsaWNrLmRpc21pc3NcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIEtFWURPV05fRElTTUlTUzogXCJrZXlkb3duLmRpc21pc3NcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIE1PVVNFVVBfRElTTUlTUzogXCJtb3VzZXVwLmRpc21pc3NcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIE1PVVNFRE9XTl9ESVNNSVNTOiBcIm1vdXNlZG93bi5kaXNtaXNzXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBDTElDS19EQVRBX0FQSTogXCJjbGlja1wiICsgRVZFTlRfS0VZICsgREFUQV9BUElfS0VZXG4gICAgICAgIH07XG4gICAgICAgIHZhciBDbGFzc05hbWUgPSB7XG4gICAgICAgICAgICBTQ1JPTExCQVJfTUVBU1VSRVI6ICdtb2RhbC1zY3JvbGxiYXItbWVhc3VyZScsXG4gICAgICAgICAgICBCQUNLRFJPUDogJ21vZGFsLWJhY2tkcm9wJyxcbiAgICAgICAgICAgIE9QRU46ICdtb2RhbC1vcGVuJyxcbiAgICAgICAgICAgIEZBREU6ICdmYWRlJyxcbiAgICAgICAgICAgIFNIT1c6ICdzaG93J1xuICAgICAgICB9O1xuICAgICAgICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgICAgICAgICBESUFMT0c6ICcubW9kYWwtZGlhbG9nJyxcbiAgICAgICAgICAgIERBVEFfVE9HR0xFOiAnW2RhdGEtdG9nZ2xlPVwibW9kYWxcIl0nLFxuICAgICAgICAgICAgREFUQV9ESVNNSVNTOiAnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJyxcbiAgICAgICAgICAgIEZJWEVEX0NPTlRFTlQ6ICcuZml4ZWQtdG9wLCAuZml4ZWQtYm90dG9tLCAuaXMtZml4ZWQsIC5zdGlja3ktdG9wJyxcbiAgICAgICAgICAgIFNUSUNLWV9DT05URU5UOiAnLnN0aWNreS10b3AnXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgICAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBNb2RhbCA9XG4gICAgICAgICAgICAvKiNfX1BVUkVfXyovXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNb2RhbChlbGVtZW50LCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaWFsb2cgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuRElBTE9HKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1Nob3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQm9keU92ZXJmbG93aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsYmFyV2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICAgICAgICAgICAgICB2YXIgX3Byb3RvID0gTW9kYWwucHJvdG90eXBlO1xuXG4gICAgICAgICAgICAgICAgLy8gUHVibGljXG4gICAgICAgICAgICAgICAgX3Byb3RvLnRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZShyZWxhdGVkVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1Nob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3cocmVsYXRlZFRhcmdldCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5zaG93ID0gZnVuY3Rpb24gc2hvdyhyZWxhdGVkVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzVHJhbnNpdGlvbmluZyB8fCB0aGlzLl9pc1Nob3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoJCQkMSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvd0V2ZW50ID0gJCQkMS5FdmVudChFdmVudC5TSE9XLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2hvd0V2ZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNTaG93biB8fCBzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzU2hvd24gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrU2Nyb2xsYmFyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0U2Nyb2xsYmFyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRqdXN0RGlhbG9nKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgJCQkMShkb2N1bWVudC5ib2R5KS5hZGRDbGFzcyhDbGFzc05hbWUuT1BFTik7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0RXNjYXBlRXZlbnQoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRSZXNpemVFdmVudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub24oRXZlbnQuQ0xJQ0tfRElTTUlTUywgU2VsZWN0b3IuREFUQV9ESVNNSVNTLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmhpZGUoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9kaWFsb2cpLm9uKEV2ZW50Lk1PVVNFRE9XTl9ESVNNSVNTLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoX3RoaXMuX2VsZW1lbnQpLm9uZShFdmVudC5NT1VTRVVQX0RJU01JU1MsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQkJDEoZXZlbnQudGFyZ2V0KS5pcyhfdGhpcy5fZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaG93QmFja2Ryb3AoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3Nob3dFbGVtZW50KHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmhpZGUgPSBmdW5jdGlvbiBoaWRlKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1RyYW5zaXRpb25pbmcgfHwgIXRoaXMuX2lzU2hvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBoaWRlRXZlbnQgPSAkJCQxLkV2ZW50KEV2ZW50LkhJREUpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoaGlkZUV2ZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2lzU2hvd24gfHwgaGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1Nob3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uID0gJCQkMSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRFc2NhcGVFdmVudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldFJlc2l6ZUV2ZW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgJCQkMShkb2N1bWVudCkub2ZmKEV2ZW50LkZPQ1VTSU4pO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5vZmYoRXZlbnQuQ0xJQ0tfRElTTUlTUyk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZGlhbG9nKS5vZmYoRXZlbnQuTU9VU0VET1dOX0RJU01JU1MpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5faGlkZU1vZGFsKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oaWRlTW9kYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICAgICAgICAgICQkJDEucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEod2luZG93LCBkb2N1bWVudCwgdGhpcy5fZWxlbWVudCwgdGhpcy5fYmFja2Ryb3ApLm9mZihFVkVOVF9LRVkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlhbG9nID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1Nob3duID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pZ25vcmVCYWNrZHJvcENsaWNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsYmFyV2lkdGggPSBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uaGFuZGxlVXBkYXRlID0gZnVuY3Rpb24gaGFuZGxlVXBkYXRlKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGp1c3REaWFsb2coKTtcbiAgICAgICAgICAgICAgICB9OyAvLyBQcml2YXRlXG5cblxuICAgICAgICAgICAgICAgIF9wcm90by5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgRGVmYXVsdCwgY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgVXRpbC50eXBlQ2hlY2tDb25maWcoTkFNRSwgY29uZmlnLCBEZWZhdWx0VHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fc2hvd0VsZW1lbnQgPSBmdW5jdGlvbiBfc2hvd0VsZW1lbnQocmVsYXRlZFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbiA9ICQkJDEodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkZBREUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlIHx8IHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IG1vdmUgbW9kYWwncyBET00gcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2Nyb2xsVG9wID0gMDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgVXRpbC5yZWZsb3codGhpcy5fZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLmFkZENsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29uZmlnLmZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbmZvcmNlRm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzaG93bkV2ZW50ID0gJCQkMS5FdmVudChFdmVudC5TSE9XTiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkNvbXBsZXRlID0gZnVuY3Rpb24gdHJhbnNpdGlvbkNvbXBsZXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMy5fY29uZmlnLmZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLl9lbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKF90aGlzMy5fZWxlbWVudCkudHJpZ2dlcihzaG93bkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2RpYWxvZykub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIHRyYW5zaXRpb25Db21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fZW5mb3JjZUZvY3VzID0gZnVuY3Rpb24gX2VuZm9yY2VGb2N1cygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgJCQkMShkb2N1bWVudCkub2ZmKEV2ZW50LkZPQ1VTSU4pIC8vIEd1YXJkIGFnYWluc3QgaW5maW5pdGUgZm9jdXMgbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uKEV2ZW50LkZPQ1VTSU4sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50ICE9PSBldmVudC50YXJnZXQgJiYgX3RoaXM0Ll9lbGVtZW50ICE9PSBldmVudC50YXJnZXQgJiYgJCQkMShfdGhpczQuX2VsZW1lbnQpLmhhcyhldmVudC50YXJnZXQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuX2VsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9zZXRFc2NhcGVFdmVudCA9IGZ1bmN0aW9uIF9zZXRFc2NhcGVFdmVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzU2hvd24gJiYgdGhpcy5fY29uZmlnLmtleWJvYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LktFWURPV05fRElTTUlTUywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IEVTQ0FQRV9LRVlDT0RFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5faXNTaG93bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5vZmYoRXZlbnQuS0VZRE9XTl9ESVNNSVNTKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX3NldFJlc2l6ZUV2ZW50ID0gZnVuY3Rpb24gX3NldFJlc2l6ZUV2ZW50KCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNTaG93bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh3aW5kb3cpLm9uKEV2ZW50LlJFU0laRSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmhhbmRsZVVwZGF0ZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEod2luZG93KS5vZmYoRXZlbnQuUkVTSVpFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2hpZGVNb2RhbCA9IGZ1bmN0aW9uIF9oaWRlTW9kYWwoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaG93QmFja2Ryb3AoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGRvY3VtZW50LmJvZHkpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5PUEVOKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3Ll9yZXNldEFkanVzdG1lbnRzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5fcmVzZXRTY3JvbGxiYXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShfdGhpczcuX2VsZW1lbnQpLnRyaWdnZXIoRXZlbnQuSElEREVOKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fcmVtb3ZlQmFja2Ryb3AgPSBmdW5jdGlvbiBfcmVtb3ZlQmFja2Ryb3AoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9iYWNrZHJvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9iYWNrZHJvcCkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9iYWNrZHJvcCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9zaG93QmFja2Ryb3AgPSBmdW5jdGlvbiBfc2hvd0JhY2tkcm9wKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRlID0gJCQkMSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSkgPyBDbGFzc05hbWUuRkFERSA6ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1Nob3duICYmIHRoaXMuX2NvbmZpZy5iYWNrZHJvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2JhY2tkcm9wLmNsYXNzTmFtZSA9IENsYXNzTmFtZS5CQUNLRFJPUDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9iYWNrZHJvcC5jbGFzc0xpc3QuYWRkKGFuaW1hdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2JhY2tkcm9wKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub24oRXZlbnQuQ0xJQ0tfRElTTUlTUywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM4Ll9pZ25vcmVCYWNrZHJvcENsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5faWdub3JlQmFja2Ryb3BDbGljayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzOC5fY29uZmlnLmJhY2tkcm9wID09PSAnc3RhdGljJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguX2VsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFV0aWwucmVmbG93KHRoaXMuX2JhY2tkcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9iYWNrZHJvcCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFuaW1hdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJhY2tkcm9wVHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9iYWNrZHJvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2JhY2tkcm9wKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY2FsbGJhY2spLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGJhY2tkcm9wVHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5faXNTaG93biAmJiB0aGlzLl9iYWNrZHJvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9iYWNrZHJvcCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2tSZW1vdmUgPSBmdW5jdGlvbiBjYWxsYmFja1JlbW92ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguX3JlbW92ZUJhY2tkcm9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCQkMSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2JhY2tkcm9wVHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9iYWNrZHJvcCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2JhY2tkcm9wKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY2FsbGJhY2tSZW1vdmUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKF9iYWNrZHJvcFRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrUmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9OyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBtZXRob2RzIGFyZSB1c2VkIHRvIGhhbmRsZSBvdmVyZmxvd2luZyBtb2RhbHNcbiAgICAgICAgICAgICAgICAvLyB0b2RvIChmYXQpOiB0aGVzZSBzaG91bGQgcHJvYmFibHkgYmUgcmVmYWN0b3JlZCBvdXQgb2YgbW9kYWwuanNcbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuICAgICAgICAgICAgICAgIF9wcm90by5fYWRqdXN0RGlhbG9nID0gZnVuY3Rpb24gX2FkanVzdERpYWxvZygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzTW9kYWxPdmVyZmxvd2luZyA9IHRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2lzQm9keU92ZXJmbG93aW5nICYmIGlzTW9kYWxPdmVyZmxvd2luZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nTGVmdCA9IHRoaXMuX3Njcm9sbGJhcldpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzQm9keU92ZXJmbG93aW5nICYmICFpc01vZGFsT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gdGhpcy5fc2Nyb2xsYmFyV2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9yZXNldEFkanVzdG1lbnRzID0gZnVuY3Rpb24gX3Jlc2V0QWRqdXN0bWVudHMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSAnJztcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9jaGVja1Njcm9sbGJhciA9IGZ1bmN0aW9uIF9jaGVja1Njcm9sbGJhcigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlY3QgPSBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyA9IHJlY3QubGVmdCArIHJlY3QucmlnaHQgPCB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsYmFyV2lkdGggPSB0aGlzLl9nZXRTY3JvbGxiYXJXaWR0aCgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX3NldFNjcm9sbGJhciA9IGZ1bmN0aW9uIF9zZXRTY3JvbGxiYXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc0JvZHlPdmVyZmxvd2luZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogRE9NTm9kZS5zdHlsZS5wYWRkaW5nUmlnaHQgcmV0dXJucyB0aGUgYWN0dWFsIHZhbHVlIG9yICcnIGlmIG5vdCBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgd2hpbGUgJChET01Ob2RlKS5jc3MoJ3BhZGRpbmctcmlnaHQnKSByZXR1cm5zIHRoZSBjYWxjdWxhdGVkIHZhbHVlIG9yIDAgaWYgbm90IHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpeGVkQ29udGVudCA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5GSVhFRF9DT05URU5UKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RpY2t5Q29udGVudCA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5TVElDS1lfQ09OVEVOVCkpOyAvLyBBZGp1c3QgZml4ZWQgY29udGVudCBwYWRkaW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoZml4ZWRDb250ZW50KS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdHVhbFBhZGRpbmcgPSBlbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FsY3VsYXRlZFBhZGRpbmcgPSAkJCQxKGVsZW1lbnQpLmNzcygncGFkZGluZy1yaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoZWxlbWVudCkuZGF0YSgncGFkZGluZy1yaWdodCcsIGFjdHVhbFBhZGRpbmcpLmNzcygncGFkZGluZy1yaWdodCcsIHBhcnNlRmxvYXQoY2FsY3VsYXRlZFBhZGRpbmcpICsgX3RoaXM5Ll9zY3JvbGxiYXJXaWR0aCArIFwicHhcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gQWRqdXN0IHN0aWNreSBjb250ZW50IG1hcmdpblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHN0aWNreUNvbnRlbnQpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0dWFsTWFyZ2luID0gZWxlbWVudC5zdHlsZS5tYXJnaW5SaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FsY3VsYXRlZE1hcmdpbiA9ICQkJDEoZWxlbWVudCkuY3NzKCdtYXJnaW4tcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGVsZW1lbnQpLmRhdGEoJ21hcmdpbi1yaWdodCcsIGFjdHVhbE1hcmdpbikuY3NzKCdtYXJnaW4tcmlnaHQnLCBwYXJzZUZsb2F0KGNhbGN1bGF0ZWRNYXJnaW4pIC0gX3RoaXM5Ll9zY3JvbGxiYXJXaWR0aCArIFwicHhcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gQWRqdXN0IGJvZHkgcGFkZGluZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0dWFsUGFkZGluZyA9IGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGN1bGF0ZWRQYWRkaW5nID0gJCQkMShkb2N1bWVudC5ib2R5KS5jc3MoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoZG9jdW1lbnQuYm9keSkuZGF0YSgncGFkZGluZy1yaWdodCcsIGFjdHVhbFBhZGRpbmcpLmNzcygncGFkZGluZy1yaWdodCcsIHBhcnNlRmxvYXQoY2FsY3VsYXRlZFBhZGRpbmcpICsgdGhpcy5fc2Nyb2xsYmFyV2lkdGggKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fcmVzZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiBfcmVzZXRTY3JvbGxiYXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc3RvcmUgZml4ZWQgY29udGVudCBwYWRkaW5nXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXhlZENvbnRlbnQgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuRklYRURfQ09OVEVOVCkpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKGZpeGVkQ29udGVudCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSAkJCQxKGVsZW1lbnQpLmRhdGEoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoZWxlbWVudCkucmVtb3ZlRGF0YSgncGFkZGluZy1yaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSBwYWRkaW5nID8gcGFkZGluZyA6ICcnO1xuICAgICAgICAgICAgICAgICAgICB9KTsgLy8gUmVzdG9yZSBzdGlja3kgY29udGVudFxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIlwiICsgU2VsZWN0b3IuU1RJQ0tZX0NPTlRFTlQpKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMShlbGVtZW50cykuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcmdpbiA9ICQkJDEoZWxlbWVudCkuZGF0YSgnbWFyZ2luLXJpZ2h0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWFyZ2luICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoZWxlbWVudCkuY3NzKCdtYXJnaW4tcmlnaHQnLCBtYXJnaW4pLnJlbW92ZURhdGEoJ21hcmdpbi1yaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTsgLy8gUmVzdG9yZSBib2R5IHBhZGRpbmdcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFkZGluZyA9ICQkJDEoZG9jdW1lbnQuYm9keSkuZGF0YSgncGFkZGluZy1yaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKGRvY3VtZW50LmJvZHkpLnJlbW92ZURhdGEoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSBwYWRkaW5nID8gcGFkZGluZyA6ICcnO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2dldFNjcm9sbGJhcldpZHRoID0gZnVuY3Rpb24gX2dldFNjcm9sbGJhcldpZHRoKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aHggZC53YWxzaFxuICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbERpdi5jbGFzc05hbWUgPSBDbGFzc05hbWUuU0NST0xMQkFSX01FQVNVUkVSO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcm9sbERpdik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG4gICAgICAgICAgICAgICAgfTsgLy8gU3RhdGljXG5cblxuICAgICAgICAgICAgICAgIE1vZGFsLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZywgcmVsYXRlZFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkJCQxKHRoaXMpLmRhdGEoREFUQV9LRVkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2NvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIERlZmF1bHQsICQkJDEodGhpcykuZGF0YSgpLCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWcgPyBjb25maWcgOiB7fSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBuZXcgTW9kYWwodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgY29uZmlnICsgXCJcXFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbY29uZmlnXShyZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX2NvbmZpZy5zaG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5zaG93KHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKE1vZGFsLCBudWxsLCBbe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBWRVJTSU9OO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1vZGFsO1xuICAgICAgICAgICAgfSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIERhdGEgQXBpIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cblxuXG4gICAgICAgICQkJDEoZG9jdW1lbnQpLm9uKEV2ZW50LkNMSUNLX0RBVEFfQVBJLCBTZWxlY3Rvci5EQVRBX1RPR0dMRSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczEwID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHRhcmdldDtcbiAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjb25maWcgPSAkJCQxKHRhcmdldCkuZGF0YShEQVRBX0tFWSkgPyAndG9nZ2xlJyA6IF9vYmplY3RTcHJlYWQoe30sICQkJDEodGFyZ2V0KS5kYXRhKCksICQkJDEodGhpcykuZGF0YSgpKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMudGFnTmFtZSA9PT0gJ0EnIHx8IHRoaXMudGFnTmFtZSA9PT0gJ0FSRUEnKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyICR0YXJnZXQgPSAkJCQxKHRhcmdldCkub25lKEV2ZW50LlNIT1csIGZ1bmN0aW9uKHNob3dFdmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSByZWdpc3RlciBmb2N1cyByZXN0b3JlciBpZiBtb2RhbCB3aWxsIGFjdHVhbGx5IGdldCBzaG93blxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHRhcmdldC5vbmUoRXZlbnQuSElEREVOLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQkJDEoX3RoaXMxMCkuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIE1vZGFsLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkJCQxKHRhcmdldCksIGNvbmZpZywgdGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIGpRdWVyeVxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG5cbiAgICAgICAgJCQkMS5mbltOQU1FXSA9IE1vZGFsLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgICQkJDEuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBNb2RhbDtcblxuICAgICAgICAkJCQxLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQkJDEuZm5bTkFNRV0gPSBKUVVFUllfTk9fQ09ORkxJQ1Q7XG4gICAgICAgICAgICByZXR1cm4gTW9kYWwuX2pRdWVyeUludGVyZmFjZTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gTW9kYWw7XG4gICAgfSgkKTtcblxuICAgIC8qKlxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQm9vdHN0cmFwICh2NC4xLjIpOiB0b29sdGlwLmpzXG4gICAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqL1xuXG4gICAgdmFyIFRvb2x0aXAgPSBmdW5jdGlvbigkJCQxKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogQ29uc3RhbnRzXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIE5BTUUgPSAndG9vbHRpcCc7XG4gICAgICAgIHZhciBWRVJTSU9OID0gJzQuMS4yJztcbiAgICAgICAgdmFyIERBVEFfS0VZID0gJ2JzLnRvb2x0aXAnO1xuICAgICAgICB2YXIgRVZFTlRfS0VZID0gXCIuXCIgKyBEQVRBX0tFWTtcbiAgICAgICAgdmFyIEpRVUVSWV9OT19DT05GTElDVCA9ICQkJDEuZm5bTkFNRV07XG4gICAgICAgIHZhciBDTEFTU19QUkVGSVggPSAnYnMtdG9vbHRpcCc7XG4gICAgICAgIHZhciBCU0NMU19QUkVGSVhfUkVHRVggPSBuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIgKyBDTEFTU19QUkVGSVggKyBcIlxcXFxTK1wiLCAnZycpO1xuICAgICAgICB2YXIgRGVmYXVsdFR5cGUgPSB7XG4gICAgICAgICAgICBhbmltYXRpb246ICdib29sZWFuJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIHRpdGxlOiAnKHN0cmluZ3xlbGVtZW50fGZ1bmN0aW9uKScsXG4gICAgICAgICAgICB0cmlnZ2VyOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIGRlbGF5OiAnKG51bWJlcnxvYmplY3QpJyxcbiAgICAgICAgICAgIGh0bWw6ICdib29sZWFuJyxcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnKHN0cmluZ3xib29sZWFuKScsXG4gICAgICAgICAgICBwbGFjZW1lbnQ6ICcoc3RyaW5nfGZ1bmN0aW9uKScsXG4gICAgICAgICAgICBvZmZzZXQ6ICcobnVtYmVyfHN0cmluZyknLFxuICAgICAgICAgICAgY29udGFpbmVyOiAnKHN0cmluZ3xlbGVtZW50fGJvb2xlYW4pJyxcbiAgICAgICAgICAgIGZhbGxiYWNrUGxhY2VtZW50OiAnKHN0cmluZ3xhcnJheSknLFxuICAgICAgICAgICAgYm91bmRhcnk6ICcoc3RyaW5nfGVsZW1lbnQpJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgQXR0YWNobWVudE1hcCA9IHtcbiAgICAgICAgICAgIEFVVE86ICdhdXRvJyxcbiAgICAgICAgICAgIFRPUDogJ3RvcCcsXG4gICAgICAgICAgICBSSUdIVDogJ3JpZ2h0JyxcbiAgICAgICAgICAgIEJPVFRPTTogJ2JvdHRvbScsXG4gICAgICAgICAgICBMRUZUOiAnbGVmdCdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIERlZmF1bHQgPSB7XG4gICAgICAgICAgICBhbmltYXRpb246IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJ0b29sdGlwXCIgcm9sZT1cInRvb2x0aXBcIj4nICsgJzxkaXYgY2xhc3M9XCJhcnJvd1wiPjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cInRvb2x0aXAtaW5uZXJcIj48L2Rpdj48L2Rpdj4nLFxuICAgICAgICAgICAgdHJpZ2dlcjogJ2hvdmVyIGZvY3VzJyxcbiAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIGRlbGF5OiAwLFxuICAgICAgICAgICAgaHRtbDogZmFsc2UsXG4gICAgICAgICAgICBzZWxlY3RvcjogZmFsc2UsXG4gICAgICAgICAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgY29udGFpbmVyOiBmYWxzZSxcbiAgICAgICAgICAgIGZhbGxiYWNrUGxhY2VtZW50OiAnZmxpcCcsXG4gICAgICAgICAgICBib3VuZGFyeTogJ3Njcm9sbFBhcmVudCdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIEhvdmVyU3RhdGUgPSB7XG4gICAgICAgICAgICBTSE9XOiAnc2hvdycsXG4gICAgICAgICAgICBPVVQ6ICdvdXQnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBFdmVudCA9IHtcbiAgICAgICAgICAgIEhJREU6IFwiaGlkZVwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgSElEREVOOiBcImhpZGRlblwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgU0hPVzogXCJzaG93XCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBTSE9XTjogXCJzaG93blwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgSU5TRVJURUQ6IFwiaW5zZXJ0ZWRcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIENMSUNLOiBcImNsaWNrXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBGT0NVU0lOOiBcImZvY3VzaW5cIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIEZPQ1VTT1VUOiBcImZvY3Vzb3V0XCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBNT1VTRUVOVEVSOiBcIm1vdXNlZW50ZXJcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIE1PVVNFTEVBVkU6IFwibW91c2VsZWF2ZVwiICsgRVZFTlRfS0VZXG4gICAgICAgIH07XG4gICAgICAgIHZhciBDbGFzc05hbWUgPSB7XG4gICAgICAgICAgICBGQURFOiAnZmFkZScsXG4gICAgICAgICAgICBTSE9XOiAnc2hvdydcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIFNlbGVjdG9yID0ge1xuICAgICAgICAgICAgVE9PTFRJUDogJy50b29sdGlwJyxcbiAgICAgICAgICAgIFRPT0xUSVBfSU5ORVI6ICcudG9vbHRpcC1pbm5lcicsXG4gICAgICAgICAgICBBUlJPVzogJy5hcnJvdydcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIFRyaWdnZXIgPSB7XG4gICAgICAgICAgICBIT1ZFUjogJ2hvdmVyJyxcbiAgICAgICAgICAgIEZPQ1VTOiAnZm9jdXMnLFxuICAgICAgICAgICAgQ0xJQ0s6ICdjbGljaycsXG4gICAgICAgICAgICBNQU5VQUw6ICdtYW51YWwnXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgICAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBUb29sdGlwID1cbiAgICAgICAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFRvb2x0aXAoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBDaGVjayBmb3IgUG9wcGVyIGRlcGVuZGVuY3lcbiAgICAgICAgICAgICAgICAgICAgICogUG9wcGVyIC0gaHR0cHM6Ly9wb3BwZXIuanMub3JnXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFBvcHBlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Jvb3RzdHJhcCB0b29sdGlwcyByZXF1aXJlIFBvcHBlci5qcyAoaHR0cHM6Ly9wb3BwZXIuanMub3JnKScpO1xuICAgICAgICAgICAgICAgICAgICB9IC8vIHByaXZhdGVcblxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVvdXQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ob3ZlclN0YXRlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXIgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9wcGVyID0gbnVsbDsgLy8gUHJvdGVjdGVkXG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aXAgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICAgICAgICAgICAgICB2YXIgX3Byb3RvID0gVG9vbHRpcC5wcm90b3R5cGU7XG5cbiAgICAgICAgICAgICAgICAvLyBQdWJsaWNcbiAgICAgICAgICAgICAgICBfcHJvdG8uZW5hYmxlID0gZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uZGlzYWJsZSA9IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8udG9nZ2xlRW5hYmxlZCA9IGZ1bmN0aW9uIHRvZ2dsZUVuYWJsZWQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzRW5hYmxlZCA9ICF0aGlzLl9pc0VuYWJsZWQ7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by50b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFLZXkgPSB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSAkJCQxKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihldmVudC5jdXJyZW50VGFyZ2V0LCB0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuX2FjdGl2ZVRyaWdnZXIuY2xpY2sgPSAhY29udGV4dC5fYWN0aXZlVHJpZ2dlci5jbGljaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuX2VudGVyKG51bGwsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Ll9sZWF2ZShudWxsLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkJCQxKHRoaXMuZ2V0VGlwRWxlbWVudCgpKS5oYXNDbGFzcyhDbGFzc05hbWUuU0hPVykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sZWF2ZShudWxsLCB0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW50ZXIobnVsbCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEucmVtb3ZlRGF0YSh0aGlzLmVsZW1lbnQsIHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVkpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuZWxlbWVudCkub2ZmKHRoaXMuY29uc3RydWN0b3IuRVZFTlRfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLmVsZW1lbnQpLmNsb3Nlc3QoJy5tb2RhbCcpLm9mZignaGlkZS5icy5tb2RhbCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRpcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLnRpcCkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0VuYWJsZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faG92ZXJTdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXIgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wb3BwZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BvcHBlci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3BwZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGlwID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLnNob3cgPSBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkJCQxKHRoaXMuZWxlbWVudCkuY3NzKCdkaXNwbGF5JykgPT09ICdub25lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgdXNlIHNob3cgb24gdmlzaWJsZSBlbGVtZW50cycpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNob3dFdmVudCA9ICQkJDEuRXZlbnQodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5TSE9XKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1dpdGhDb250ZW50KCkgJiYgdGhpcy5faXNFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuZWxlbWVudCkudHJpZ2dlcihzaG93RXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzSW5UaGVEb20gPSAkJCQxLmNvbnRhaW5zKHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgdGhpcy5lbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAhaXNJblRoZURvbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpcCA9IHRoaXMuZ2V0VGlwRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpcElkID0gVXRpbC5nZXRVSUQodGhpcy5jb25zdHJ1Y3Rvci5OQU1FKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zZXRBdHRyaWJ1dGUoJ2lkJywgdGlwSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScsIHRpcElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGVudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aXApLmFkZENsYXNzKENsYXNzTmFtZS5GQURFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBsYWNlbWVudCA9IHR5cGVvZiB0aGlzLmNvbmZpZy5wbGFjZW1lbnQgPT09ICdmdW5jdGlvbicgPyB0aGlzLmNvbmZpZy5wbGFjZW1lbnQuY2FsbCh0aGlzLCB0aXAsIHRoaXMuZWxlbWVudCkgOiB0aGlzLmNvbmZpZy5wbGFjZW1lbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRhY2htZW50ID0gdGhpcy5fZ2V0QXR0YWNobWVudChwbGFjZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEF0dGFjaG1lbnRDbGFzcyhhdHRhY2htZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvbmZpZy5jb250YWluZXIgPT09IGZhbHNlID8gZG9jdW1lbnQuYm9keSA6ICQkJDEoZG9jdW1lbnQpLmZpbmQodGhpcy5jb25maWcuY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGlwKS5kYXRhKHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVksIHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISQkJDEuY29udGFpbnModGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB0aGlzLnRpcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRpcCkuYXBwZW5kVG8oY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLmVsZW1lbnQpLnRyaWdnZXIodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5JTlNFUlRFRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3BwZXIgPSBuZXcgUG9wcGVyKHRoaXMuZWxlbWVudCwgdGlwLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiBhdHRhY2htZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogdGhpcy5jb25maWcub2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsaXA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yOiB0aGlzLmNvbmZpZy5mYWxsYmFja1BsYWNlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJvdzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogU2VsZWN0b3IuQVJST1dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudE92ZXJmbG93OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZGFyaWVzRWxlbWVudDogdGhpcy5jb25maWcuYm91bmRhcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DcmVhdGU6IGZ1bmN0aW9uIG9uQ3JlYXRlKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEub3JpZ2luYWxQbGFjZW1lbnQgIT09IGRhdGEucGxhY2VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlUG9wcGVyUGxhY2VtZW50Q2hhbmdlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZTogZnVuY3Rpb24gb25VcGRhdGUoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlUG9wcGVyUGxhY2VtZW50Q2hhbmdlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aXApLmFkZENsYXNzKENsYXNzTmFtZS5TSE9XKTsgLy8gSWYgdGhpcyBpcyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlIHdlIGFkZCBleHRyYVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHkgbW91c2VvdmVyIGxpc3RlbmVycyB0byB0aGUgYm9keSdzIGltbWVkaWF0ZSBjaGlsZHJlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgbmVlZGVkIGJlY2F1c2Ugb2YgYnJva2VuIGV2ZW50IGRlbGVnYXRpb24gb24gaU9TXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy5xdWlya3Ntb2RlLm9yZy9ibG9nL2FyY2hpdmVzLzIwMTQvMDIvbW91c2VfZXZlbnRfYnViLmh0bWxcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4oKS5vbignbW91c2VvdmVyJywgbnVsbCwgJCQkMS5ub29wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmNvbmZpZy5hbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2ZpeFRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJldkhvdmVyU3RhdGUgPSBfdGhpcy5faG92ZXJTdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5faG92ZXJTdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShfdGhpcy5lbGVtZW50KS50cmlnZ2VyKF90aGlzLmNvbnN0cnVjdG9yLkV2ZW50LlNIT1dOKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2SG92ZXJTdGF0ZSA9PT0gSG92ZXJTdGF0ZS5PVVQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xlYXZlKG51bGwsIF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCQkMSh0aGlzLnRpcCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkZBREUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy50aXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy50aXApLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uaGlkZSA9IGZ1bmN0aW9uIGhpZGUoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcCA9IHRoaXMuZ2V0VGlwRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGlkZUV2ZW50ID0gJCQkMS5FdmVudCh0aGlzLmNvbnN0cnVjdG9yLkV2ZW50LkhJREUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5faG92ZXJTdGF0ZSAhPT0gSG92ZXJTdGF0ZS5TSE9XICYmIHRpcC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGlwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLl9jbGVhblRpcENsYXNzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKF90aGlzMi5lbGVtZW50KS50cmlnZ2VyKF90aGlzMi5jb25zdHJ1Y3Rvci5FdmVudC5ISURERU4pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLl9wb3BwZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuX3BvcHBlci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLmVsZW1lbnQpLnRyaWdnZXIoaGlkZUV2ZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkJCQxKHRpcCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpOyAvLyBJZiB0aGlzIGlzIGEgdG91Y2gtZW5hYmxlZCBkZXZpY2Ugd2UgcmVtb3ZlIHRoZSBleHRyYVxuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eSBtb3VzZW92ZXIgbGlzdGVuZXJzIHdlIGFkZGVkIGZvciBpT1Mgc3VwcG9ydFxuXG4gICAgICAgICAgICAgICAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4oKS5vZmYoJ21vdXNlb3ZlcicsIG51bGwsICQkJDEubm9vcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVUcmlnZ2VyW1RyaWdnZXIuQ0xJQ0tdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXJbVHJpZ2dlci5GT0NVU10gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlVHJpZ2dlcltUcmlnZ2VyLkhPVkVSXSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkJCQxKHRoaXMudGlwKS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRpcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRpcCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hvdmVyU3RhdGUgPSAnJztcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BvcHBlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9wcGVyLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9OyAvLyBQcm90ZWN0ZWRcblxuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmlzV2l0aENvbnRlbnQgPSBmdW5jdGlvbiBpc1dpdGhDb250ZW50KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLmdldFRpdGxlKCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uYWRkQXR0YWNobWVudENsYXNzID0gZnVuY3Rpb24gYWRkQXR0YWNobWVudENsYXNzKGF0dGFjaG1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLmdldFRpcEVsZW1lbnQoKSkuYWRkQ2xhc3MoQ0xBU1NfUFJFRklYICsgXCItXCIgKyBhdHRhY2htZW50KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmdldFRpcEVsZW1lbnQgPSBmdW5jdGlvbiBnZXRUaXBFbGVtZW50KCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpcCA9IHRoaXMudGlwIHx8ICQkJDEodGhpcy5jb25maWcudGVtcGxhdGUpWzBdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50aXA7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5zZXRDb250ZW50ID0gZnVuY3Rpb24gc2V0Q29udGVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcCA9IHRoaXMuZ2V0VGlwRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVsZW1lbnRDb250ZW50KCQkJDEodGlwLnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuVE9PTFRJUF9JTk5FUikpLCB0aGlzLmdldFRpdGxlKCkpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHRpcCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkZBREUgKyBcIiBcIiArIENsYXNzTmFtZS5TSE9XKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLnNldEVsZW1lbnRDb250ZW50ID0gZnVuY3Rpb24gc2V0RWxlbWVudENvbnRlbnQoJGVsZW1lbnQsIGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgPSB0aGlzLmNvbmZpZy5odG1sO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ29iamVjdCcgJiYgKGNvbnRlbnQubm9kZVR5cGUgfHwgY29udGVudC5qcXVlcnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250ZW50IGlzIGEgRE9NIG5vZGUgb3IgYSBqUXVlcnlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChodG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkJCQxKGNvbnRlbnQpLnBhcmVudCgpLmlzKCRlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5lbXB0eSgpLmFwcGVuZChjb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlbGVtZW50LnRleHQoJCQkMShjb250ZW50KS50ZXh0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnRbaHRtbCA/ICdodG1sJyA6ICd0ZXh0J10oY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmdldFRpdGxlID0gZnVuY3Rpb24gZ2V0VGl0bGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IHR5cGVvZiB0aGlzLmNvbmZpZy50aXRsZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuY29uZmlnLnRpdGxlLmNhbGwodGhpcy5lbGVtZW50KSA6IHRoaXMuY29uZmlnLnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRpdGxlO1xuICAgICAgICAgICAgICAgIH07IC8vIFByaXZhdGVcblxuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXRBdHRhY2htZW50ID0gZnVuY3Rpb24gX2dldEF0dGFjaG1lbnQocGxhY2VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBBdHRhY2htZW50TWFwW3BsYWNlbWVudC50b1VwcGVyQ2FzZSgpXTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9zZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBfc2V0TGlzdGVuZXJzKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdHJpZ2dlcnMgPSB0aGlzLmNvbmZpZy50cmlnZ2VyLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJzLmZvckVhY2goZnVuY3Rpb24odHJpZ2dlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIgPT09ICdjbGljaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKF90aGlzMy5lbGVtZW50KS5vbihfdGhpczMuY29uc3RydWN0b3IuRXZlbnQuQ0xJQ0ssIF90aGlzMy5jb25maWcuc2VsZWN0b3IsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMudG9nZ2xlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHJpZ2dlciAhPT0gVHJpZ2dlci5NQU5VQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRJbiA9IHRyaWdnZXIgPT09IFRyaWdnZXIuSE9WRVIgPyBfdGhpczMuY29uc3RydWN0b3IuRXZlbnQuTU9VU0VFTlRFUiA6IF90aGlzMy5jb25zdHJ1Y3Rvci5FdmVudC5GT0NVU0lOO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudE91dCA9IHRyaWdnZXIgPT09IFRyaWdnZXIuSE9WRVIgPyBfdGhpczMuY29uc3RydWN0b3IuRXZlbnQuTU9VU0VMRUFWRSA6IF90aGlzMy5jb25zdHJ1Y3Rvci5FdmVudC5GT0NVU09VVDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKF90aGlzMy5lbGVtZW50KS5vbihldmVudEluLCBfdGhpczMuY29uZmlnLnNlbGVjdG9yLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLl9lbnRlcihldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkub24oZXZlbnRPdXQsIF90aGlzMy5jb25maWcuc2VsZWN0b3IsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuX2xlYXZlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShfdGhpczMuZWxlbWVudCkuY2xvc2VzdCgnLm1vZGFsJykub24oJ2hpZGUuYnMubW9kYWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcuc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgdGhpcy5jb25maWcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnbWFudWFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJydcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZml4VGl0bGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2ZpeFRpdGxlID0gZnVuY3Rpb24gX2ZpeFRpdGxlKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGl0bGVUeXBlID0gdHlwZW9mIHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgndGl0bGUnKSB8fCB0aXRsZVR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgndGl0bGUnKSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd0aXRsZScsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2VudGVyID0gZnVuY3Rpb24gX2VudGVyKGV2ZW50LCBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhS2V5ID0gdGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGNvbnRleHQgfHwgJCQkMShldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGV2ZW50LmN1cnJlbnRUYXJnZXQsIHRoaXMuX2dldERlbGVnYXRlQ29uZmlnKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXksIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Ll9hY3RpdmVUcmlnZ2VyW2V2ZW50LnR5cGUgPT09ICdmb2N1c2luJyA/IFRyaWdnZXIuRk9DVVMgOiBUcmlnZ2VyLkhPVkVSXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoJCQkMShjb250ZXh0LmdldFRpcEVsZW1lbnQoKSkuaGFzQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpIHx8IGNvbnRleHQuX2hvdmVyU3RhdGUgPT09IEhvdmVyU3RhdGUuU0hPVykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5faG92ZXJTdGF0ZSA9IEhvdmVyU3RhdGUuU0hPVztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjb250ZXh0Ll90aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5faG92ZXJTdGF0ZSA9IEhvdmVyU3RhdGUuU0hPVztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQuY29uZmlnLmRlbGF5IHx8ICFjb250ZXh0LmNvbmZpZy5kZWxheS5zaG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuX2hvdmVyU3RhdGUgPT09IEhvdmVyU3RhdGUuU0hPVykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCBjb250ZXh0LmNvbmZpZy5kZWxheS5zaG93KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9sZWF2ZSA9IGZ1bmN0aW9uIF9sZWF2ZShldmVudCwgY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUtleSA9IHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8ICQkJDEoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihldmVudC5jdXJyZW50VGFyZ2V0LCB0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5LCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5fYWN0aXZlVHJpZ2dlcltldmVudC50eXBlID09PSAnZm9jdXNvdXQnID8gVHJpZ2dlci5GT0NVUyA6IFRyaWdnZXIuSE9WRVJdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5faXNXaXRoQWN0aXZlVHJpZ2dlcigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29udGV4dC5fdGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuX2hvdmVyU3RhdGUgPSBIb3ZlclN0YXRlLk9VVDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQuY29uZmlnLmRlbGF5IHx8ICFjb250ZXh0LmNvbmZpZy5kZWxheS5oaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuX2hvdmVyU3RhdGUgPT09IEhvdmVyU3RhdGUuT1VUKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIGNvbnRleHQuY29uZmlnLmRlbGF5LmhpZGUpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2lzV2l0aEFjdGl2ZVRyaWdnZXIgPSBmdW5jdGlvbiBfaXNXaXRoQWN0aXZlVHJpZ2dlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdHJpZ2dlciBpbiB0aGlzLl9hY3RpdmVUcmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlVHJpZ2dlclt0cmlnZ2VyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdCwgJCQkMSh0aGlzLmVsZW1lbnQpLmRhdGEoKSwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnID8gY29uZmlnIDoge30pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLmRlbGF5ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmRlbGF5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3c6IGNvbmZpZy5kZWxheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlOiBjb25maWcuZGVsYXlcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy50aXRsZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy50aXRsZSA9IGNvbmZpZy50aXRsZS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcuY29udGVudCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5jb250ZW50ID0gY29uZmlnLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUsIGNvbmZpZywgdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0VHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fZ2V0RGVsZWdhdGVDb25maWcgPSBmdW5jdGlvbiBfZ2V0RGVsZWdhdGVDb25maWcoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSB7fTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRba2V5XSAhPT0gdGhpcy5jb25maWdba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWdba2V5XSA9IHRoaXMuY29uZmlnW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9jbGVhblRpcENsYXNzID0gZnVuY3Rpb24gX2NsZWFuVGlwQ2xhc3MoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkdGlwID0gJCQkMSh0aGlzLmdldFRpcEVsZW1lbnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJDbGFzcyA9ICR0aXAuYXR0cignY2xhc3MnKS5tYXRjaChCU0NMU19QUkVGSVhfUkVHRVgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWJDbGFzcyAhPT0gbnVsbCAmJiB0YWJDbGFzcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aXAucmVtb3ZlQ2xhc3ModGFiQ2xhc3Muam9pbignJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5faGFuZGxlUG9wcGVyUGxhY2VtZW50Q2hhbmdlID0gZnVuY3Rpb24gX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZShwb3BwZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3BwZXJJbnN0YW5jZSA9IHBvcHBlckRhdGEuaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGlwID0gcG9wcGVySW5zdGFuY2UucG9wcGVyO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFuVGlwQ2xhc3MoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEF0dGFjaG1lbnRDbGFzcyh0aGlzLl9nZXRBdHRhY2htZW50KHBvcHBlckRhdGEucGxhY2VtZW50KSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fZml4VHJhbnNpdGlvbiA9IGZ1bmN0aW9uIF9maXhUcmFuc2l0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGlwID0gdGhpcy5nZXRUaXBFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbml0Q29uZmlnQW5pbWF0aW9uID0gdGhpcy5jb25maWcuYW5pbWF0aW9uO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aXAuZ2V0QXR0cmlidXRlKCd4LXBsYWNlbWVudCcpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkJCQxKHRpcCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkZBREUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5hbmltYXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5hbmltYXRpb24gPSBpbml0Q29uZmlnQW5pbWF0aW9uO1xuICAgICAgICAgICAgICAgIH07IC8vIFN0YXRpY1xuXG5cbiAgICAgICAgICAgICAgICBUb29sdGlwLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkJCQxKHRoaXMpLmRhdGEoREFUQV9LRVkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2NvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnICYmIGNvbmZpZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhICYmIC9kaXNwb3NlfGhpZGUvLnRlc3QoY29uZmlnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG5ldyBUb29sdGlwKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGNvbmZpZyArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhUb29sdGlwLCBudWxsLCBbe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBWRVJTSU9OO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiTkFNRVwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBOQU1FO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiREFUQV9LRVlcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREFUQV9LRVk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJFdmVudFwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFdmVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIkVWRU5UX0tFWVwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFVkVOVF9LRVk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJEZWZhdWx0VHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEZWZhdWx0VHlwZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBUb29sdGlwO1xuICAgICAgICAgICAgfSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIGpRdWVyeVxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG5cblxuICAgICAgICAkJCQxLmZuW05BTUVdID0gVG9vbHRpcC5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgICAkJCQxLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gVG9vbHRpcDtcblxuICAgICAgICAkJCQxLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQkJDEuZm5bTkFNRV0gPSBKUVVFUllfTk9fQ09ORkxJQ1Q7XG4gICAgICAgICAgICByZXR1cm4gVG9vbHRpcC5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBUb29sdGlwO1xuICAgIH0oJCwgUG9wcGVyKTtcblxuICAgIC8qKlxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQm9vdHN0cmFwICh2NC4xLjIpOiBwb3BvdmVyLmpzXG4gICAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqL1xuXG4gICAgdmFyIFBvcG92ZXIgPSBmdW5jdGlvbigkJCQxKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogQ29uc3RhbnRzXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIE5BTUUgPSAncG9wb3Zlcic7XG4gICAgICAgIHZhciBWRVJTSU9OID0gJzQuMS4yJztcbiAgICAgICAgdmFyIERBVEFfS0VZID0gJ2JzLnBvcG92ZXInO1xuICAgICAgICB2YXIgRVZFTlRfS0VZID0gXCIuXCIgKyBEQVRBX0tFWTtcbiAgICAgICAgdmFyIEpRVUVSWV9OT19DT05GTElDVCA9ICQkJDEuZm5bTkFNRV07XG4gICAgICAgIHZhciBDTEFTU19QUkVGSVggPSAnYnMtcG9wb3Zlcic7XG4gICAgICAgIHZhciBCU0NMU19QUkVGSVhfUkVHRVggPSBuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIgKyBDTEFTU19QUkVGSVggKyBcIlxcXFxTK1wiLCAnZycpO1xuXG4gICAgICAgIHZhciBEZWZhdWx0ID0gX29iamVjdFNwcmVhZCh7fSwgVG9vbHRpcC5EZWZhdWx0LCB7XG4gICAgICAgICAgICBwbGFjZW1lbnQ6ICdyaWdodCcsXG4gICAgICAgICAgICB0cmlnZ2VyOiAnY2xpY2snLFxuICAgICAgICAgICAgY29udGVudDogJycsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJwb3BvdmVyXCIgcm9sZT1cInRvb2x0aXBcIj4nICsgJzxkaXYgY2xhc3M9XCJhcnJvd1wiPjwvZGl2PicgKyAnPGgzIGNsYXNzPVwicG9wb3Zlci1oZWFkZXJcIj48L2gzPicgKyAnPGRpdiBjbGFzcz1cInBvcG92ZXItYm9keVwiPjwvZGl2PjwvZGl2PidcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIERlZmF1bHRUeXBlID0gX29iamVjdFNwcmVhZCh7fSwgVG9vbHRpcC5EZWZhdWx0VHlwZSwge1xuICAgICAgICAgICAgY29udGVudDogJyhzdHJpbmd8ZWxlbWVudHxmdW5jdGlvbiknXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBDbGFzc05hbWUgPSB7XG4gICAgICAgICAgICBGQURFOiAnZmFkZScsXG4gICAgICAgICAgICBTSE9XOiAnc2hvdydcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIFNlbGVjdG9yID0ge1xuICAgICAgICAgICAgVElUTEU6ICcucG9wb3Zlci1oZWFkZXInLFxuICAgICAgICAgICAgQ09OVEVOVDogJy5wb3BvdmVyLWJvZHknXG4gICAgICAgIH07XG4gICAgICAgIHZhciBFdmVudCA9IHtcbiAgICAgICAgICAgIEhJREU6IFwiaGlkZVwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgSElEREVOOiBcImhpZGRlblwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgU0hPVzogXCJzaG93XCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBTSE9XTjogXCJzaG93blwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgSU5TRVJURUQ6IFwiaW5zZXJ0ZWRcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIENMSUNLOiBcImNsaWNrXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBGT0NVU0lOOiBcImZvY3VzaW5cIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIEZPQ1VTT1VUOiBcImZvY3Vzb3V0XCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBNT1VTRUVOVEVSOiBcIm1vdXNlZW50ZXJcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIE1PVVNFTEVBVkU6IFwibW91c2VsZWF2ZVwiICsgRVZFTlRfS0VZXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgICAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBQb3BvdmVyID1cbiAgICAgICAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uKF9Ub29sdGlwKSB7XG4gICAgICAgICAgICAgICAgX2luaGVyaXRzTG9vc2UoUG9wb3ZlciwgX1Rvb2x0aXApO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gUG9wb3ZlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9Ub29sdGlwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgX3Byb3RvID0gUG9wb3Zlci5wcm90b3R5cGU7XG5cbiAgICAgICAgICAgICAgICAvLyBPdmVycmlkZXNcbiAgICAgICAgICAgICAgICBfcHJvdG8uaXNXaXRoQ29udGVudCA9IGZ1bmN0aW9uIGlzV2l0aENvbnRlbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFRpdGxlKCkgfHwgdGhpcy5fZ2V0Q29udGVudCgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uYWRkQXR0YWNobWVudENsYXNzID0gZnVuY3Rpb24gYWRkQXR0YWNobWVudENsYXNzKGF0dGFjaG1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLmdldFRpcEVsZW1lbnQoKSkuYWRkQ2xhc3MoQ0xBU1NfUFJFRklYICsgXCItXCIgKyBhdHRhY2htZW50KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmdldFRpcEVsZW1lbnQgPSBmdW5jdGlvbiBnZXRUaXBFbGVtZW50KCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpcCA9IHRoaXMudGlwIHx8ICQkJDEodGhpcy5jb25maWcudGVtcGxhdGUpWzBdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50aXA7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5zZXRDb250ZW50ID0gZnVuY3Rpb24gc2V0Q29udGVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICR0aXAgPSAkJCQxKHRoaXMuZ2V0VGlwRWxlbWVudCgpKTsgLy8gV2UgdXNlIGFwcGVuZCBmb3IgaHRtbCBvYmplY3RzIHRvIG1haW50YWluIGpzIGV2ZW50c1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RWxlbWVudENvbnRlbnQoJHRpcC5maW5kKFNlbGVjdG9yLlRJVExFKSwgdGhpcy5nZXRUaXRsZSgpKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9IHRoaXMuX2dldENvbnRlbnQoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LmNhbGwodGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RWxlbWVudENvbnRlbnQoJHRpcC5maW5kKFNlbGVjdG9yLkNPTlRFTlQpLCBjb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgJHRpcC5yZW1vdmVDbGFzcyhDbGFzc05hbWUuRkFERSArIFwiIFwiICsgQ2xhc3NOYW1lLlNIT1cpO1xuICAgICAgICAgICAgICAgIH07IC8vIFByaXZhdGVcblxuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXRDb250ZW50ID0gZnVuY3Rpb24gX2dldENvbnRlbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbnRlbnQnKSB8fCB0aGlzLmNvbmZpZy5jb250ZW50O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2NsZWFuVGlwQ2xhc3MgPSBmdW5jdGlvbiBfY2xlYW5UaXBDbGFzcygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICR0aXAgPSAkJCQxKHRoaXMuZ2V0VGlwRWxlbWVudCgpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYkNsYXNzID0gJHRpcC5hdHRyKCdjbGFzcycpLm1hdGNoKEJTQ0xTX1BSRUZJWF9SRUdFWCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhYkNsYXNzICE9PSBudWxsICYmIHRhYkNsYXNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aXAucmVtb3ZlQ2xhc3ModGFiQ2xhc3Muam9pbignJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTsgLy8gU3RhdGljXG5cblxuICAgICAgICAgICAgICAgIFBvcG92ZXIuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9ICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY29uZmlnID0gdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgPyBjb25maWcgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEgJiYgL2Rlc3Ryb3l8aGlkZS8udGVzdChjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gbmV3IFBvcG92ZXIodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgY29uZmlnICsgXCJcXFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKFBvcG92ZXIsIG51bGwsIFt7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldHRlcnNcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVkVSU0lPTjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIk5BTUVcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTkFNRTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIkRBVEFfS0VZXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERBVEFfS0VZO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiRXZlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJFVkVOVF9LRVlcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRVZFTlRfS0VZO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiRGVmYXVsdFR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGVmYXVsdFR5cGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUG9wb3ZlcjtcbiAgICAgICAgICAgIH0oVG9vbHRpcCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogalF1ZXJ5XG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cblxuXG4gICAgICAgICQkJDEuZm5bTkFNRV0gPSBQb3BvdmVyLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgICQkJDEuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBQb3BvdmVyO1xuXG4gICAgICAgICQkJDEuZm5bTkFNRV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCQkMS5mbltOQU1FXSA9IEpRVUVSWV9OT19DT05GTElDVDtcbiAgICAgICAgICAgIHJldHVybiBQb3BvdmVyLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIFBvcG92ZXI7XG4gICAgfSgkKTtcblxuICAgIC8qKlxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQm9vdHN0cmFwICh2NC4xLjIpOiBzY3JvbGxzcHkuanNcbiAgICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICovXG5cbiAgICB2YXIgU2Nyb2xsU3B5ID0gZnVuY3Rpb24oJCQkMSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIENvbnN0YW50c1xuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBOQU1FID0gJ3Njcm9sbHNweSc7XG4gICAgICAgIHZhciBWRVJTSU9OID0gJzQuMS4yJztcbiAgICAgICAgdmFyIERBVEFfS0VZID0gJ2JzLnNjcm9sbHNweSc7XG4gICAgICAgIHZhciBFVkVOVF9LRVkgPSBcIi5cIiArIERBVEFfS0VZO1xuICAgICAgICB2YXIgREFUQV9BUElfS0VZID0gJy5kYXRhLWFwaSc7XG4gICAgICAgIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QgPSAkJCQxLmZuW05BTUVdO1xuICAgICAgICB2YXIgRGVmYXVsdCA9IHtcbiAgICAgICAgICAgIG9mZnNldDogMTAsXG4gICAgICAgICAgICBtZXRob2Q6ICdhdXRvJyxcbiAgICAgICAgICAgIHRhcmdldDogJydcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIERlZmF1bHRUeXBlID0ge1xuICAgICAgICAgICAgb2Zmc2V0OiAnbnVtYmVyJyxcbiAgICAgICAgICAgIG1ldGhvZDogJ3N0cmluZycsXG4gICAgICAgICAgICB0YXJnZXQ6ICcoc3RyaW5nfGVsZW1lbnQpJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgRXZlbnQgPSB7XG4gICAgICAgICAgICBBQ1RJVkFURTogXCJhY3RpdmF0ZVwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgU0NST0xMOiBcInNjcm9sbFwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgTE9BRF9EQVRBX0FQSTogXCJsb2FkXCIgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVlcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIENsYXNzTmFtZSA9IHtcbiAgICAgICAgICAgIERST1BET1dOX0lURU06ICdkcm9wZG93bi1pdGVtJyxcbiAgICAgICAgICAgIERST1BET1dOX01FTlU6ICdkcm9wZG93bi1tZW51JyxcbiAgICAgICAgICAgIEFDVElWRTogJ2FjdGl2ZSdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIFNlbGVjdG9yID0ge1xuICAgICAgICAgICAgREFUQV9TUFk6ICdbZGF0YS1zcHk9XCJzY3JvbGxcIl0nLFxuICAgICAgICAgICAgQUNUSVZFOiAnLmFjdGl2ZScsXG4gICAgICAgICAgICBOQVZfTElTVF9HUk9VUDogJy5uYXYsIC5saXN0LWdyb3VwJyxcbiAgICAgICAgICAgIE5BVl9MSU5LUzogJy5uYXYtbGluaycsXG4gICAgICAgICAgICBOQVZfSVRFTVM6ICcubmF2LWl0ZW0nLFxuICAgICAgICAgICAgTElTVF9JVEVNUzogJy5saXN0LWdyb3VwLWl0ZW0nLFxuICAgICAgICAgICAgRFJPUERPV046ICcuZHJvcGRvd24nLFxuICAgICAgICAgICAgRFJPUERPV05fSVRFTVM6ICcuZHJvcGRvd24taXRlbScsXG4gICAgICAgICAgICBEUk9QRE9XTl9UT0dHTEU6ICcuZHJvcGRvd24tdG9nZ2xlJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgT2Zmc2V0TWV0aG9kID0ge1xuICAgICAgICAgICAgT0ZGU0VUOiAnb2Zmc2V0JyxcbiAgICAgICAgICAgIFBPU0lUSU9OOiAncG9zaXRpb24nXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgICAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBTY3JvbGxTcHkgPVxuICAgICAgICAgICAgLyojX19QVVJFX18qL1xuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gU2Nyb2xsU3B5KGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY3JvbGxFbGVtZW50ID0gZWxlbWVudC50YWdOYW1lID09PSAnQk9EWScgPyB3aW5kb3cgOiBlbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSB0aGlzLl9jb25maWcudGFyZ2V0ICsgXCIgXCIgKyBTZWxlY3Rvci5OQVZfTElOS1MgKyBcIixcIiArICh0aGlzLl9jb25maWcudGFyZ2V0ICsgXCIgXCIgKyBTZWxlY3Rvci5MSVNUX0lURU1TICsgXCIsXCIpICsgKHRoaXMuX2NvbmZpZy50YXJnZXQgKyBcIiBcIiArIFNlbGVjdG9yLkRST1BET1dOX0lURU1TKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb2Zmc2V0cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbEhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fc2Nyb2xsRWxlbWVudCkub24oRXZlbnQuU0NST0xMLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9wcm9jZXNzKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3MoKTtcbiAgICAgICAgICAgICAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgICAgICAgICAgICAgdmFyIF9wcm90byA9IFNjcm9sbFNweS5wcm90b3R5cGU7XG5cbiAgICAgICAgICAgICAgICAvLyBQdWJsaWNcbiAgICAgICAgICAgICAgICBfcHJvdG8ucmVmcmVzaCA9IGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhdXRvTWV0aG9kID0gdGhpcy5fc2Nyb2xsRWxlbWVudCA9PT0gdGhpcy5fc2Nyb2xsRWxlbWVudC53aW5kb3cgPyBPZmZzZXRNZXRob2QuT0ZGU0VUIDogT2Zmc2V0TWV0aG9kLlBPU0lUSU9OO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0TWV0aG9kID0gdGhpcy5fY29uZmlnLm1ldGhvZCA9PT0gJ2F1dG8nID8gYXV0b01ldGhvZCA6IHRoaXMuX2NvbmZpZy5tZXRob2Q7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXRCYXNlID0gb2Zmc2V0TWV0aG9kID09PSBPZmZzZXRNZXRob2QuUE9TSVRJT04gPyB0aGlzLl9nZXRTY3JvbGxUb3AoKSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29mZnNldHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY3JvbGxIZWlnaHQgPSB0aGlzLl9nZXRTY3JvbGxIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldHMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2VsZWN0b3IpKTtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0cy5tYXAoZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRTZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRTZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0QkNSID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldEJDUi53aWR0aCB8fCB0YXJnZXRCQ1IuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gKGZhdCk6IHJlbW92ZSBza2V0Y2ggcmVsaWFuY2Ugb24galF1ZXJ5IHBvc2l0aW9uL29mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyQkJDEodGFyZ2V0KVtvZmZzZXRNZXRob2RdKCkudG9wICsgb2Zmc2V0QmFzZSwgdGFyZ2V0U2VsZWN0b3JdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgICAgICAgICAgfSkuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVswXSAtIGJbMF07XG4gICAgICAgICAgICAgICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLl9vZmZzZXRzLnB1c2goaXRlbVswXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5fdGFyZ2V0cy5wdXNoKGl0ZW1bMV0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgICAgICAgICAgICAgICAkJCQxLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX3Njcm9sbEVsZW1lbnQpLm9mZihFVkVOVF9LRVkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbmZpZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb2Zmc2V0cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldHMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVUYXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY3JvbGxIZWlnaHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH07IC8vIFByaXZhdGVcblxuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCBEZWZhdWx0LCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWcgPyBjb25maWcgOiB7fSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcudGFyZ2V0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gJCQkMShjb25maWcudGFyZ2V0KS5hdHRyKCdpZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSBVdGlsLmdldFVJRChOQU1FKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGNvbmZpZy50YXJnZXQpLmF0dHIoJ2lkJywgaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcudGFyZ2V0ID0gXCIjXCIgKyBpZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUsIGNvbmZpZywgRGVmYXVsdFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2dldFNjcm9sbFRvcCA9IGZ1bmN0aW9uIF9nZXRTY3JvbGxUb3AoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxFbGVtZW50ID09PSB3aW5kb3cgPyB0aGlzLl9zY3JvbGxFbGVtZW50LnBhZ2VZT2Zmc2V0IDogdGhpcy5fc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fZ2V0U2Nyb2xsSGVpZ2h0ID0gZnVuY3Rpb24gX2dldFNjcm9sbEhlaWdodCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IHx8IE1hdGgubWF4KGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXRPZmZzZXRIZWlnaHQgPSBmdW5jdGlvbiBfZ2V0T2Zmc2V0SGVpZ2h0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsRWxlbWVudCA9PT0gd2luZG93ID8gd2luZG93LmlubmVySGVpZ2h0IDogdGhpcy5fc2Nyb2xsRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fcHJvY2VzcyA9IGZ1bmN0aW9uIF9wcm9jZXNzKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy5fZ2V0U2Nyb2xsVG9wKCkgKyB0aGlzLl9jb25maWcub2Zmc2V0O1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxIZWlnaHQgPSB0aGlzLl9nZXRTY3JvbGxIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4U2Nyb2xsID0gdGhpcy5fY29uZmlnLm9mZnNldCArIHNjcm9sbEhlaWdodCAtIHRoaXMuX2dldE9mZnNldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zY3JvbGxIZWlnaHQgIT09IHNjcm9sbEhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsVG9wID49IG1heFNjcm9sbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldHNbdGhpcy5fdGFyZ2V0cy5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVRhcmdldCAhPT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZhdGUodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVRhcmdldCAmJiBzY3JvbGxUb3AgPCB0aGlzLl9vZmZzZXRzWzBdICYmIHRoaXMuX29mZnNldHNbMF0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0TGVuZ3RoID0gdGhpcy5fb2Zmc2V0cy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IG9mZnNldExlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzQWN0aXZlVGFyZ2V0ID0gdGhpcy5fYWN0aXZlVGFyZ2V0ICE9PSB0aGlzLl90YXJnZXRzW2ldICYmIHNjcm9sbFRvcCA+PSB0aGlzLl9vZmZzZXRzW2ldICYmICh0eXBlb2YgdGhpcy5fb2Zmc2V0c1tpICsgMV0gPT09ICd1bmRlZmluZWQnIHx8IHNjcm9sbFRvcCA8IHRoaXMuX29mZnNldHNbaSArIDFdKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZhdGUodGhpcy5fdGFyZ2V0c1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9hY3RpdmF0ZSA9IGZ1bmN0aW9uIF9hY3RpdmF0ZSh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlVGFyZ2V0ID0gdGFyZ2V0O1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXJpZXMgPSB0aGlzLl9zZWxlY3Rvci5zcGxpdCgnLCcpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYXJyb3ctYm9keS1zdHlsZVxuXG5cbiAgICAgICAgICAgICAgICAgICAgcXVlcmllcyA9IHF1ZXJpZXMubWFwKGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0b3IgKyBcIltkYXRhLXRhcmdldD1cXFwiXCIgKyB0YXJnZXQgKyBcIlxcXCJdLFwiICsgKHNlbGVjdG9yICsgXCJbaHJlZj1cXFwiXCIgKyB0YXJnZXQgKyBcIlxcXCJdXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRsaW5rID0gJCQkMShbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocXVlcmllcy5qb2luKCcsJykpKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCRsaW5rLmhhc0NsYXNzKENsYXNzTmFtZS5EUk9QRE9XTl9JVEVNKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxpbmsuY2xvc2VzdChTZWxlY3Rvci5EUk9QRE9XTikuZmluZChTZWxlY3Rvci5EUk9QRE9XTl9UT0dHTEUpLmFkZENsYXNzKENsYXNzTmFtZS5BQ1RJVkUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxpbmsuYWRkQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdHJpZ2dlcmVkIGxpbmsgYXMgYWN0aXZlXG4gICAgICAgICAgICAgICAgICAgICAgICAkbGluay5hZGRDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTsgLy8gU2V0IHRyaWdnZXJlZCBsaW5rcyBwYXJlbnRzIGFzIGFjdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2l0aCBib3RoIDx1bD4gYW5kIDxuYXY+IG1hcmt1cCBhIHBhcmVudCBpcyB0aGUgcHJldmlvdXMgc2libGluZyBvZiBhbnkgbmF2IGFuY2VzdG9yXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRsaW5rLnBhcmVudHMoU2VsZWN0b3IuTkFWX0xJU1RfR1JPVVApLnByZXYoU2VsZWN0b3IuTkFWX0xJTktTICsgXCIsIFwiICsgU2VsZWN0b3IuTElTVF9JVEVNUykuYWRkQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSk7IC8vIEhhbmRsZSBzcGVjaWFsIGNhc2Ugd2hlbiAubmF2LWxpbmsgaXMgaW5zaWRlIC5uYXYtaXRlbVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkbGluay5wYXJlbnRzKFNlbGVjdG9yLk5BVl9MSVNUX0dST1VQKS5wcmV2KFNlbGVjdG9yLk5BVl9JVEVNUykuY2hpbGRyZW4oU2VsZWN0b3IuTkFWX0xJTktTKS5hZGRDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fc2Nyb2xsRWxlbWVudCkudHJpZ2dlcihFdmVudC5BQ1RJVkFURSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2NsZWFyID0gZnVuY3Rpb24gX2NsZWFyKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZXMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2VsZWN0b3IpKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMShub2RlcykuZmlsdGVyKFNlbGVjdG9yLkFDVElWRSkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgICAgICAgICAgICAgfTsgLy8gU3RhdGljXG5cblxuICAgICAgICAgICAgICAgIFNjcm9sbFNweS5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jb25maWcgPSB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBuZXcgU2Nyb2xsU3B5KHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGNvbmZpZyArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhTY3JvbGxTcHksIG51bGwsIFt7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJEZWZhdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gU2Nyb2xsU3B5O1xuICAgICAgICAgICAgfSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIERhdGEgQXBpIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cblxuXG4gICAgICAgICQkJDEod2luZG93KS5vbihFdmVudC5MT0FEX0RBVEFfQVBJLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzY3JvbGxTcHlzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLkRBVEFfU1BZKSk7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsU3B5c0xlbmd0aCA9IHNjcm9sbFNweXMubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gc2Nyb2xsU3B5c0xlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgICAgIHZhciAkc3B5ID0gJCQkMShzY3JvbGxTcHlzW2ldKTtcblxuICAgICAgICAgICAgICAgIFNjcm9sbFNweS5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJHNweSwgJHNweS5kYXRhKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBqUXVlcnlcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuXG4gICAgICAgICQkJDEuZm5bTkFNRV0gPSBTY3JvbGxTcHkuX2pRdWVyeUludGVyZmFjZTtcbiAgICAgICAgJCQkMS5mbltOQU1FXS5Db25zdHJ1Y3RvciA9IFNjcm9sbFNweTtcblxuICAgICAgICAkJCQxLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQkJDEuZm5bTkFNRV0gPSBKUVVFUllfTk9fQ09ORkxJQ1Q7XG4gICAgICAgICAgICByZXR1cm4gU2Nyb2xsU3B5Ll9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIFNjcm9sbFNweTtcbiAgICB9KCQpO1xuXG4gICAgLyoqXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBCb290c3RyYXAgKHY0LjEuMik6IHRhYi5qc1xuICAgICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKi9cblxuICAgIHZhciBUYWIgPSBmdW5jdGlvbigkJCQxKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogQ29uc3RhbnRzXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIE5BTUUgPSAndGFiJztcbiAgICAgICAgdmFyIFZFUlNJT04gPSAnNC4xLjInO1xuICAgICAgICB2YXIgREFUQV9LRVkgPSAnYnMudGFiJztcbiAgICAgICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gICAgICAgIHZhciBEQVRBX0FQSV9LRVkgPSAnLmRhdGEtYXBpJztcbiAgICAgICAgdmFyIEpRVUVSWV9OT19DT05GTElDVCA9ICQkJDEuZm5bTkFNRV07XG4gICAgICAgIHZhciBFdmVudCA9IHtcbiAgICAgICAgICAgIEhJREU6IFwiaGlkZVwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgSElEREVOOiBcImhpZGRlblwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgU0hPVzogXCJzaG93XCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBTSE9XTjogXCJzaG93blwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgQ0xJQ0tfREFUQV9BUEk6IFwiY2xpY2tcIiArIEVWRU5UX0tFWSArIERBVEFfQVBJX0tFWVxuICAgICAgICB9O1xuICAgICAgICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgICAgICAgICAgRFJPUERPV05fTUVOVTogJ2Ryb3Bkb3duLW1lbnUnLFxuICAgICAgICAgICAgQUNUSVZFOiAnYWN0aXZlJyxcbiAgICAgICAgICAgIERJU0FCTEVEOiAnZGlzYWJsZWQnLFxuICAgICAgICAgICAgRkFERTogJ2ZhZGUnLFxuICAgICAgICAgICAgU0hPVzogJ3Nob3cnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBTZWxlY3RvciA9IHtcbiAgICAgICAgICAgIERST1BET1dOOiAnLmRyb3Bkb3duJyxcbiAgICAgICAgICAgIE5BVl9MSVNUX0dST1VQOiAnLm5hdiwgLmxpc3QtZ3JvdXAnLFxuICAgICAgICAgICAgQUNUSVZFOiAnLmFjdGl2ZScsXG4gICAgICAgICAgICBBQ1RJVkVfVUw6ICc+IGxpID4gLmFjdGl2ZScsXG4gICAgICAgICAgICBEQVRBX1RPR0dMRTogJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXSwgW2RhdGEtdG9nZ2xlPVwicGlsbFwiXSwgW2RhdGEtdG9nZ2xlPVwibGlzdFwiXScsXG4gICAgICAgICAgICBEUk9QRE9XTl9UT0dHTEU6ICcuZHJvcGRvd24tdG9nZ2xlJyxcbiAgICAgICAgICAgIERST1BET1dOX0FDVElWRV9DSElMRDogJz4gLmRyb3Bkb3duLW1lbnUgLmFjdGl2ZSdcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAgICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIFRhYiA9XG4gICAgICAgICAgICAvKiNfX1BVUkVfXyovXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBUYWIoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgICAgICAgICAgICAgdmFyIF9wcm90byA9IFRhYi5wcm90b3R5cGU7XG5cbiAgICAgICAgICAgICAgICAvLyBQdWJsaWNcbiAgICAgICAgICAgICAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZSAmJiB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmICQkJDEodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSkgfHwgJCQkMSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRElTQUJMRUQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsaXN0RWxlbWVudCA9ICQkJDEodGhpcy5fZWxlbWVudCkuY2xvc2VzdChTZWxlY3Rvci5OQVZfTElTVF9HUk9VUClbMF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtU2VsZWN0b3IgPSBsaXN0RWxlbWVudC5ub2RlTmFtZSA9PT0gJ1VMJyA/IFNlbGVjdG9yLkFDVElWRV9VTCA6IFNlbGVjdG9yLkFDVElWRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzID0gJCQkMS5tYWtlQXJyYXkoJCQkMShsaXN0RWxlbWVudCkuZmluZChpdGVtU2VsZWN0b3IpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzID0gcHJldmlvdXNbcHJldmlvdXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgaGlkZUV2ZW50ID0gJCQkMS5FdmVudChFdmVudC5ISURFLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiB0aGlzLl9lbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvd0V2ZW50ID0gJCQkMS5FdmVudChFdmVudC5TSE9XLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91c1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEocHJldmlvdXMpLnRyaWdnZXIoaGlkZUV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkudHJpZ2dlcihzaG93RXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgaGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZhdGUodGhpcy5fZWxlbWVudCwgbGlzdEVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhpZGRlbkV2ZW50ID0gJCQkMS5FdmVudChFdmVudC5ISURERU4sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiBfdGhpcy5fZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hvd25FdmVudCA9ICQkJDEuRXZlbnQoRXZlbnQuU0hPV04sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91c1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHByZXZpb3VzKS50cmlnZ2VyKGhpZGRlbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoX3RoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2hvd25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZhdGUodGFyZ2V0LCB0YXJnZXQucGFyZW50Tm9kZSwgY29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICAgICAgICAgICQkJDEucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH07IC8vIFByaXZhdGVcblxuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9hY3RpdmF0ZSA9IGZ1bmN0aW9uIF9hY3RpdmF0ZShlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVFbGVtZW50cztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLm5vZGVOYW1lID09PSAnVUwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVFbGVtZW50cyA9ICQkJDEoY29udGFpbmVyKS5maW5kKFNlbGVjdG9yLkFDVElWRV9VTCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVFbGVtZW50cyA9ICQkJDEoY29udGFpbmVyKS5jaGlsZHJlbihTZWxlY3Rvci5BQ1RJVkUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZSA9IGFjdGl2ZUVsZW1lbnRzWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNUcmFuc2l0aW9uaW5nID0gY2FsbGJhY2sgJiYgYWN0aXZlICYmICQkJDEoYWN0aXZlKS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLl90cmFuc2l0aW9uQ29tcGxldGUoZWxlbWVudCwgYWN0aXZlLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSAmJiBpc1RyYW5zaXRpb25pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGFjdGl2ZSkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX3RyYW5zaXRpb25Db21wbGV0ZSA9IGZ1bmN0aW9uIF90cmFuc2l0aW9uQ29tcGxldGUoZWxlbWVudCwgYWN0aXZlLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGFjdGl2ZSkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cgKyBcIiBcIiArIENsYXNzTmFtZS5BQ1RJVkUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRyb3Bkb3duQ2hpbGQgPSAkJCQxKGFjdGl2ZS5wYXJlbnROb2RlKS5maW5kKFNlbGVjdG9yLkRST1BET1dOX0FDVElWRV9DSElMRClbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcm9wZG93bkNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShkcm9wZG93bkNoaWxkKS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZS5nZXRBdHRyaWJ1dGUoJ3JvbGUnKSA9PT0gJ3RhYicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmUuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJCQkMShlbGVtZW50KS5hZGRDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3JvbGUnKSA9PT0gJ3RhYicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBVdGlsLnJlZmxvdyhlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMShlbGVtZW50KS5hZGRDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSAmJiAkJCQxKGVsZW1lbnQucGFyZW50Tm9kZSkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkRST1BET1dOX01FTlUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHJvcGRvd25FbGVtZW50ID0gJCQkMShlbGVtZW50KS5jbG9zZXN0KFNlbGVjdG9yLkRST1BET1dOKVswXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyb3Bkb3duRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkcm9wZG93blRvZ2dsZUxpc3QgPSBbXS5zbGljZS5jYWxsKGRyb3Bkb3duRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLkRST1BET1dOX1RPR0dMRSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoZHJvcGRvd25Ub2dnbGVMaXN0KS5hZGRDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07IC8vIFN0YXRpY1xuXG5cbiAgICAgICAgICAgICAgICBUYWIuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHRoaXMgPSAkJCQxKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkdGhpcy5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG5ldyBUYWIodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuZGF0YShEQVRBX0tFWSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGNvbmZpZyArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhUYWIsIG51bGwsIFt7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gVGFiO1xuICAgICAgICAgICAgfSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIERhdGEgQXBpIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cblxuXG4gICAgICAgICQkJDEoZG9jdW1lbnQpLm9uKEV2ZW50LkNMSUNLX0RBVEFfQVBJLCBTZWxlY3Rvci5EQVRBX1RPR0dMRSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIFRhYi5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJCQkMSh0aGlzKSwgJ3Nob3cnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogalF1ZXJ5XG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cblxuICAgICAgICAkJCQxLmZuW05BTUVdID0gVGFiLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgICQkJDEuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBUYWI7XG5cbiAgICAgICAgJCQkMS5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkJCQxLmZuW05BTUVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgICAgICAgICAgcmV0dXJuIFRhYi5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBUYWI7XG4gICAgfSgkKTtcblxuICAgIC8qKlxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQm9vdHN0cmFwICh2NC4xLjIpOiBpbmRleC5qc1xuICAgICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKi9cblxuICAgIChmdW5jdGlvbigkJCQxKSB7XG4gICAgICAgIGlmICh0eXBlb2YgJCQkMSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkuIGpRdWVyeSBtdXN0IGJlIGluY2x1ZGVkIGJlZm9yZSBCb290c3RyYXBcXCdzIEphdmFTY3JpcHQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdmVyc2lvbiA9ICQkJDEuZm4uanF1ZXJ5LnNwbGl0KCcgJylbMF0uc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIG1pbk1ham9yID0gMTtcbiAgICAgICAgdmFyIGx0TWFqb3IgPSAyO1xuICAgICAgICB2YXIgbWluTWlub3IgPSA5O1xuICAgICAgICB2YXIgbWluUGF0Y2ggPSAxO1xuICAgICAgICB2YXIgbWF4TWFqb3IgPSA0O1xuXG4gICAgICAgIGlmICh2ZXJzaW9uWzBdIDwgbHRNYWpvciAmJiB2ZXJzaW9uWzFdIDwgbWluTWlub3IgfHwgdmVyc2lvblswXSA9PT0gbWluTWFqb3IgJiYgdmVyc2lvblsxXSA9PT0gbWluTWlub3IgJiYgdmVyc2lvblsyXSA8IG1pblBhdGNoIHx8IHZlcnNpb25bMF0gPj0gbWF4TWFqb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQm9vdHN0cmFwXFwncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGF0IGxlYXN0IGpRdWVyeSB2MS45LjEgYnV0IGxlc3MgdGhhbiB2NC4wLjAnKTtcbiAgICAgICAgfVxuICAgIH0pKCQpO1xuXG4gICAgZXhwb3J0cy5VdGlsID0gVXRpbDtcbiAgICBleHBvcnRzLkFsZXJ0ID0gQWxlcnQ7XG4gICAgZXhwb3J0cy5CdXR0b24gPSBCdXR0b247XG4gICAgZXhwb3J0cy5DYXJvdXNlbCA9IENhcm91c2VsO1xuICAgIGV4cG9ydHMuQ29sbGFwc2UgPSBDb2xsYXBzZTtcbiAgICBleHBvcnRzLkRyb3Bkb3duID0gRHJvcGRvd247XG4gICAgZXhwb3J0cy5Nb2RhbCA9IE1vZGFsO1xuICAgIGV4cG9ydHMuUG9wb3ZlciA9IFBvcG92ZXI7XG4gICAgZXhwb3J0cy5TY3JvbGxzcHkgPSBTY3JvbGxTcHk7XG4gICAgZXhwb3J0cy5UYWIgPSBUYWI7XG4gICAgZXhwb3J0cy5Ub29sdGlwID0gVG9vbHRpcDtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcblxufSkpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJvb3RzdHJhcC5idW5kbGUuanMubWFwIiwiLyohXG4gKiBCb290c3RyYXAgdjQuMS4yIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKVxuICogQ29weXJpZ2h0IDIwMTEtMjAxOCBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKVxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqL1xuKGZ1bmN0aW9uKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cywgcmVxdWlyZSgnanF1ZXJ5JyksIHJlcXVpcmUoJ3BvcHBlci5qcycpKSA6XG4gICAgICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnLCAnanF1ZXJ5JywgJ3BvcHBlci5qcyddLCBmYWN0b3J5KSA6XG4gICAgICAgIChmYWN0b3J5KChnbG9iYWwuYm9vdHN0cmFwID0ge30pLCBnbG9iYWwualF1ZXJ5LCBnbG9iYWwuUG9wcGVyKSk7XG59KHRoaXMsIChmdW5jdGlvbihleHBvcnRzLCAkLCBQb3BwZXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAkID0gJCAmJiAkLmhhc093blByb3BlcnR5KCdkZWZhdWx0JykgPyAkWydkZWZhdWx0J10gOiAkO1xuICAgIFBvcHBlciA9IFBvcHBlciAmJiBQb3BwZXIuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSA/IFBvcHBlclsnZGVmYXVsdCddIDogUG9wcGVyO1xuXG4gICAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICAgICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG4gICAgICAgICAgICB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uKHN5bSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG93bktleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgICAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgICAgICAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG4gICAgICAgIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBCb290c3RyYXAgKHY0LjEuMik6IHV0aWwuanNcbiAgICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICovXG5cbiAgICB2YXIgVXRpbCA9IGZ1bmN0aW9uKCQkJDEpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBQcml2YXRlIFRyYW5zaXRpb25FbmQgSGVscGVyc1xuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBUUkFOU0lUSU9OX0VORCA9ICd0cmFuc2l0aW9uZW5kJztcbiAgICAgICAgdmFyIE1BWF9VSUQgPSAxMDAwMDAwO1xuICAgICAgICB2YXIgTUlMTElTRUNPTkRTX01VTFRJUExJRVIgPSAxMDAwOyAvLyBTaG91dG91dCBBbmd1c0Nyb2xsIChodHRwczovL2dvby5nbC9weHdRR3ApXG5cbiAgICAgICAgZnVuY3Rpb24gdG9UeXBlKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqKS5tYXRjaCgvXFxzKFthLXpdKykvaSlbMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFNwZWNpYWxUcmFuc2l0aW9uRW5kRXZlbnQoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGJpbmRUeXBlOiBUUkFOU0lUSU9OX0VORCxcbiAgICAgICAgICAgICAgICBkZWxlZ2F0ZVR5cGU6IFRSQU5TSVRJT05fRU5ELFxuICAgICAgICAgICAgICAgIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkJCQxKGV2ZW50LnRhcmdldCkuaXModGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudC5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdHJhbnNpdGlvbkVuZEVtdWxhdG9yKGR1cmF0aW9uKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICAkJCQxKHRoaXMpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIFV0aWwudHJpZ2dlclRyYW5zaXRpb25FbmQoX3RoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkVuZFN1cHBvcnQoKSB7XG4gICAgICAgICAgICAkJCQxLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gdHJhbnNpdGlvbkVuZEVtdWxhdG9yO1xuICAgICAgICAgICAgJCQkMS5ldmVudC5zcGVjaWFsW1V0aWwuVFJBTlNJVElPTl9FTkRdID0gZ2V0U3BlY2lhbFRyYW5zaXRpb25FbmRFdmVudCgpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBQdWJsaWMgVXRpbCBBcGlcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG5cblxuICAgICAgICB2YXIgVXRpbCA9IHtcbiAgICAgICAgICAgIFRSQU5TSVRJT05fRU5EOiAnYnNUcmFuc2l0aW9uRW5kJyxcbiAgICAgICAgICAgIGdldFVJRDogZnVuY3Rpb24gZ2V0VUlEKHByZWZpeCkge1xuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4ICs9IH5+KE1hdGgucmFuZG9tKCkgKiBNQVhfVUlEKTsgLy8gXCJ+flwiIGFjdHMgbGlrZSBhIGZhc3RlciBNYXRoLmZsb29yKCkgaGVyZVxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZWZpeDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRTZWxlY3RvckZyb21FbGVtZW50OiBmdW5jdGlvbiBnZXRTZWxlY3RvckZyb21FbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKTtcblxuICAgICAgICAgICAgICAgIGlmICghc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09ICcjJykge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdocmVmJykgfHwgJyc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpID8gc2VsZWN0b3IgOiBudWxsO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQ6IGZ1bmN0aW9uIGdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgfSAvLyBHZXQgdHJhbnNpdGlvbi1kdXJhdGlvbiBvZiB0aGUgZWxlbWVudFxuXG5cbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gJCQkMShlbGVtZW50KS5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nKTtcbiAgICAgICAgICAgICAgICB2YXIgZmxvYXRUcmFuc2l0aW9uRHVyYXRpb24gPSBwYXJzZUZsb2F0KHRyYW5zaXRpb25EdXJhdGlvbik7IC8vIFJldHVybiAwIGlmIGVsZW1lbnQgb3IgdHJhbnNpdGlvbiBkdXJhdGlvbiBpcyBub3QgZm91bmRcblxuICAgICAgICAgICAgICAgIGlmICghZmxvYXRUcmFuc2l0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgfSAvLyBJZiBtdWx0aXBsZSBkdXJhdGlvbnMgYXJlIGRlZmluZWQsIHRha2UgdGhlIGZpcnN0XG5cblxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbiA9IHRyYW5zaXRpb25EdXJhdGlvbi5zcGxpdCgnLCcpWzBdO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHRyYW5zaXRpb25EdXJhdGlvbikgKiBNSUxMSVNFQ09ORFNfTVVMVElQTElFUjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWZsb3c6IGZ1bmN0aW9uIHJlZmxvdyhlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyaWdnZXJUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiB0cmlnZ2VyVHJhbnNpdGlvbkVuZChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgJCQkMShlbGVtZW50KS50cmlnZ2VyKFRSQU5TSVRJT05fRU5EKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgaW4gdjVcbiAgICAgICAgICAgIHN1cHBvcnRzVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBCb29sZWFuKFRSQU5TSVRJT05fRU5EKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0VsZW1lbnQ6IGZ1bmN0aW9uIGlzRWxlbWVudChvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKG9ialswXSB8fCBvYmopLm5vZGVUeXBlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGVDaGVja0NvbmZpZzogZnVuY3Rpb24gdHlwZUNoZWNrQ29uZmlnKGNvbXBvbmVudE5hbWUsIGNvbmZpZywgY29uZmlnVHlwZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBjb25maWdUeXBlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZ1R5cGVzLCBwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHBlY3RlZFR5cGVzID0gY29uZmlnVHlwZXNbcHJvcGVydHldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY29uZmlnW3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZVR5cGUgPSB2YWx1ZSAmJiBVdGlsLmlzRWxlbWVudCh2YWx1ZSkgPyAnZWxlbWVudCcgOiB0b1R5cGUodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5ldyBSZWdFeHAoZXhwZWN0ZWRUeXBlcykudGVzdCh2YWx1ZVR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNvbXBvbmVudE5hbWUudG9VcHBlckNhc2UoKSArIFwiOiBcIiArIChcIk9wdGlvbiBcXFwiXCIgKyBwcm9wZXJ0eSArIFwiXFxcIiBwcm92aWRlZCB0eXBlIFxcXCJcIiArIHZhbHVlVHlwZSArIFwiXFxcIiBcIikgKyAoXCJidXQgZXhwZWN0ZWQgdHlwZSBcXFwiXCIgKyBleHBlY3RlZFR5cGVzICsgXCJcXFwiLlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNldFRyYW5zaXRpb25FbmRTdXBwb3J0KCk7XG4gICAgICAgIHJldHVybiBVdGlsO1xuICAgIH0oJCk7XG5cbiAgICAvKipcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEJvb3RzdHJhcCAodjQuMS4yKTogYWxlcnQuanNcbiAgICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICovXG5cbiAgICB2YXIgQWxlcnQgPSBmdW5jdGlvbigkJCQxKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogQ29uc3RhbnRzXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIE5BTUUgPSAnYWxlcnQnO1xuICAgICAgICB2YXIgVkVSU0lPTiA9ICc0LjEuMic7XG4gICAgICAgIHZhciBEQVRBX0tFWSA9ICdicy5hbGVydCc7XG4gICAgICAgIHZhciBFVkVOVF9LRVkgPSBcIi5cIiArIERBVEFfS0VZO1xuICAgICAgICB2YXIgREFUQV9BUElfS0VZID0gJy5kYXRhLWFwaSc7XG4gICAgICAgIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QgPSAkJCQxLmZuW05BTUVdO1xuICAgICAgICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgICAgICAgICBESVNNSVNTOiAnW2RhdGEtZGlzbWlzcz1cImFsZXJ0XCJdJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgRXZlbnQgPSB7XG4gICAgICAgICAgICBDTE9TRTogXCJjbG9zZVwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgQ0xPU0VEOiBcImNsb3NlZFwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgQ0xJQ0tfREFUQV9BUEk6IFwiY2xpY2tcIiArIEVWRU5UX0tFWSArIERBVEFfQVBJX0tFWVxuICAgICAgICB9O1xuICAgICAgICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgICAgICAgICAgQUxFUlQ6ICdhbGVydCcsXG4gICAgICAgICAgICBGQURFOiAnZmFkZScsXG4gICAgICAgICAgICBTSE9XOiAnc2hvdydcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAgICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIEFsZXJ0ID1cbiAgICAgICAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIEFsZXJ0KGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgICAgICAgICAgICAgIHZhciBfcHJvdG8gPSBBbGVydC5wcm90b3R5cGU7XG5cbiAgICAgICAgICAgICAgICAvLyBQdWJsaWNcbiAgICAgICAgICAgICAgICBfcHJvdG8uY2xvc2UgPSBmdW5jdGlvbiBjbG9zZShlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb290RWxlbWVudCA9IHRoaXMuX2VsZW1lbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RFbGVtZW50ID0gdGhpcy5fZ2V0Um9vdEVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VzdG9tRXZlbnQgPSB0aGlzLl90cmlnZ2VyQ2xvc2VFdmVudChyb290RWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1c3RvbUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVFbGVtZW50KHJvb3RFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgICAgICAgICAgICAgICAkJCQxLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9OyAvLyBQcml2YXRlXG5cblxuICAgICAgICAgICAgICAgIF9wcm90by5fZ2V0Um9vdEVsZW1lbnQgPSBmdW5jdGlvbiBfZ2V0Um9vdEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9ICQkJDEoZWxlbWVudCkuY2xvc2VzdChcIi5cIiArIENsYXNzTmFtZS5BTEVSVClbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX3RyaWdnZXJDbG9zZUV2ZW50ID0gZnVuY3Rpb24gX3RyaWdnZXJDbG9zZUV2ZW50KGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsb3NlRXZlbnQgPSAkJCQxLkV2ZW50KEV2ZW50LkNMT1NFKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMShlbGVtZW50KS50cmlnZ2VyKGNsb3NlRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xvc2VFdmVudDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9yZW1vdmVFbGVtZW50ID0gZnVuY3Rpb24gX3JlbW92ZUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgICQkJDEoZWxlbWVudCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghJCQkMShlbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRkFERSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMShlbGVtZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fZGVzdHJveUVsZW1lbnQoZWxlbWVudCwgZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2Rlc3Ryb3lFbGVtZW50ID0gZnVuY3Rpb24gX2Rlc3Ryb3lFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgJCQkMShlbGVtZW50KS5kZXRhY2goKS50cmlnZ2VyKEV2ZW50LkNMT1NFRCkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfTsgLy8gU3RhdGljXG5cblxuICAgICAgICAgICAgICAgIEFsZXJ0Ll9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRlbGVtZW50ID0gJCQkMSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJGVsZW1lbnQuZGF0YShEQVRBX0tFWSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBuZXcgQWxlcnQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuZGF0YShEQVRBX0tFWSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcgPT09ICdjbG9zZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2NvbmZpZ10odGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBBbGVydC5faGFuZGxlRGlzbWlzcyA9IGZ1bmN0aW9uIF9oYW5kbGVEaXNtaXNzKGFsZXJ0SW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydEluc3RhbmNlLmNsb3NlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfY3JlYXRlQ2xhc3MoQWxlcnQsIG51bGwsIFt7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gQWxlcnQ7XG4gICAgICAgICAgICB9KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogRGF0YSBBcGkgaW1wbGVtZW50YXRpb25cbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgJCQkMShkb2N1bWVudCkub24oRXZlbnQuQ0xJQ0tfREFUQV9BUEksIFNlbGVjdG9yLkRJU01JU1MsIEFsZXJ0Ll9oYW5kbGVEaXNtaXNzKG5ldyBBbGVydCgpKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogalF1ZXJ5XG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cblxuICAgICAgICAkJCQxLmZuW05BTUVdID0gQWxlcnQuX2pRdWVyeUludGVyZmFjZTtcbiAgICAgICAgJCQkMS5mbltOQU1FXS5Db25zdHJ1Y3RvciA9IEFsZXJ0O1xuXG4gICAgICAgICQkJDEuZm5bTkFNRV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCQkMS5mbltOQU1FXSA9IEpRVUVSWV9OT19DT05GTElDVDtcbiAgICAgICAgICAgIHJldHVybiBBbGVydC5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBBbGVydDtcbiAgICB9KCQpO1xuXG4gICAgLyoqXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBCb290c3RyYXAgKHY0LjEuMik6IGJ1dHRvbi5qc1xuICAgICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKi9cblxuICAgIHZhciBCdXR0b24gPSBmdW5jdGlvbigkJCQxKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogQ29uc3RhbnRzXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIE5BTUUgPSAnYnV0dG9uJztcbiAgICAgICAgdmFyIFZFUlNJT04gPSAnNC4xLjInO1xuICAgICAgICB2YXIgREFUQV9LRVkgPSAnYnMuYnV0dG9uJztcbiAgICAgICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gICAgICAgIHZhciBEQVRBX0FQSV9LRVkgPSAnLmRhdGEtYXBpJztcbiAgICAgICAgdmFyIEpRVUVSWV9OT19DT05GTElDVCA9ICQkJDEuZm5bTkFNRV07XG4gICAgICAgIHZhciBDbGFzc05hbWUgPSB7XG4gICAgICAgICAgICBBQ1RJVkU6ICdhY3RpdmUnLFxuICAgICAgICAgICAgQlVUVE9OOiAnYnRuJyxcbiAgICAgICAgICAgIEZPQ1VTOiAnZm9jdXMnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBTZWxlY3RvciA9IHtcbiAgICAgICAgICAgIERBVEFfVE9HR0xFX0NBUlJPVDogJ1tkYXRhLXRvZ2dsZV49XCJidXR0b25cIl0nLFxuICAgICAgICAgICAgREFUQV9UT0dHTEU6ICdbZGF0YS10b2dnbGU9XCJidXR0b25zXCJdJyxcbiAgICAgICAgICAgIElOUFVUOiAnaW5wdXQnLFxuICAgICAgICAgICAgQUNUSVZFOiAnLmFjdGl2ZScsXG4gICAgICAgICAgICBCVVRUT046ICcuYnRuJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgRXZlbnQgPSB7XG4gICAgICAgICAgICBDTElDS19EQVRBX0FQSTogXCJjbGlja1wiICsgRVZFTlRfS0VZICsgREFUQV9BUElfS0VZLFxuICAgICAgICAgICAgRk9DVVNfQkxVUl9EQVRBX0FQSTogXCJmb2N1c1wiICsgRVZFTlRfS0VZICsgREFUQV9BUElfS0VZICsgXCIgXCIgKyAoXCJibHVyXCIgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVkpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgICAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBCdXR0b24gPVxuICAgICAgICAgICAgLyojX19QVVJFX18qL1xuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gQnV0dG9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgICAgICAgICAgICAgIHZhciBfcHJvdG8gPSBCdXR0b24ucHJvdG90eXBlO1xuXG4gICAgICAgICAgICAgICAgLy8gUHVibGljXG4gICAgICAgICAgICAgICAgX3Byb3RvLnRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyaWdnZXJDaGFuZ2VFdmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhZGRBcmlhUHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb290RWxlbWVudCA9ICQkJDEodGhpcy5fZWxlbWVudCkuY2xvc2VzdChTZWxlY3Rvci5EQVRBX1RPR0dMRSlbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvb3RFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuSU5QVVQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hlY2tlZCAmJiB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDbGFzc05hbWUuQUNUSVZFKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckNoYW5nZUV2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlRWxlbWVudCA9IHJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuQUNUSVZFKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGFjdGl2ZUVsZW1lbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5BQ1RJVkUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJDaGFuZ2VFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpIHx8IHJvb3RFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSB8fCBpbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykgfHwgcm9vdEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5jaGVja2VkID0gIXRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENsYXNzTmFtZS5BQ1RJVkUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGlucHV0KS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEFyaWFQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkQXJpYVByZXNzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCAhdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ2xhc3NOYW1lLkFDVElWRSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJDaGFuZ2VFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS50b2dnbGVDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICAgICAgICAgICQkJDEucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH07IC8vIFN0YXRpY1xuXG5cbiAgICAgICAgICAgICAgICBCdXR0b24uX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9ICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBuZXcgQnV0dG9uKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcgPT09ICd0b2dnbGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfY3JlYXRlQ2xhc3MoQnV0dG9uLCBudWxsLCBbe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBWRVJTSU9OO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJ1dHRvbjtcbiAgICAgICAgICAgIH0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG5cblxuICAgICAgICAkJCQxKGRvY3VtZW50KS5vbihFdmVudC5DTElDS19EQVRBX0FQSSwgU2VsZWN0b3IuREFUQV9UT0dHTEVfQ0FSUk9ULCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciBidXR0b24gPSBldmVudC50YXJnZXQ7XG5cbiAgICAgICAgICAgIGlmICghJCQkMShidXR0b24pLmhhc0NsYXNzKENsYXNzTmFtZS5CVVRUT04pKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9uID0gJCQkMShidXR0b24pLmNsb3Nlc3QoU2VsZWN0b3IuQlVUVE9OKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQnV0dG9uLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkJCQxKGJ1dHRvbiksICd0b2dnbGUnKTtcbiAgICAgICAgfSkub24oRXZlbnQuRk9DVVNfQkxVUl9EQVRBX0FQSSwgU2VsZWN0b3IuREFUQV9UT0dHTEVfQ0FSUk9ULCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGJ1dHRvbiA9ICQkJDEoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFNlbGVjdG9yLkJVVFRPTilbMF07XG4gICAgICAgICAgICAkJCQxKGJ1dHRvbikudG9nZ2xlQ2xhc3MoQ2xhc3NOYW1lLkZPQ1VTLCAvXmZvY3VzKGluKT8kLy50ZXN0KGV2ZW50LnR5cGUpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogalF1ZXJ5XG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cblxuICAgICAgICAkJCQxLmZuW05BTUVdID0gQnV0dG9uLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgICQkJDEuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBCdXR0b247XG5cbiAgICAgICAgJCQkMS5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkJCQxLmZuW05BTUVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgICAgICAgICAgcmV0dXJuIEJ1dHRvbi5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBCdXR0b247XG4gICAgfSgkKTtcblxuICAgIC8qKlxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQm9vdHN0cmFwICh2NC4xLjIpOiBjYXJvdXNlbC5qc1xuICAgICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKi9cblxuICAgIHZhciBDYXJvdXNlbCA9IGZ1bmN0aW9uKCQkJDEpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBDb25zdGFudHNcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgTkFNRSA9ICdjYXJvdXNlbCc7XG4gICAgICAgIHZhciBWRVJTSU9OID0gJzQuMS4yJztcbiAgICAgICAgdmFyIERBVEFfS0VZID0gJ2JzLmNhcm91c2VsJztcbiAgICAgICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gICAgICAgIHZhciBEQVRBX0FQSV9LRVkgPSAnLmRhdGEtYXBpJztcbiAgICAgICAgdmFyIEpRVUVSWV9OT19DT05GTElDVCA9ICQkJDEuZm5bTkFNRV07XG4gICAgICAgIHZhciBBUlJPV19MRUZUX0tFWUNPREUgPSAzNzsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgbGVmdCBhcnJvdyBrZXlcblxuICAgICAgICB2YXIgQVJST1dfUklHSFRfS0VZQ09ERSA9IDM5OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciByaWdodCBhcnJvdyBrZXlcblxuICAgICAgICB2YXIgVE9VQ0hFVkVOVF9DT01QQVRfV0FJVCA9IDUwMDsgLy8gVGltZSBmb3IgbW91c2UgY29tcGF0IGV2ZW50cyB0byBmaXJlIGFmdGVyIHRvdWNoXG5cbiAgICAgICAgdmFyIERlZmF1bHQgPSB7XG4gICAgICAgICAgICBpbnRlcnZhbDogNTAwMCxcbiAgICAgICAgICAgIGtleWJvYXJkOiB0cnVlLFxuICAgICAgICAgICAgc2xpZGU6IGZhbHNlLFxuICAgICAgICAgICAgcGF1c2U6ICdob3ZlcicsXG4gICAgICAgICAgICB3cmFwOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIHZhciBEZWZhdWx0VHlwZSA9IHtcbiAgICAgICAgICAgIGludGVydmFsOiAnKG51bWJlcnxib29sZWFuKScsXG4gICAgICAgICAgICBrZXlib2FyZDogJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgc2xpZGU6ICcoYm9vbGVhbnxzdHJpbmcpJyxcbiAgICAgICAgICAgIHBhdXNlOiAnKHN0cmluZ3xib29sZWFuKScsXG4gICAgICAgICAgICB3cmFwOiAnYm9vbGVhbidcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIERpcmVjdGlvbiA9IHtcbiAgICAgICAgICAgIE5FWFQ6ICduZXh0JyxcbiAgICAgICAgICAgIFBSRVY6ICdwcmV2JyxcbiAgICAgICAgICAgIExFRlQ6ICdsZWZ0JyxcbiAgICAgICAgICAgIFJJR0hUOiAncmlnaHQnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBFdmVudCA9IHtcbiAgICAgICAgICAgIFNMSURFOiBcInNsaWRlXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBTTElEOiBcInNsaWRcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIEtFWURPV046IFwia2V5ZG93blwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgTU9VU0VFTlRFUjogXCJtb3VzZWVudGVyXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBNT1VTRUxFQVZFOiBcIm1vdXNlbGVhdmVcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIFRPVUNIRU5EOiBcInRvdWNoZW5kXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBMT0FEX0RBVEFfQVBJOiBcImxvYWRcIiArIEVWRU5UX0tFWSArIERBVEFfQVBJX0tFWSxcbiAgICAgICAgICAgIENMSUNLX0RBVEFfQVBJOiBcImNsaWNrXCIgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVlcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIENsYXNzTmFtZSA9IHtcbiAgICAgICAgICAgIENBUk9VU0VMOiAnY2Fyb3VzZWwnLFxuICAgICAgICAgICAgQUNUSVZFOiAnYWN0aXZlJyxcbiAgICAgICAgICAgIFNMSURFOiAnc2xpZGUnLFxuICAgICAgICAgICAgUklHSFQ6ICdjYXJvdXNlbC1pdGVtLXJpZ2h0JyxcbiAgICAgICAgICAgIExFRlQ6ICdjYXJvdXNlbC1pdGVtLWxlZnQnLFxuICAgICAgICAgICAgTkVYVDogJ2Nhcm91c2VsLWl0ZW0tbmV4dCcsXG4gICAgICAgICAgICBQUkVWOiAnY2Fyb3VzZWwtaXRlbS1wcmV2JyxcbiAgICAgICAgICAgIElURU06ICdjYXJvdXNlbC1pdGVtJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgICAgICAgICBBQ1RJVkU6ICcuYWN0aXZlJyxcbiAgICAgICAgICAgIEFDVElWRV9JVEVNOiAnLmFjdGl2ZS5jYXJvdXNlbC1pdGVtJyxcbiAgICAgICAgICAgIElURU06ICcuY2Fyb3VzZWwtaXRlbScsXG4gICAgICAgICAgICBORVhUX1BSRVY6ICcuY2Fyb3VzZWwtaXRlbS1uZXh0LCAuY2Fyb3VzZWwtaXRlbS1wcmV2JyxcbiAgICAgICAgICAgIElORElDQVRPUlM6ICcuY2Fyb3VzZWwtaW5kaWNhdG9ycycsXG4gICAgICAgICAgICBEQVRBX1NMSURFOiAnW2RhdGEtc2xpZGVdLCBbZGF0YS1zbGlkZS10b10nLFxuICAgICAgICAgICAgREFUQV9SSURFOiAnW2RhdGEtcmlkZT1cImNhcm91c2VsXCJdJ1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAqIENsYXNzIERlZmluaXRpb25cbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgQ2Fyb3VzZWwgPVxuICAgICAgICAgICAgLyojX19QVVJFX18qL1xuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gQ2Fyb3VzZWwoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2l0ZW1zID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNTbGlkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG91Y2hUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSAkJCQxKGVsZW1lbnQpWzBdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRpY2F0b3JzRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5JTkRJQ0FUT1JTKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICAgICAgICAgICAgICB2YXIgX3Byb3RvID0gQ2Fyb3VzZWwucHJvdG90eXBlO1xuXG4gICAgICAgICAgICAgICAgLy8gUHVibGljXG4gICAgICAgICAgICAgICAgX3Byb3RvLm5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2lzU2xpZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2xpZGUoRGlyZWN0aW9uLk5FWFQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5uZXh0V2hlblZpc2libGUgPSBmdW5jdGlvbiBuZXh0V2hlblZpc2libGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGNhbGwgbmV4dCB3aGVuIHRoZSBwYWdlIGlzbid0IHZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgLy8gb3IgdGhlIGNhcm91c2VsIG9yIGl0cyBwYXJlbnQgaXNuJ3QgdmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbiAmJiAkJCQxKHRoaXMuX2VsZW1lbnQpLmlzKCc6dmlzaWJsZScpICYmICQkJDEodGhpcy5fZWxlbWVudCkuY3NzKCd2aXNpYmlsaXR5JykgIT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8ucHJldiA9IGZ1bmN0aW9uIHByZXYoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5faXNTbGlkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zbGlkZShEaXJlY3Rpb24uUFJFVik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLnBhdXNlID0gZnVuY3Rpb24gcGF1c2UoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNQYXVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5ORVhUX1BSRVYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBVdGlsLnRyaWdnZXJUcmFuc2l0aW9uRW5kKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jeWNsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5jeWNsZSA9IGZ1bmN0aW9uIGN5Y2xlKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5pbnRlcnZhbCAmJiAhdGhpcy5faXNQYXVzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA/IHRoaXMubmV4dFdoZW5WaXNpYmxlIDogdGhpcy5uZXh0KS5iaW5kKHRoaXMpLCB0aGlzLl9jb25maWcuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by50byA9IGZ1bmN0aW9uIHRvKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5BQ1RJVkVfSVRFTSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KHRoaXMuX2FjdGl2ZUVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IHRoaXMuX2l0ZW1zLmxlbmd0aCAtIDEgfHwgaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNTbGlkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9uZShFdmVudC5TTElELCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudG8oaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlSW5kZXggPT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN5Y2xlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5kZXggPiBhY3RpdmVJbmRleCA/IERpcmVjdGlvbi5ORVhUIDogRGlyZWN0aW9uLlBSRVY7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2xpZGUoZGlyZWN0aW9uLCB0aGlzLl9pdGVtc1tpbmRleF0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub2ZmKEVWRU5UX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2l0ZW1zID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ludGVydmFsID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNQYXVzZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1NsaWRpbmcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kaWNhdG9yc0VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH07IC8vIFByaXZhdGVcblxuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCBEZWZhdWx0LCBjb25maWcpO1xuICAgICAgICAgICAgICAgICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FLCBjb25maWcsIERlZmF1bHRUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9hZGRFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uIF9hZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5rZXlib2FyZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5vbihFdmVudC5LRVlET1dOLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuX2tleWRvd24oZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29uZmlnLnBhdXNlID09PSAnaG92ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50Lk1PVVNFRU5URVIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5wYXVzZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5vbihFdmVudC5NT1VTRUxFQVZFLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY3ljbGUoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgdG91Y2gtZW5hYmxlZCBkZXZpY2UsIG1vdXNlZW50ZXIvbGVhdmUgYXJlIGZpcmVkIGFzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGFydCBvZiB0aGUgbW91c2UgY29tcGF0aWJpbGl0eSBldmVudHMgb24gZmlyc3QgdGFwIC0gdGhlIGNhcm91c2VsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd291bGQgc3RvcCBjeWNsaW5nIHVudGlsIHVzZXIgdGFwcGVkIG91dCBvZiBpdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBoZXJlLCB3ZSBsaXN0ZW4gZm9yIHRvdWNoZW5kLCBleHBsaWNpdGx5IHBhdXNlIHRoZSBjYXJvdXNlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIChhcyBpZiBpdCdzIHRoZSBzZWNvbmQgdGltZSB3ZSB0YXAgb24gaXQsIG1vdXNlZW50ZXIgY29tcGF0IGV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXMgTk9UIGZpcmVkKSBhbmQgYWZ0ZXIgYSB0aW1lb3V0ICh0byBhbGxvdyBmb3IgbW91c2UgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50cyB0byBmaXJlKSB3ZSBleHBsaWNpdGx5IHJlc3RhcnQgY3ljbGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub24oRXZlbnQuVE9VQ0hFTkQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucGF1c2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLnRvdWNoVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzMi50b3VjaFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnRvdWNoVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY3ljbGUoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBUT1VDSEVWRU5UX0NPTVBBVF9XQUlUICsgX3RoaXMyLl9jb25maWcuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fa2V5ZG93biA9IGZ1bmN0aW9uIF9rZXlkb3duKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGV2ZW50LnRhcmdldC50YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBBUlJPV19MRUZUX0tFWUNPREU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXYoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBBUlJPV19SSUdIVF9LRVlDT0RFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiBfZ2V0SXRlbUluZGV4KGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXRlbXMgPSBlbGVtZW50ICYmIGVsZW1lbnQucGFyZW50Tm9kZSA/IFtdLnNsaWNlLmNhbGwoZWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuSVRFTSkpIDogW107XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdGVtcy5pbmRleE9mKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2dldEl0ZW1CeURpcmVjdGlvbiA9IGZ1bmN0aW9uIF9nZXRJdGVtQnlEaXJlY3Rpb24oZGlyZWN0aW9uLCBhY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc05leHREaXJlY3Rpb24gPSBkaXJlY3Rpb24gPT09IERpcmVjdGlvbi5ORVhUO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNQcmV2RGlyZWN0aW9uID0gZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uUFJFVjtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLl9nZXRJdGVtSW5kZXgoYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RJdGVtSW5kZXggPSB0aGlzLl9pdGVtcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNHb2luZ1RvV3JhcCA9IGlzUHJldkRpcmVjdGlvbiAmJiBhY3RpdmVJbmRleCA9PT0gMCB8fCBpc05leHREaXJlY3Rpb24gJiYgYWN0aXZlSW5kZXggPT09IGxhc3RJdGVtSW5kZXg7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzR29pbmdUb1dyYXAgJiYgIXRoaXMuX2NvbmZpZy53cmFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLlBSRVYgPyAtMSA6IDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtSW5kZXggPSAoYWN0aXZlSW5kZXggKyBkZWx0YSkgJSB0aGlzLl9pdGVtcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtSW5kZXggPT09IC0xID8gdGhpcy5faXRlbXNbdGhpcy5faXRlbXMubGVuZ3RoIC0gMV0gOiB0aGlzLl9pdGVtc1tpdGVtSW5kZXhdO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX3RyaWdnZXJTbGlkZUV2ZW50ID0gZnVuY3Rpb24gX3RyaWdnZXJTbGlkZUV2ZW50KHJlbGF0ZWRUYXJnZXQsIGV2ZW50RGlyZWN0aW9uTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SW5kZXggPSB0aGlzLl9nZXRJdGVtSW5kZXgocmVsYXRlZFRhcmdldCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZyb21JbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleCh0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuQUNUSVZFX0lURU0pKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2xpZGVFdmVudCA9ICQkJDEuRXZlbnQoRXZlbnQuU0xJREUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IGV2ZW50RGlyZWN0aW9uTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IGZyb21JbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvOiB0YXJnZXRJbmRleFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHNsaWRlRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2xpZGVFdmVudDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9zZXRBY3RpdmVJbmRpY2F0b3JFbGVtZW50ID0gZnVuY3Rpb24gX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5kaWNhdG9yc0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRpY2F0b3JzID0gW10uc2xpY2UuY2FsbCh0aGlzLl9pbmRpY2F0b3JzRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLkFDVElWRSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShpbmRpY2F0b3JzKS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRJbmRpY2F0b3IgPSB0aGlzLl9pbmRpY2F0b3JzRWxlbWVudC5jaGlsZHJlblt0aGlzLl9nZXRJdGVtSW5kZXgoZWxlbWVudCldO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEluZGljYXRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEobmV4dEluZGljYXRvcikuYWRkQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9zbGlkZSA9IGZ1bmN0aW9uIF9zbGlkZShkaXJlY3Rpb24sIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuQUNUSVZFX0lURU0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVFbGVtZW50SW5kZXggPSB0aGlzLl9nZXRJdGVtSW5kZXgoYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRFbGVtZW50ID0gZWxlbWVudCB8fCBhY3RpdmVFbGVtZW50ICYmIHRoaXMuX2dldEl0ZW1CeURpcmVjdGlvbihkaXJlY3Rpb24sIGFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0RWxlbWVudEluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KG5leHRFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNDeWNsaW5nID0gQm9vbGVhbih0aGlzLl9pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb25hbENsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yZGVyQ2xhc3NOYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnREaXJlY3Rpb25OYW1lO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IERpcmVjdGlvbi5ORVhUKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb25hbENsYXNzTmFtZSA9IENsYXNzTmFtZS5MRUZUO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJDbGFzc05hbWUgPSBDbGFzc05hbWUuTkVYVDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50RGlyZWN0aW9uTmFtZSA9IERpcmVjdGlvbi5MRUZUO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uYWxDbGFzc05hbWUgPSBDbGFzc05hbWUuUklHSFQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlckNsYXNzTmFtZSA9IENsYXNzTmFtZS5QUkVWO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnREaXJlY3Rpb25OYW1lID0gRGlyZWN0aW9uLlJJR0hUO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRFbGVtZW50ICYmICQkJDEobmV4dEVsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5BQ1RJVkUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1NsaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZUV2ZW50ID0gdGhpcy5fdHJpZ2dlclNsaWRlRXZlbnQobmV4dEVsZW1lbnQsIGV2ZW50RGlyZWN0aW9uTmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNsaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWN0aXZlRWxlbWVudCB8fCAhbmV4dEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNvbWUgd2VpcmRuZXNzIGlzIGhhcHBlbmluZywgc28gd2UgYmFpbFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNTbGlkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNDeWNsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRBY3RpdmVJbmRpY2F0b3JFbGVtZW50KG5leHRFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2xpZEV2ZW50ID0gJCQkMS5FdmVudChFdmVudC5TTElELCB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiBuZXh0RWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZXZlbnREaXJlY3Rpb25OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogYWN0aXZlRWxlbWVudEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG86IG5leHRFbGVtZW50SW5kZXhcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCQkJDEodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLlNMSURFKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShuZXh0RWxlbWVudCkuYWRkQ2xhc3Mob3JkZXJDbGFzc05hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgVXRpbC5yZWZsb3cobmV4dEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShhY3RpdmVFbGVtZW50KS5hZGRDbGFzcyhkaXJlY3Rpb25hbENsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKG5leHRFbGVtZW50KS5hZGRDbGFzcyhkaXJlY3Rpb25hbENsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudChhY3RpdmVFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoYWN0aXZlRWxlbWVudCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEobmV4dEVsZW1lbnQpLnJlbW92ZUNsYXNzKGRpcmVjdGlvbmFsQ2xhc3NOYW1lICsgXCIgXCIgKyBvcmRlckNsYXNzTmFtZSkuYWRkQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShhY3RpdmVFbGVtZW50KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuQUNUSVZFICsgXCIgXCIgKyBvcmRlckNsYXNzTmFtZSArIFwiIFwiICsgZGlyZWN0aW9uYWxDbGFzc05hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5faXNTbGlkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQkJDEoX3RoaXMzLl9lbGVtZW50KS50cmlnZ2VyKHNsaWRFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShhY3RpdmVFbGVtZW50KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEobmV4dEVsZW1lbnQpLmFkZENsYXNzKENsYXNzTmFtZS5BQ1RJVkUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNTbGlkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2xpZEV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0N5Y2xpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3ljbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07IC8vIFN0YXRpY1xuXG5cbiAgICAgICAgICAgICAgICBDYXJvdXNlbC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCBEZWZhdWx0LCAkJCQxKHRoaXMpLmRhdGEoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCBfY29uZmlnLCBjb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gdHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycgPyBjb25maWcgOiBfY29uZmlnLnNsaWRlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudG8oY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbYWN0aW9uXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBhY3Rpb24gKyBcIlxcXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVthY3Rpb25dKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9jb25maWcuaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jeWNsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgQ2Fyb3VzZWwuX2RhdGFBcGlDbGlja0hhbmRsZXIgPSBmdW5jdGlvbiBfZGF0YUFwaUNsaWNrSGFuZGxlcihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9ICQkJDEoc2VsZWN0b3IpWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0IHx8ICEkJCQxKHRhcmdldCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkNBUk9VU0VMKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sICQkJDEodGFyZ2V0KS5kYXRhKCksICQkJDEodGhpcykuZGF0YSgpKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2xpZGVJbmRleCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXNsaWRlLXRvJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5pbnRlcnZhbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgQ2Fyb3VzZWwuX2pRdWVyeUludGVyZmFjZS5jYWxsKCQkJDEodGFyZ2V0KSwgY29uZmlnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0YXJnZXQpLmRhdGEoREFUQV9LRVkpLnRvKHNsaWRlSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKENhcm91c2VsLCBudWxsLCBbe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBWRVJTSU9OO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIENhcm91c2VsO1xuICAgICAgICAgICAgfSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIERhdGEgQXBpIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cblxuXG4gICAgICAgICQkJDEoZG9jdW1lbnQpLm9uKEV2ZW50LkNMSUNLX0RBVEFfQVBJLCBTZWxlY3Rvci5EQVRBX1NMSURFLCBDYXJvdXNlbC5fZGF0YUFwaUNsaWNrSGFuZGxlcik7XG4gICAgICAgICQkJDEod2luZG93KS5vbihFdmVudC5MT0FEX0RBVEFfQVBJLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjYXJvdXNlbHMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuREFUQV9SSURFKSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjYXJvdXNlbHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgJGNhcm91c2VsID0gJCQkMShjYXJvdXNlbHNbaV0pO1xuXG4gICAgICAgICAgICAgICAgQ2Fyb3VzZWwuX2pRdWVyeUludGVyZmFjZS5jYWxsKCRjYXJvdXNlbCwgJGNhcm91c2VsLmRhdGEoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIGpRdWVyeVxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG5cbiAgICAgICAgJCQkMS5mbltOQU1FXSA9IENhcm91c2VsLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgICQkJDEuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBDYXJvdXNlbDtcblxuICAgICAgICAkJCQxLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQkJDEuZm5bTkFNRV0gPSBKUVVFUllfTk9fQ09ORkxJQ1Q7XG4gICAgICAgICAgICByZXR1cm4gQ2Fyb3VzZWwuX2pRdWVyeUludGVyZmFjZTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gQ2Fyb3VzZWw7XG4gICAgfSgkKTtcblxuICAgIC8qKlxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQm9vdHN0cmFwICh2NC4xLjIpOiBjb2xsYXBzZS5qc1xuICAgICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKi9cblxuICAgIHZhciBDb2xsYXBzZSA9IGZ1bmN0aW9uKCQkJDEpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBDb25zdGFudHNcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgTkFNRSA9ICdjb2xsYXBzZSc7XG4gICAgICAgIHZhciBWRVJTSU9OID0gJzQuMS4yJztcbiAgICAgICAgdmFyIERBVEFfS0VZID0gJ2JzLmNvbGxhcHNlJztcbiAgICAgICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gICAgICAgIHZhciBEQVRBX0FQSV9LRVkgPSAnLmRhdGEtYXBpJztcbiAgICAgICAgdmFyIEpRVUVSWV9OT19DT05GTElDVCA9ICQkJDEuZm5bTkFNRV07XG4gICAgICAgIHZhciBEZWZhdWx0ID0ge1xuICAgICAgICAgICAgdG9nZ2xlOiB0cnVlLFxuICAgICAgICAgICAgcGFyZW50OiAnJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgRGVmYXVsdFR5cGUgPSB7XG4gICAgICAgICAgICB0b2dnbGU6ICdib29sZWFuJyxcbiAgICAgICAgICAgIHBhcmVudDogJyhzdHJpbmd8ZWxlbWVudCknXG4gICAgICAgIH07XG4gICAgICAgIHZhciBFdmVudCA9IHtcbiAgICAgICAgICAgIFNIT1c6IFwic2hvd1wiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgU0hPV046IFwic2hvd25cIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIEhJREU6IFwiaGlkZVwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgSElEREVOOiBcImhpZGRlblwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgQ0xJQ0tfREFUQV9BUEk6IFwiY2xpY2tcIiArIEVWRU5UX0tFWSArIERBVEFfQVBJX0tFWVxuICAgICAgICB9O1xuICAgICAgICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgICAgICAgICAgU0hPVzogJ3Nob3cnLFxuICAgICAgICAgICAgQ09MTEFQU0U6ICdjb2xsYXBzZScsXG4gICAgICAgICAgICBDT0xMQVBTSU5HOiAnY29sbGFwc2luZycsXG4gICAgICAgICAgICBDT0xMQVBTRUQ6ICdjb2xsYXBzZWQnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBEaW1lbnNpb24gPSB7XG4gICAgICAgICAgICBXSURUSDogJ3dpZHRoJyxcbiAgICAgICAgICAgIEhFSUdIVDogJ2hlaWdodCdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIFNlbGVjdG9yID0ge1xuICAgICAgICAgICAgQUNUSVZFUzogJy5zaG93LCAuY29sbGFwc2luZycsXG4gICAgICAgICAgICBEQVRBX1RPR0dMRTogJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJ1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAqIENsYXNzIERlZmluaXRpb25cbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgQ29sbGFwc2UgPVxuICAgICAgICAgICAgLyojX19QVVJFX18qL1xuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gQ29sbGFwc2UoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJBcnJheSA9ICQkJDEubWFrZUFycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS10b2dnbGU9XFxcImNvbGxhcHNlXFxcIl1baHJlZj1cXFwiI1wiICsgZWxlbWVudC5pZCArIFwiXFxcIl0sXCIgKyAoXCJbZGF0YS10b2dnbGU9XFxcImNvbGxhcHNlXFxcIl1bZGF0YS10YXJnZXQ9XFxcIiNcIiArIGVsZW1lbnQuaWQgKyBcIlxcXCJdXCIpKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2dnbGVMaXN0ID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLkRBVEFfVE9HR0xFKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRvZ2dsZUxpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gdG9nZ2xlTGlzdFtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJFbGVtZW50ID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkuZmlsdGVyKGZ1bmN0aW9uKGZvdW5kRWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZEVsZW0gPT09IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yICE9PSBudWxsICYmIGZpbHRlckVsZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyQXJyYXkucHVzaChlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IHRoaXMuX2NvbmZpZy5wYXJlbnQgPyB0aGlzLl9nZXRQYXJlbnQoKSA6IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jb25maWcucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3ModGhpcy5fZWxlbWVudCwgdGhpcy5fdHJpZ2dlckFycmF5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb25maWcudG9nZ2xlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgICAgICAgICAgICAgIHZhciBfcHJvdG8gPSBDb2xsYXBzZS5wcm90b3R5cGU7XG5cbiAgICAgICAgICAgICAgICAvLyBQdWJsaWNcbiAgICAgICAgICAgICAgICBfcHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJCQkMSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuU0hPVykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLnNob3cgPSBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1RyYW5zaXRpb25pbmcgfHwgJCQkMSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuU0hPVykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlc0RhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlcyA9IFtdLnNsaWNlLmNhbGwodGhpcy5fcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuQUNUSVZFUykpLmZpbHRlcihmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXBhcmVudCcpID09PSBfdGhpcy5fY29uZmlnLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVzRGF0YSA9ICQkJDEoYWN0aXZlcykubm90KHRoaXMuX3NlbGVjdG9yKS5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZXNEYXRhICYmIGFjdGl2ZXNEYXRhLl9pc1RyYW5zaXRpb25pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRFdmVudCA9ICQkJDEuRXZlbnQoRXZlbnQuU0hPVyk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkudHJpZ2dlcihzdGFydEV2ZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbGxhcHNlLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkJCQxKGFjdGl2ZXMpLm5vdCh0aGlzLl9zZWxlY3RvciksICdoaWRlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYWN0aXZlc0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGFjdGl2ZXMpLmRhdGEoREFUQV9LRVksIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuX2dldERpbWVuc2lvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkNPTExBUFNFKS5hZGRDbGFzcyhDbGFzc05hbWUuQ09MTEFQU0lORyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGVbZGltZW5zaW9uXSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RyaWdnZXJBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fdHJpZ2dlckFycmF5KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuQ09MTEFQU0VEKS5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRyYW5zaXRpb25pbmcodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKF90aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuQ09MTEFQU0lORykuYWRkQ2xhc3MoQ2xhc3NOYW1lLkNPTExBUFNFKS5hZGRDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZWxlbWVudC5zdHlsZVtkaW1lbnNpb25dID0gJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFRyYW5zaXRpb25pbmcoZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKF90aGlzLl9lbGVtZW50KS50cmlnZ2VyKEV2ZW50LlNIT1dOKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FwaXRhbGl6ZWREaW1lbnNpb24gPSBkaW1lbnNpb25bMF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFNpemUgPSBcInNjcm9sbFwiICsgY2FwaXRhbGl6ZWREaW1lbnNpb247XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZVtkaW1lbnNpb25dID0gdGhpcy5fZWxlbWVudFtzY3JvbGxTaXplXSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmhpZGUgPSBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nIHx8ICEkJCQxKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5TSE9XKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0RXZlbnQgPSAkJCQxLkV2ZW50KEV2ZW50LkhJREUpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc3RhcnRFdmVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLl9nZXREaW1lbnNpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSB0aGlzLl9lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2RpbWVuc2lvbl0gKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIFV0aWwucmVmbG93KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLmFkZENsYXNzKENsYXNzTmFtZS5DT0xMQVBTSU5HKS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuQ09MTEFQU0UpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyaWdnZXJBcnJheUxlbmd0aCA9IHRoaXMuX3RyaWdnZXJBcnJheS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJBcnJheUxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJpZ2dlckFycmF5TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJpZ2dlciA9IHRoaXMuX3RyaWdnZXJBcnJheVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodHJpZ2dlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRlbGVtID0gJCQkMShbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkZWxlbS5oYXNDbGFzcyhDbGFzc05hbWUuU0hPVykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodHJpZ2dlcikuYWRkQ2xhc3MoQ2xhc3NOYW1lLkNPTExBUFNFRCkuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNpdGlvbmluZyh0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRUcmFuc2l0aW9uaW5nKGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShfdGhpczIuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5DT0xMQVBTSU5HKS5hZGRDbGFzcyhDbGFzc05hbWUuQ09MTEFQU0UpLnRyaWdnZXIoRXZlbnQuSElEREVOKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSAnJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uc2V0VHJhbnNpdGlvbmluZyA9IGZ1bmN0aW9uIHNldFRyYW5zaXRpb25pbmcoaXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGlzVHJhbnNpdGlvbmluZztcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgICAgICAgICAgICAgICAkJCQxLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckFycmF5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9OyAvLyBQcml2YXRlXG5cblxuICAgICAgICAgICAgICAgIF9wcm90by5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgRGVmYXVsdCwgY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLnRvZ2dsZSA9IEJvb2xlYW4oY29uZmlnLnRvZ2dsZSk7IC8vIENvZXJjZSBzdHJpbmcgdmFsdWVzXG5cbiAgICAgICAgICAgICAgICAgICAgVXRpbC50eXBlQ2hlY2tDb25maWcoTkFNRSwgY29uZmlnLCBEZWZhdWx0VHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fZ2V0RGltZW5zaW9uID0gZnVuY3Rpb24gX2dldERpbWVuc2lvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc1dpZHRoID0gJCQkMSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhEaW1lbnNpb24uV0lEVEgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFzV2lkdGggPyBEaW1lbnNpb24uV0lEVEggOiBEaW1lbnNpb24uSEVJR0hUO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2dldFBhcmVudCA9IGZ1bmN0aW9uIF9nZXRQYXJlbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChVdGlsLmlzRWxlbWVudCh0aGlzLl9jb25maWcucGFyZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gdGhpcy5fY29uZmlnLnBhcmVudDsgLy8gSXQncyBhIGpRdWVyeSBvYmplY3RcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9jb25maWcucGFyZW50LmpxdWVyeSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSB0aGlzLl9jb25maWcucGFyZW50WzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcucGFyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IFwiW2RhdGEtdG9nZ2xlPVxcXCJjb2xsYXBzZVxcXCJdW2RhdGEtcGFyZW50PVxcXCJcIiArIHRoaXMuX2NvbmZpZy5wYXJlbnQgKyBcIlxcXCJdXCI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IFtdLnNsaWNlLmNhbGwocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMShjaGlsZHJlbikuZWFjaChmdW5jdGlvbihpLCBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhDb2xsYXBzZS5fZ2V0VGFyZ2V0RnJvbUVsZW1lbnQoZWxlbWVudCksIFtlbGVtZW50XSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyA9IGZ1bmN0aW9uIF9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoZWxlbWVudCwgdHJpZ2dlckFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNPcGVuID0gJCQkMShlbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0cmlnZ2VyQXJyYXkpLnRvZ2dsZUNsYXNzKENsYXNzTmFtZS5DT0xMQVBTRUQsICFpc09wZW4pLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTsgLy8gU3RhdGljXG5cblxuICAgICAgICAgICAgICAgIENvbGxhcHNlLl9nZXRUYXJnZXRGcm9tRWxlbWVudCA9IGZ1bmN0aW9uIF9nZXRUYXJnZXRGcm9tRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdG9yID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgOiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBDb2xsYXBzZS5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQkJDEodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9ICR0aGlzLmRhdGEoREFUQV9LRVkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2NvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIERlZmF1bHQsICR0aGlzLmRhdGEoKSwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnID8gY29uZmlnIDoge30pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEgJiYgX2NvbmZpZy50b2dnbGUgJiYgL3Nob3d8aGlkZS8udGVzdChjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbmZpZy50b2dnbGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBfY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgY29uZmlnICsgXCJcXFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKENvbGxhcHNlLCBudWxsLCBbe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBWRVJTSU9OO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbGxhcHNlO1xuICAgICAgICAgICAgfSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIERhdGEgQXBpIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cblxuXG4gICAgICAgICQkJDEoZG9jdW1lbnQpLm9uKEV2ZW50LkNMSUNLX0RBVEFfQVBJLCBTZWxlY3Rvci5EQVRBX1RPR0dMRSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIHByZXZlbnREZWZhdWx0IG9ubHkgZm9yIDxhPiBlbGVtZW50cyAod2hpY2ggY2hhbmdlIHRoZSBVUkwpIG5vdCBpbnNpZGUgdGhlIGNvbGxhcHNpYmxlIGVsZW1lbnRcbiAgICAgICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LnRhZ05hbWUgPT09ICdBJykge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciAkdHJpZ2dlciA9ICQkJDEodGhpcyk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcyk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0b3JzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gICAgICAgICAgICAkJCQxKHNlbGVjdG9ycykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHRhcmdldCA9ICQkJDEodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkdGFyZ2V0LmRhdGEoREFUQV9LRVkpO1xuICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdHJpZ2dlci5kYXRhKCk7XG5cbiAgICAgICAgICAgICAgICBDb2xsYXBzZS5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJHRhcmdldCwgY29uZmlnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBqUXVlcnlcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuXG4gICAgICAgICQkJDEuZm5bTkFNRV0gPSBDb2xsYXBzZS5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgICAkJCQxLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gQ29sbGFwc2U7XG5cbiAgICAgICAgJCQkMS5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkJCQxLmZuW05BTUVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgICAgICAgICAgcmV0dXJuIENvbGxhcHNlLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIENvbGxhcHNlO1xuICAgIH0oJCk7XG5cbiAgICAvKipcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEJvb3RzdHJhcCAodjQuMS4yKTogZHJvcGRvd24uanNcbiAgICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICovXG5cbiAgICB2YXIgRHJvcGRvd24gPSBmdW5jdGlvbigkJCQxKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogQ29uc3RhbnRzXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIE5BTUUgPSAnZHJvcGRvd24nO1xuICAgICAgICB2YXIgVkVSU0lPTiA9ICc0LjEuMic7XG4gICAgICAgIHZhciBEQVRBX0tFWSA9ICdicy5kcm9wZG93bic7XG4gICAgICAgIHZhciBFVkVOVF9LRVkgPSBcIi5cIiArIERBVEFfS0VZO1xuICAgICAgICB2YXIgREFUQV9BUElfS0VZID0gJy5kYXRhLWFwaSc7XG4gICAgICAgIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QgPSAkJCQxLmZuW05BTUVdO1xuICAgICAgICB2YXIgRVNDQVBFX0tFWUNPREUgPSAyNzsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgRXNjYXBlIChFc2MpIGtleVxuXG4gICAgICAgIHZhciBTUEFDRV9LRVlDT0RFID0gMzI7IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIHNwYWNlIGtleVxuXG4gICAgICAgIHZhciBUQUJfS0VZQ09ERSA9IDk7IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIHRhYiBrZXlcblxuICAgICAgICB2YXIgQVJST1dfVVBfS0VZQ09ERSA9IDM4OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciB1cCBhcnJvdyBrZXlcblxuICAgICAgICB2YXIgQVJST1dfRE9XTl9LRVlDT0RFID0gNDA7IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIGRvd24gYXJyb3cga2V5XG5cbiAgICAgICAgdmFyIFJJR0hUX01PVVNFX0JVVFRPTl9XSElDSCA9IDM7IC8vIE1vdXNlRXZlbnQud2hpY2ggdmFsdWUgZm9yIHRoZSByaWdodCBidXR0b24gKGFzc3VtaW5nIGEgcmlnaHQtaGFuZGVkIG1vdXNlKVxuXG4gICAgICAgIHZhciBSRUdFWFBfS0VZRE9XTiA9IG5ldyBSZWdFeHAoQVJST1dfVVBfS0VZQ09ERSArIFwifFwiICsgQVJST1dfRE9XTl9LRVlDT0RFICsgXCJ8XCIgKyBFU0NBUEVfS0VZQ09ERSk7XG4gICAgICAgIHZhciBFdmVudCA9IHtcbiAgICAgICAgICAgIEhJREU6IFwiaGlkZVwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgSElEREVOOiBcImhpZGRlblwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgU0hPVzogXCJzaG93XCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBTSE9XTjogXCJzaG93blwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgQ0xJQ0s6IFwiY2xpY2tcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIENMSUNLX0RBVEFfQVBJOiBcImNsaWNrXCIgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVksXG4gICAgICAgICAgICBLRVlET1dOX0RBVEFfQVBJOiBcImtleWRvd25cIiArIEVWRU5UX0tFWSArIERBVEFfQVBJX0tFWSxcbiAgICAgICAgICAgIEtFWVVQX0RBVEFfQVBJOiBcImtleXVwXCIgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVlcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIENsYXNzTmFtZSA9IHtcbiAgICAgICAgICAgIERJU0FCTEVEOiAnZGlzYWJsZWQnLFxuICAgICAgICAgICAgU0hPVzogJ3Nob3cnLFxuICAgICAgICAgICAgRFJPUFVQOiAnZHJvcHVwJyxcbiAgICAgICAgICAgIERST1BSSUdIVDogJ2Ryb3ByaWdodCcsXG4gICAgICAgICAgICBEUk9QTEVGVDogJ2Ryb3BsZWZ0JyxcbiAgICAgICAgICAgIE1FTlVSSUdIVDogJ2Ryb3Bkb3duLW1lbnUtcmlnaHQnLFxuICAgICAgICAgICAgTUVOVUxFRlQ6ICdkcm9wZG93bi1tZW51LWxlZnQnLFxuICAgICAgICAgICAgUE9TSVRJT05fU1RBVElDOiAncG9zaXRpb24tc3RhdGljJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgICAgICAgICBEQVRBX1RPR0dMRTogJ1tkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJdJyxcbiAgICAgICAgICAgIEZPUk1fQ0hJTEQ6ICcuZHJvcGRvd24gZm9ybScsXG4gICAgICAgICAgICBNRU5VOiAnLmRyb3Bkb3duLW1lbnUnLFxuICAgICAgICAgICAgTkFWQkFSX05BVjogJy5uYXZiYXItbmF2JyxcbiAgICAgICAgICAgIFZJU0lCTEVfSVRFTVM6ICcuZHJvcGRvd24tbWVudSAuZHJvcGRvd24taXRlbTpub3QoLmRpc2FibGVkKTpub3QoOmRpc2FibGVkKSdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIEF0dGFjaG1lbnRNYXAgPSB7XG4gICAgICAgICAgICBUT1A6ICd0b3Atc3RhcnQnLFxuICAgICAgICAgICAgVE9QRU5EOiAndG9wLWVuZCcsXG4gICAgICAgICAgICBCT1RUT006ICdib3R0b20tc3RhcnQnLFxuICAgICAgICAgICAgQk9UVE9NRU5EOiAnYm90dG9tLWVuZCcsXG4gICAgICAgICAgICBSSUdIVDogJ3JpZ2h0LXN0YXJ0JyxcbiAgICAgICAgICAgIFJJR0hURU5EOiAncmlnaHQtZW5kJyxcbiAgICAgICAgICAgIExFRlQ6ICdsZWZ0LXN0YXJ0JyxcbiAgICAgICAgICAgIExFRlRFTkQ6ICdsZWZ0LWVuZCdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIERlZmF1bHQgPSB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICBmbGlwOiB0cnVlLFxuICAgICAgICAgICAgYm91bmRhcnk6ICdzY3JvbGxQYXJlbnQnLFxuICAgICAgICAgICAgcmVmZXJlbmNlOiAndG9nZ2xlJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdkeW5hbWljJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgRGVmYXVsdFR5cGUgPSB7XG4gICAgICAgICAgICBvZmZzZXQ6ICcobnVtYmVyfHN0cmluZ3xmdW5jdGlvbiknLFxuICAgICAgICAgICAgZmxpcDogJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgYm91bmRhcnk6ICcoc3RyaW5nfGVsZW1lbnQpJyxcbiAgICAgICAgICAgIHJlZmVyZW5jZTogJyhzdHJpbmd8ZWxlbWVudCknLFxuICAgICAgICAgICAgZGlzcGxheTogJ3N0cmluZydcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAgICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIERyb3Bkb3duID1cbiAgICAgICAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIERyb3Bkb3duKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9wcGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lbnUgPSB0aGlzLl9nZXRNZW51RWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbk5hdmJhciA9IHRoaXMuX2RldGVjdE5hdmJhcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgICAgICAgICAgICAgIHZhciBfcHJvdG8gPSBEcm9wZG93bi5wcm90b3R5cGU7XG5cbiAgICAgICAgICAgICAgICAvLyBQdWJsaWNcbiAgICAgICAgICAgICAgICBfcHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZWxlbWVudC5kaXNhYmxlZCB8fCAkJCQxKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5ESVNBQkxFRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBEcm9wZG93bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzQWN0aXZlID0gJCQkMSh0aGlzLl9tZW51KS5oYXNDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG5cbiAgICAgICAgICAgICAgICAgICAgRHJvcGRvd24uX2NsZWFyTWVudXMoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogdGhpcy5fZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvd0V2ZW50ID0gJCQkMS5FdmVudChFdmVudC5TSE9XLCByZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMShwYXJlbnQpLnRyaWdnZXIoc2hvd0V2ZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0gLy8gRGlzYWJsZSB0b3RhbGx5IFBvcHBlci5qcyBmb3IgRHJvcGRvd24gaW4gTmF2YmFyXG5cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2luTmF2YmFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENoZWNrIGZvciBQb3BwZXIgZGVwZW5kZW5jeVxuICAgICAgICAgICAgICAgICAgICAgICAgICogUG9wcGVyIC0gaHR0cHM6Ly9wb3BwZXIuanMub3JnXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgUG9wcGVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Jvb3RzdHJhcCBkcm9wZG93biByZXF1aXJlIFBvcHBlci5qcyAoaHR0cHM6Ly9wb3BwZXIuanMub3JnKScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVmZXJlbmNlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb25maWcucmVmZXJlbmNlID09PSAncGFyZW50Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUVsZW1lbnQgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFV0aWwuaXNFbGVtZW50KHRoaXMuX2NvbmZpZy5yZWZlcmVuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlRWxlbWVudCA9IHRoaXMuX2NvbmZpZy5yZWZlcmVuY2U7IC8vIENoZWNrIGlmIGl0J3MgalF1ZXJ5IGVsZW1lbnRcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fY29uZmlnLnJlZmVyZW5jZS5qcXVlcnkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUVsZW1lbnQgPSB0aGlzLl9jb25maWcucmVmZXJlbmNlWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gLy8gSWYgYm91bmRhcnkgaXMgbm90IGBzY3JvbGxQYXJlbnRgLCB0aGVuIHNldCBwb3NpdGlvbiB0byBgc3RhdGljYFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gYWxsb3cgdGhlIG1lbnUgdG8gXCJlc2NhcGVcIiB0aGUgc2Nyb2xsIHBhcmVudCdzIGJvdW5kYXJpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9pc3N1ZXMvMjQyNTFcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29uZmlnLmJvdW5kYXJ5ICE9PSAnc2Nyb2xsUGFyZW50Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEocGFyZW50KS5hZGRDbGFzcyhDbGFzc05hbWUuUE9TSVRJT05fU1RBVElDKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9wcGVyID0gbmV3IFBvcHBlcihyZWZlcmVuY2VFbGVtZW50LCB0aGlzLl9tZW51LCB0aGlzLl9nZXRQb3BwZXJDb25maWcoKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gLy8gSWYgdGhpcyBpcyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlIHdlIGFkZCBleHRyYVxuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eSBtb3VzZW92ZXIgbGlzdGVuZXJzIHRvIHRoZSBib2R5J3MgaW1tZWRpYXRlIGNoaWxkcmVuO1xuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IG5lZWRlZCBiZWNhdXNlIG9mIGJyb2tlbiBldmVudCBkZWxlZ2F0aW9uIG9uIGlPU1xuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy5xdWlya3Ntb2RlLm9yZy9ibG9nL2FyY2hpdmVzLzIwMTQvMDIvbW91c2VfZXZlbnRfYnViLmh0bWxcblxuXG4gICAgICAgICAgICAgICAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgJCQkMShwYXJlbnQpLmNsb3Nlc3QoU2VsZWN0b3IuTkFWQkFSX05BVikubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGRvY3VtZW50LmJvZHkpLmNoaWxkcmVuKCkub24oJ21vdXNlb3ZlcicsIG51bGwsICQkJDEubm9vcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmZvY3VzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX21lbnUpLnRvZ2dsZUNsYXNzKENsYXNzTmFtZS5TSE9XKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMShwYXJlbnQpLnRvZ2dsZUNsYXNzKENsYXNzTmFtZS5TSE9XKS50cmlnZ2VyKCQkJDEuRXZlbnQoRXZlbnQuU0hPV04sIHJlbGF0ZWRUYXJnZXQpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgICAgICAgICAgICAgICAkJCQxLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9mZihFVkVOVF9LRVkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVudSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BvcHBlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9wcGVyLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9wcGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbk5hdmJhciA9IHRoaXMuX2RldGVjdE5hdmJhcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wb3BwZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BvcHBlci5zY2hlZHVsZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTsgLy8gUHJpdmF0ZVxuXG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2FkZEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub24oRXZlbnQuQ0xJQ0ssIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRvZ2dsZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHQsICQkJDEodGhpcy5fZWxlbWVudCkuZGF0YSgpLCBjb25maWcpO1xuICAgICAgICAgICAgICAgICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FLCBjb25maWcsIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2dldE1lbnVFbGVtZW50ID0gZnVuY3Rpb24gX2dldE1lbnVFbGVtZW50KCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX21lbnUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBEcm9wZG93bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZW51ID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuTUVOVSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbWVudTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXRQbGFjZW1lbnQgPSBmdW5jdGlvbiBfZ2V0UGxhY2VtZW50KCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHBhcmVudERyb3Bkb3duID0gJCQkMSh0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGxhY2VtZW50ID0gQXR0YWNobWVudE1hcC5CT1RUT007IC8vIEhhbmRsZSBkcm9wdXBcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJHBhcmVudERyb3Bkb3duLmhhc0NsYXNzKENsYXNzTmFtZS5EUk9QVVApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPSBBdHRhY2htZW50TWFwLlRPUDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQkJDEodGhpcy5fbWVudSkuaGFzQ2xhc3MoQ2xhc3NOYW1lLk1FTlVSSUdIVCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPSBBdHRhY2htZW50TWFwLlRPUEVORDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkcGFyZW50RHJvcGRvd24uaGFzQ2xhc3MoQ2xhc3NOYW1lLkRST1BSSUdIVCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9IEF0dGFjaG1lbnRNYXAuUklHSFQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHBhcmVudERyb3Bkb3duLmhhc0NsYXNzKENsYXNzTmFtZS5EUk9QTEVGVCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9IEF0dGFjaG1lbnRNYXAuTEVGVDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkJCQxKHRoaXMuX21lbnUpLmhhc0NsYXNzKENsYXNzTmFtZS5NRU5VUklHSFQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPSBBdHRhY2htZW50TWFwLkJPVFRPTUVORDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fZGV0ZWN0TmF2YmFyID0gZnVuY3Rpb24gX2RldGVjdE5hdmJhcigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQkJDEodGhpcy5fZWxlbWVudCkuY2xvc2VzdCgnLm5hdmJhcicpLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fZ2V0UG9wcGVyQ29uZmlnID0gZnVuY3Rpb24gX2dldFBvcHBlckNvbmZpZygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldENvbmYgPSB7fTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2NvbmZpZy5vZmZzZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldENvbmYuZm4gPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5vZmZzZXRzID0gX29iamVjdFNwcmVhZCh7fSwgZGF0YS5vZmZzZXRzLCBfdGhpczIuX2NvbmZpZy5vZmZzZXQoZGF0YS5vZmZzZXRzKSB8fCB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0Q29uZi5vZmZzZXQgPSB0aGlzLl9jb25maWcub2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvcHBlckNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogdGhpcy5fZ2V0UGxhY2VtZW50KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IG9mZnNldENvbmYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxpcDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0aGlzLl9jb25maWcuZmxpcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudE92ZXJmbG93OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kYXJpZXNFbGVtZW50OiB0aGlzLl9jb25maWcuYm91bmRhcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IC8vIERpc2FibGUgUG9wcGVyLmpzIGlmIHdlIGhhdmUgYSBzdGF0aWMgZGlzcGxheVxuXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5kaXNwbGF5ID09PSAnc3RhdGljJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9wcGVyQ29uZmlnLm1vZGlmaWVycy5hcHBseVN0eWxlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvcHBlckNvbmZpZztcbiAgICAgICAgICAgICAgICB9OyAvLyBTdGF0aWNcblxuXG4gICAgICAgICAgICAgICAgRHJvcGRvd24uX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9ICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY29uZmlnID0gdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgPyBjb25maWcgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gbmV3IERyb3Bkb3duKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGNvbmZpZyArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIERyb3Bkb3duLl9jbGVhck1lbnVzID0gZnVuY3Rpb24gX2NsZWFyTWVudXMoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50ICYmIChldmVudC53aGljaCA9PT0gUklHSFRfTU9VU0VfQlVUVE9OX1dISUNIIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcgJiYgZXZlbnQud2hpY2ggIT09IFRBQl9LRVlDT0RFKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvZ2dsZXMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuREFUQV9UT0dHTEUpKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdG9nZ2xlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IERyb3Bkb3duLl9nZXRQYXJlbnRGcm9tRWxlbWVudCh0b2dnbGVzW2ldKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSAkJCQxKHRvZ2dsZXNbaV0pLmRhdGEoREFUQV9LRVkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogdG9nZ2xlc1tpXVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0LmNsaWNrRXZlbnQgPSBldmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkcm9wZG93bk1lbnUgPSBjb250ZXh0Ll9tZW51O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISQkJDEocGFyZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuU0hPVykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50ICYmIChldmVudC50eXBlID09PSAnY2xpY2snICYmIC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZXZlbnQudGFyZ2V0LnRhZ05hbWUpIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcgJiYgZXZlbnQud2hpY2ggPT09IFRBQl9LRVlDT0RFKSAmJiAkJCQxLmNvbnRhaW5zKHBhcmVudCwgZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGlkZUV2ZW50ID0gJCQkMS5FdmVudChFdmVudC5ISURFLCByZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEocGFyZW50KS50cmlnZ2VyKGhpZGVFdmVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gLy8gSWYgdGhpcyBpcyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlIHdlIHJlbW92ZSB0aGUgZXh0cmFcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5IG1vdXNlb3ZlciBsaXN0ZW5lcnMgd2UgYWRkZWQgZm9yIGlPUyBzdXBwb3J0XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4oKS5vZmYoJ21vdXNlb3ZlcicsIG51bGwsICQkJDEubm9vcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZXNbaV0uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGRyb3Bkb3duTWVudSkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShwYXJlbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XKS50cmlnZ2VyKCQkJDEuRXZlbnQoRXZlbnQuSElEREVOLCByZWxhdGVkVGFyZ2V0KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgRHJvcGRvd24uX2dldFBhcmVudEZyb21FbGVtZW50ID0gZnVuY3Rpb24gX2dldFBhcmVudEZyb21FbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50IHx8IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICB9OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuXG5cbiAgICAgICAgICAgICAgICBEcm9wZG93bi5fZGF0YUFwaUtleWRvd25IYW5kbGVyID0gZnVuY3Rpb24gX2RhdGFBcGlLZXlkb3duSGFuZGxlcihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBub3QgaW5wdXQvdGV4dGFyZWE6XG4gICAgICAgICAgICAgICAgICAgIC8vICAtIEFuZCBub3QgYSBrZXkgaW4gUkVHRVhQX0tFWURPV04gPT4gbm90IGEgZHJvcGRvd24gY29tbWFuZFxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBpbnB1dC90ZXh0YXJlYTpcbiAgICAgICAgICAgICAgICAgICAgLy8gIC0gSWYgc3BhY2Uga2V5ID0+IG5vdCBhIGRyb3Bkb3duIGNvbW1hbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gIC0gSWYga2V5IGlzIG90aGVyIHRoYW4gZXNjYXBlXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIC0gSWYga2V5IGlzIG5vdCB1cCBvciBkb3duID0+IG5vdCBhIGRyb3Bkb3duIGNvbW1hbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgLSBJZiB0cmlnZ2VyIGluc2lkZSB0aGUgbWVudSA9PiBub3QgYSBkcm9wZG93biBjb21tYW5kXG4gICAgICAgICAgICAgICAgICAgIGlmICgvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGV2ZW50LnRhcmdldC50YWdOYW1lKSA/IGV2ZW50LndoaWNoID09PSBTUEFDRV9LRVlDT0RFIHx8IGV2ZW50LndoaWNoICE9PSBFU0NBUEVfS0VZQ09ERSAmJiAoZXZlbnQud2hpY2ggIT09IEFSUk9XX0RPV05fS0VZQ09ERSAmJiBldmVudC53aGljaCAhPT0gQVJST1dfVVBfS0VZQ09ERSB8fCAkJCQxKGV2ZW50LnRhcmdldCkuY2xvc2VzdChTZWxlY3Rvci5NRU5VKS5sZW5ndGgpIDogIVJFR0VYUF9LRVlET1dOLnRlc3QoZXZlbnQud2hpY2gpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCAkJCQxKHRoaXMpLmhhc0NsYXNzKENsYXNzTmFtZS5ESVNBQkxFRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBEcm9wZG93bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzQWN0aXZlID0gJCQkMShwYXJlbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQWN0aXZlICYmIChldmVudC53aGljaCAhPT0gRVNDQVBFX0tFWUNPREUgfHwgZXZlbnQud2hpY2ggIT09IFNQQUNFX0tFWUNPREUpIHx8IGlzQWN0aXZlICYmIChldmVudC53aGljaCA9PT0gRVNDQVBFX0tFWUNPREUgfHwgZXZlbnQud2hpY2ggPT09IFNQQUNFX0tFWUNPREUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IEVTQ0FQRV9LRVlDT0RFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvZ2dsZSA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLkRBVEFfVE9HR0xFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRvZ2dsZSkudHJpZ2dlcignZm9jdXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzKS50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gW10uc2xpY2UuY2FsbChwYXJlbnQucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5WSVNJQkxFX0lURU1TKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gaXRlbXMuaW5kZXhPZihldmVudC50YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC53aGljaCA9PT0gQVJST1dfVVBfS0VZQ09ERSAmJiBpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBBUlJPV19ET1dOX0tFWUNPREUgJiYgaW5kZXggPCBpdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEb3duXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaXRlbXNbaW5kZXhdLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhEcm9wZG93biwgbnVsbCwgW3tcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIlZFUlNJT05cIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVkVSU0lPTjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIkRlZmF1bHRUeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERlZmF1bHRUeXBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIERyb3Bkb3duO1xuICAgICAgICAgICAgfSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIERhdGEgQXBpIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cblxuXG4gICAgICAgICQkJDEoZG9jdW1lbnQpLm9uKEV2ZW50LktFWURPV05fREFUQV9BUEksIFNlbGVjdG9yLkRBVEFfVE9HR0xFLCBEcm9wZG93bi5fZGF0YUFwaUtleWRvd25IYW5kbGVyKS5vbihFdmVudC5LRVlET1dOX0RBVEFfQVBJLCBTZWxlY3Rvci5NRU5VLCBEcm9wZG93bi5fZGF0YUFwaUtleWRvd25IYW5kbGVyKS5vbihFdmVudC5DTElDS19EQVRBX0FQSSArIFwiIFwiICsgRXZlbnQuS0VZVVBfREFUQV9BUEksIERyb3Bkb3duLl9jbGVhck1lbnVzKS5vbihFdmVudC5DTElDS19EQVRBX0FQSSwgU2VsZWN0b3IuREFUQV9UT0dHTEUsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgIERyb3Bkb3duLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkJCQxKHRoaXMpLCAndG9nZ2xlJyk7XG4gICAgICAgIH0pLm9uKEV2ZW50LkNMSUNLX0RBVEFfQVBJLCBTZWxlY3Rvci5GT1JNX0NISUxELCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBqUXVlcnlcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuXG4gICAgICAgICQkJDEuZm5bTkFNRV0gPSBEcm9wZG93bi5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgICAkJCQxLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gRHJvcGRvd247XG5cbiAgICAgICAgJCQkMS5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkJCQxLmZuW05BTUVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgICAgICAgICAgcmV0dXJuIERyb3Bkb3duLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIERyb3Bkb3duO1xuICAgIH0oJCwgUG9wcGVyKTtcblxuICAgIC8qKlxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQm9vdHN0cmFwICh2NC4xLjIpOiBtb2RhbC5qc1xuICAgICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKi9cblxuICAgIHZhciBNb2RhbCA9IGZ1bmN0aW9uKCQkJDEpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBDb25zdGFudHNcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgTkFNRSA9ICdtb2RhbCc7XG4gICAgICAgIHZhciBWRVJTSU9OID0gJzQuMS4yJztcbiAgICAgICAgdmFyIERBVEFfS0VZID0gJ2JzLm1vZGFsJztcbiAgICAgICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gICAgICAgIHZhciBEQVRBX0FQSV9LRVkgPSAnLmRhdGEtYXBpJztcbiAgICAgICAgdmFyIEpRVUVSWV9OT19DT05GTElDVCA9ICQkJDEuZm5bTkFNRV07XG4gICAgICAgIHZhciBFU0NBUEVfS0VZQ09ERSA9IDI3OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciBFc2NhcGUgKEVzYykga2V5XG5cbiAgICAgICAgdmFyIERlZmF1bHQgPSB7XG4gICAgICAgICAgICBiYWNrZHJvcDogdHJ1ZSxcbiAgICAgICAgICAgIGtleWJvYXJkOiB0cnVlLFxuICAgICAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgICAgICBzaG93OiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIHZhciBEZWZhdWx0VHlwZSA9IHtcbiAgICAgICAgICAgIGJhY2tkcm9wOiAnKGJvb2xlYW58c3RyaW5nKScsXG4gICAgICAgICAgICBrZXlib2FyZDogJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgZm9jdXM6ICdib29sZWFuJyxcbiAgICAgICAgICAgIHNob3c6ICdib29sZWFuJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgRXZlbnQgPSB7XG4gICAgICAgICAgICBISURFOiBcImhpZGVcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIEhJRERFTjogXCJoaWRkZW5cIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIFNIT1c6IFwic2hvd1wiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgU0hPV046IFwic2hvd25cIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIEZPQ1VTSU46IFwiZm9jdXNpblwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgUkVTSVpFOiBcInJlc2l6ZVwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgQ0xJQ0tfRElTTUlTUzogXCJjbGljay5kaXNtaXNzXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBLRVlET1dOX0RJU01JU1M6IFwia2V5ZG93bi5kaXNtaXNzXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBNT1VTRVVQX0RJU01JU1M6IFwibW91c2V1cC5kaXNtaXNzXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBNT1VTRURPV05fRElTTUlTUzogXCJtb3VzZWRvd24uZGlzbWlzc1wiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgQ0xJQ0tfREFUQV9BUEk6IFwiY2xpY2tcIiArIEVWRU5UX0tFWSArIERBVEFfQVBJX0tFWVxuICAgICAgICB9O1xuICAgICAgICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgICAgICAgICAgU0NST0xMQkFSX01FQVNVUkVSOiAnbW9kYWwtc2Nyb2xsYmFyLW1lYXN1cmUnLFxuICAgICAgICAgICAgQkFDS0RST1A6ICdtb2RhbC1iYWNrZHJvcCcsXG4gICAgICAgICAgICBPUEVOOiAnbW9kYWwtb3BlbicsXG4gICAgICAgICAgICBGQURFOiAnZmFkZScsXG4gICAgICAgICAgICBTSE9XOiAnc2hvdydcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIFNlbGVjdG9yID0ge1xuICAgICAgICAgICAgRElBTE9HOiAnLm1vZGFsLWRpYWxvZycsXG4gICAgICAgICAgICBEQVRBX1RPR0dMRTogJ1tkYXRhLXRvZ2dsZT1cIm1vZGFsXCJdJyxcbiAgICAgICAgICAgIERBVEFfRElTTUlTUzogJ1tkYXRhLWRpc21pc3M9XCJtb2RhbFwiXScsXG4gICAgICAgICAgICBGSVhFRF9DT05URU5UOiAnLmZpeGVkLXRvcCwgLmZpeGVkLWJvdHRvbSwgLmlzLWZpeGVkLCAuc3RpY2t5LXRvcCcsXG4gICAgICAgICAgICBTVElDS1lfQ09OVEVOVDogJy5zdGlja3ktdG9wJ1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAqIENsYXNzIERlZmluaXRpb25cbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgTW9kYWwgPVxuICAgICAgICAgICAgLyojX19QVVJFX18qL1xuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gTW9kYWwoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlhbG9nID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLkRJQUxPRyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JhY2tkcm9wID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pZ25vcmVCYWNrZHJvcENsaWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbGJhcldpZHRoID0gMDtcbiAgICAgICAgICAgICAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgICAgICAgICAgICAgdmFyIF9wcm90byA9IE1vZGFsLnByb3RvdHlwZTtcblxuICAgICAgICAgICAgICAgIC8vIFB1YmxpY1xuICAgICAgICAgICAgICAgIF9wcm90by50b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUocmVsYXRlZFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faXNTaG93biA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3cocmVsYXRlZFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1RyYW5zaXRpb25pbmcgfHwgdGhpcy5faXNTaG93bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCQkJDEodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkZBREUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNob3dFdmVudCA9ICQkJDEuRXZlbnQoRXZlbnQuU0hPVywge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHNob3dFdmVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzU2hvd24gfHwgc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1Nob3duID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGVja1Njcm9sbGJhcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldFNjcm9sbGJhcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkanVzdERpYWxvZygpO1xuXG4gICAgICAgICAgICAgICAgICAgICQkJDEoZG9jdW1lbnQuYm9keSkuYWRkQ2xhc3MoQ2xhc3NOYW1lLk9QRU4pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldEVzY2FwZUV2ZW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0UmVzaXplRXZlbnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LkNMSUNLX0RJU01JU1MsIFNlbGVjdG9yLkRBVEFfRElTTUlTUywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5oaWRlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZGlhbG9nKS5vbihFdmVudC5NT1VTRURPV05fRElTTUlTUywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKF90aGlzLl9lbGVtZW50KS5vbmUoRXZlbnQuTU9VU0VVUF9ESVNNSVNTLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkJCQxKGV2ZW50LnRhcmdldCkuaXMoX3RoaXMuX2VsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9pZ25vcmVCYWNrZHJvcENsaWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hvd0JhY2tkcm9wKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9zaG93RWxlbWVudChyZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5oaWRlID0gZnVuY3Rpb24gaGlkZShldmVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nIHx8ICF0aGlzLl9pc1Nob3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgaGlkZUV2ZW50ID0gJCQkMS5FdmVudChFdmVudC5ISURFKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKGhpZGVFdmVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1Nob3duIHx8IGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbiA9ICQkJDEodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkZBREUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0RXNjYXBlRXZlbnQoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRSZXNpemVFdmVudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICQkJDEoZG9jdW1lbnQpLm9mZihFdmVudC5GT0NVU0lOKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub2ZmKEV2ZW50LkNMSUNLX0RJU01JU1MpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2RpYWxvZykub2ZmKEV2ZW50Lk1PVVNFRE9XTl9ESVNNSVNTKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuX2hpZGVNb2RhbChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGlkZU1vZGFsKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgICAgICAgICAgICAgICAkJCQxLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHdpbmRvdywgZG9jdW1lbnQsIHRoaXMuX2VsZW1lbnQsIHRoaXMuX2JhY2tkcm9wKS5vZmYoRVZFTlRfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RpYWxvZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JhY2tkcm9wID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNTaG93biA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQm9keU92ZXJmbG93aW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faWdub3JlQmFja2Ryb3BDbGljayA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbGJhcldpZHRoID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmhhbmRsZVVwZGF0ZSA9IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRqdXN0RGlhbG9nKCk7XG4gICAgICAgICAgICAgICAgfTsgLy8gUHJpdmF0ZVxuXG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIERlZmF1bHQsIGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUsIGNvbmZpZywgRGVmYXVsdFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX3Nob3dFbGVtZW50ID0gZnVuY3Rpb24gX3Nob3dFbGVtZW50KHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb24gPSAkJCQxKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5GQURFKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZSB8fCB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBtb3ZlIG1vZGFsJ3MgRE9NIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnNjcm9sbFRvcCA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFV0aWwucmVmbG93KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5mb2N1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5mb3JjZUZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvd25FdmVudCA9ICQkJDEuRXZlbnQoRXZlbnQuU0hPV04sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25Db21wbGV0ZSA9IGZ1bmN0aW9uIHRyYW5zaXRpb25Db21wbGV0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczMuX2NvbmZpZy5mb2N1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5fZWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShfdGhpczMuX2VsZW1lbnQpLnRyaWdnZXIoc2hvd25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9kaWFsb2cpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCB0cmFuc2l0aW9uQ29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2VuZm9yY2VGb2N1cyA9IGZ1bmN0aW9uIF9lbmZvcmNlRm9jdXMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgICQkJDEoZG9jdW1lbnQpLm9mZihFdmVudC5GT0NVU0lOKSAvLyBHdWFyZCBhZ2FpbnN0IGluZmluaXRlIGZvY3VzIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbihFdmVudC5GT0NVU0lOLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudCAhPT0gZXZlbnQudGFyZ2V0ICYmIF90aGlzNC5fZWxlbWVudCAhPT0gZXZlbnQudGFyZ2V0ICYmICQkJDEoX3RoaXM0Ll9lbGVtZW50KS5oYXMoZXZlbnQudGFyZ2V0KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0Ll9lbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fc2V0RXNjYXBlRXZlbnQgPSBmdW5jdGlvbiBfc2V0RXNjYXBlRXZlbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1Nob3duICYmIHRoaXMuX2NvbmZpZy5rZXlib2FyZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5vbihFdmVudC5LRVlET1dOX0RJU01JU1MsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBFU0NBUEVfS0VZQ09ERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2lzU2hvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub2ZmKEV2ZW50LktFWURPV05fRElTTUlTUyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9zZXRSZXNpemVFdmVudCA9IGZ1bmN0aW9uIF9zZXRSZXNpemVFdmVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzU2hvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEod2luZG93KS5vbihFdmVudC5SRVNJWkUsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5oYW5kbGVVcGRhdGUoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHdpbmRvdykub2ZmKEV2ZW50LlJFU0laRSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9oaWRlTW9kYWwgPSBmdW5jdGlvbiBfaGlkZU1vZGFsKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hvd0JhY2tkcm9wKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShkb2N1bWVudC5ib2R5KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuT1BFTik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5fcmVzZXRBZGp1c3RtZW50cygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuX3Jlc2V0U2Nyb2xsYmFyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoX3RoaXM3Ll9lbGVtZW50KS50cmlnZ2VyKEV2ZW50LkhJRERFTik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX3JlbW92ZUJhY2tkcm9wID0gZnVuY3Rpb24gX3JlbW92ZUJhY2tkcm9wKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYmFja2Ryb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fYmFja2Ryb3ApLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fc2hvd0JhY2tkcm9wID0gZnVuY3Rpb24gX3Nob3dCYWNrZHJvcChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0ZSA9ICQkJDEodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkZBREUpID8gQ2xhc3NOYW1lLkZBREUgOiAnJztcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNTaG93biAmJiB0aGlzLl9jb25maWcuYmFja2Ryb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2JhY2tkcm9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9iYWNrZHJvcC5jbGFzc05hbWUgPSBDbGFzc05hbWUuQkFDS0RST1A7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmFja2Ryb3AuY2xhc3NMaXN0LmFkZChhbmltYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9iYWNrZHJvcCkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LkNMSUNLX0RJU01JU1MsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzOC5faWdub3JlQmFja2Ryb3BDbGljaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgIT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczguX2NvbmZpZy5iYWNrZHJvcCA9PT0gJ3N0YXRpYycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4Ll9lbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVdGlsLnJlZmxvdyh0aGlzLl9iYWNrZHJvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fYmFja2Ryb3ApLmFkZENsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYWNrZHJvcFRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fYmFja2Ryb3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9iYWNrZHJvcCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNhbGxiYWNrKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChiYWNrZHJvcFRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2lzU2hvd24gJiYgdGhpcy5fYmFja2Ryb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5fYmFja2Ryb3ApLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrUmVtb3ZlID0gZnVuY3Rpb24gY2FsbGJhY2tSZW1vdmUoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4Ll9yZW1vdmVCYWNrZHJvcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQkJDEodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkZBREUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iYWNrZHJvcFRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fYmFja2Ryb3ApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9iYWNrZHJvcCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNhbGxiYWNrUmVtb3ZlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChfYmFja2Ryb3BUcmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja1JlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTsgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgbWV0aG9kcyBhcmUgdXNlZCB0byBoYW5kbGUgb3ZlcmZsb3dpbmcgbW9kYWxzXG4gICAgICAgICAgICAgICAgLy8gdG9kbyAoZmF0KTogdGhlc2Ugc2hvdWxkIHByb2JhYmx5IGJlIHJlZmFjdG9yZWQgb3V0IG9mIG1vZGFsLmpzXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2FkanVzdERpYWxvZyA9IGZ1bmN0aW9uIF9hZGp1c3REaWFsb2coKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc01vZGFsT3ZlcmZsb3dpbmcgPSB0aGlzLl9lbGVtZW50LnNjcm9sbEhlaWdodCA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyAmJiBpc01vZGFsT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSB0aGlzLl9zY3JvbGxiYXJXaWR0aCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyAmJiAhaXNNb2RhbE92ZXJmbG93aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodCA9IHRoaXMuX3Njcm9sbGJhcldpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fcmVzZXRBZGp1c3RtZW50cyA9IGZ1bmN0aW9uIF9yZXNldEFkanVzdG1lbnRzKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdMZWZ0ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJyc7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fY2hlY2tTY3JvbGxiYXIgPSBmdW5jdGlvbiBfY2hlY2tTY3JvbGxiYXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWN0ID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcgPSByZWN0LmxlZnQgKyByZWN0LnJpZ2h0IDwgd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbGJhcldpZHRoID0gdGhpcy5fZ2V0U2Nyb2xsYmFyV2lkdGgoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9zZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiBfc2V0U2Nyb2xsYmFyKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXM5ID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IERPTU5vZGUuc3R5bGUucGFkZGluZ1JpZ2h0IHJldHVybnMgdGhlIGFjdHVhbCB2YWx1ZSBvciAnJyBpZiBub3Qgc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHdoaWxlICQoRE9NTm9kZSkuY3NzKCdwYWRkaW5nLXJpZ2h0JykgcmV0dXJucyB0aGUgY2FsY3VsYXRlZCB2YWx1ZSBvciAwIGlmIG5vdCBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXhlZENvbnRlbnQgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuRklYRURfQ09OVEVOVCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0aWNreUNvbnRlbnQgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuU1RJQ0tZX0NPTlRFTlQpKTsgLy8gQWRqdXN0IGZpeGVkIGNvbnRlbnQgcGFkZGluZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGZpeGVkQ29udGVudCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3R1YWxQYWRkaW5nID0gZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGN1bGF0ZWRQYWRkaW5nID0gJCQkMShlbGVtZW50KS5jc3MoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGVsZW1lbnQpLmRhdGEoJ3BhZGRpbmctcmlnaHQnLCBhY3R1YWxQYWRkaW5nKS5jc3MoJ3BhZGRpbmctcmlnaHQnLCBwYXJzZUZsb2F0KGNhbGN1bGF0ZWRQYWRkaW5nKSArIF90aGlzOS5fc2Nyb2xsYmFyV2lkdGggKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7IC8vIEFkanVzdCBzdGlja3kgY29udGVudCBtYXJnaW5cblxuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShzdGlja3lDb250ZW50KS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdHVhbE1hcmdpbiA9IGVsZW1lbnQuc3R5bGUubWFyZ2luUmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGN1bGF0ZWRNYXJnaW4gPSAkJCQxKGVsZW1lbnQpLmNzcygnbWFyZ2luLXJpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShlbGVtZW50KS5kYXRhKCdtYXJnaW4tcmlnaHQnLCBhY3R1YWxNYXJnaW4pLmNzcygnbWFyZ2luLXJpZ2h0JywgcGFyc2VGbG9hdChjYWxjdWxhdGVkTWFyZ2luKSAtIF90aGlzOS5fc2Nyb2xsYmFyV2lkdGggKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7IC8vIEFkanVzdCBib2R5IHBhZGRpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdHVhbFBhZGRpbmcgPSBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWxjdWxhdGVkUGFkZGluZyA9ICQkJDEoZG9jdW1lbnQuYm9keSkuY3NzKCdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGRvY3VtZW50LmJvZHkpLmRhdGEoJ3BhZGRpbmctcmlnaHQnLCBhY3R1YWxQYWRkaW5nKS5jc3MoJ3BhZGRpbmctcmlnaHQnLCBwYXJzZUZsb2F0KGNhbGN1bGF0ZWRQYWRkaW5nKSArIHRoaXMuX3Njcm9sbGJhcldpZHRoICsgXCJweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX3Jlc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gX3Jlc2V0U2Nyb2xsYmFyKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZXN0b3JlIGZpeGVkIGNvbnRlbnQgcGFkZGluZ1xuICAgICAgICAgICAgICAgICAgICB2YXIgZml4ZWRDb250ZW50ID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLkZJWEVEX0NPTlRFTlQpKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMShmaXhlZENvbnRlbnQpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYWRkaW5nID0gJCQkMShlbGVtZW50KS5kYXRhKCdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGVsZW1lbnQpLnJlbW92ZURhdGEoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gcGFkZGluZyA/IHBhZGRpbmcgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgfSk7IC8vIFJlc3RvcmUgc3RpY2t5IGNvbnRlbnRcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJcIiArIFNlbGVjdG9yLlNUSUNLWV9DT05URU5UKSk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEoZWxlbWVudHMpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXJnaW4gPSAkJCQxKGVsZW1lbnQpLmRhdGEoJ21hcmdpbi1yaWdodCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1hcmdpbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGVsZW1lbnQpLmNzcygnbWFyZ2luLXJpZ2h0JywgbWFyZ2luKS5yZW1vdmVEYXRhKCdtYXJnaW4tcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7IC8vIFJlc3RvcmUgYm9keSBwYWRkaW5nXG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSAkJCQxKGRvY3VtZW50LmJvZHkpLmRhdGEoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMShkb2N1bWVudC5ib2R5KS5yZW1vdmVEYXRhKCdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gcGFkZGluZyA/IHBhZGRpbmcgOiAnJztcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXRTY3JvbGxiYXJXaWR0aCA9IGZ1bmN0aW9uIF9nZXRTY3JvbGxiYXJXaWR0aCgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGh4IGQud2Fsc2hcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gQ2xhc3NOYW1lLlNDUk9MTEJBUl9NRUFTVVJFUjtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxEaXYpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoO1xuICAgICAgICAgICAgICAgIH07IC8vIFN0YXRpY1xuXG5cbiAgICAgICAgICAgICAgICBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcsIHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCBEZWZhdWx0LCAkJCQxKHRoaXMpLmRhdGEoKSwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnID8gY29uZmlnIDoge30pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gbmV3IE1vZGFsKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGNvbmZpZyArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2NvbmZpZ10ocmVsYXRlZFRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9jb25maWcuc2hvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuc2hvdyhyZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhNb2RhbCwgbnVsbCwgW3tcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIlZFUlNJT05cIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVkVSU0lPTjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBNb2RhbDtcbiAgICAgICAgICAgIH0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG5cblxuICAgICAgICAkJCQxKGRvY3VtZW50KS5vbihFdmVudC5DTElDS19EQVRBX0FQSSwgU2VsZWN0b3IuREFUQV9UT0dHTEUsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciB0YXJnZXQ7XG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcyk7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY29uZmlnID0gJCQkMSh0YXJnZXQpLmRhdGEoREFUQV9LRVkpID8gJ3RvZ2dsZScgOiBfb2JqZWN0U3ByZWFkKHt9LCAkJCQxKHRhcmdldCkuZGF0YSgpLCAkJCQxKHRoaXMpLmRhdGEoKSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnRhZ05hbWUgPT09ICdBJyB8fCB0aGlzLnRhZ05hbWUgPT09ICdBUkVBJykge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciAkdGFyZ2V0ID0gJCQkMSh0YXJnZXQpLm9uZShFdmVudC5TSE9XLCBmdW5jdGlvbihzaG93RXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgcmVnaXN0ZXIgZm9jdXMgcmVzdG9yZXIgaWYgbW9kYWwgd2lsbCBhY3R1YWxseSBnZXQgc2hvd25cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICR0YXJnZXQub25lKEV2ZW50LkhJRERFTiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkJCQxKF90aGlzMTApLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJCQkMSh0YXJnZXQpLCBjb25maWcsIHRoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBqUXVlcnlcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuXG4gICAgICAgICQkJDEuZm5bTkFNRV0gPSBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgICAkJCQxLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gTW9kYWw7XG5cbiAgICAgICAgJCQkMS5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkJCQxLmZuW05BTUVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgICAgICAgICAgcmV0dXJuIE1vZGFsLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIE1vZGFsO1xuICAgIH0oJCk7XG5cbiAgICAvKipcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEJvb3RzdHJhcCAodjQuMS4yKTogdG9vbHRpcC5qc1xuICAgICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKi9cblxuICAgIHZhciBUb29sdGlwID0gZnVuY3Rpb24oJCQkMSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIENvbnN0YW50c1xuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBOQU1FID0gJ3Rvb2x0aXAnO1xuICAgICAgICB2YXIgVkVSU0lPTiA9ICc0LjEuMic7XG4gICAgICAgIHZhciBEQVRBX0tFWSA9ICdicy50b29sdGlwJztcbiAgICAgICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gICAgICAgIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QgPSAkJCQxLmZuW05BTUVdO1xuICAgICAgICB2YXIgQ0xBU1NfUFJFRklYID0gJ2JzLXRvb2x0aXAnO1xuICAgICAgICB2YXIgQlNDTFNfUFJFRklYX1JFR0VYID0gbmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgQ0xBU1NfUFJFRklYICsgXCJcXFxcUytcIiwgJ2cnKTtcbiAgICAgICAgdmFyIERlZmF1bHRUeXBlID0ge1xuICAgICAgICAgICAgYW5pbWF0aW9uOiAnYm9vbGVhbicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ3N0cmluZycsXG4gICAgICAgICAgICB0aXRsZTogJyhzdHJpbmd8ZWxlbWVudHxmdW5jdGlvbiknLFxuICAgICAgICAgICAgdHJpZ2dlcjogJ3N0cmluZycsXG4gICAgICAgICAgICBkZWxheTogJyhudW1iZXJ8b2JqZWN0KScsXG4gICAgICAgICAgICBodG1sOiAnYm9vbGVhbicsXG4gICAgICAgICAgICBzZWxlY3RvcjogJyhzdHJpbmd8Ym9vbGVhbiknLFxuICAgICAgICAgICAgcGxhY2VtZW50OiAnKHN0cmluZ3xmdW5jdGlvbiknLFxuICAgICAgICAgICAgb2Zmc2V0OiAnKG51bWJlcnxzdHJpbmcpJyxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogJyhzdHJpbmd8ZWxlbWVudHxib29sZWFuKScsXG4gICAgICAgICAgICBmYWxsYmFja1BsYWNlbWVudDogJyhzdHJpbmd8YXJyYXkpJyxcbiAgICAgICAgICAgIGJvdW5kYXJ5OiAnKHN0cmluZ3xlbGVtZW50KSdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIEF0dGFjaG1lbnRNYXAgPSB7XG4gICAgICAgICAgICBBVVRPOiAnYXV0bycsXG4gICAgICAgICAgICBUT1A6ICd0b3AnLFxuICAgICAgICAgICAgUklHSFQ6ICdyaWdodCcsXG4gICAgICAgICAgICBCT1RUT006ICdib3R0b20nLFxuICAgICAgICAgICAgTEVGVDogJ2xlZnQnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBEZWZhdWx0ID0ge1xuICAgICAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwidG9vbHRpcFwiIHJvbGU9XCJ0b29sdGlwXCI+JyArICc8ZGl2IGNsYXNzPVwiYXJyb3dcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJ0b29sdGlwLWlubmVyXCI+PC9kaXY+PC9kaXY+JyxcbiAgICAgICAgICAgIHRyaWdnZXI6ICdob3ZlciBmb2N1cycsXG4gICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICBkZWxheTogMCxcbiAgICAgICAgICAgIGh0bWw6IGZhbHNlLFxuICAgICAgICAgICAgc2VsZWN0b3I6IGZhbHNlLFxuICAgICAgICAgICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogZmFsc2UsXG4gICAgICAgICAgICBmYWxsYmFja1BsYWNlbWVudDogJ2ZsaXAnLFxuICAgICAgICAgICAgYm91bmRhcnk6ICdzY3JvbGxQYXJlbnQnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBIb3ZlclN0YXRlID0ge1xuICAgICAgICAgICAgU0hPVzogJ3Nob3cnLFxuICAgICAgICAgICAgT1VUOiAnb3V0J1xuICAgICAgICB9O1xuICAgICAgICB2YXIgRXZlbnQgPSB7XG4gICAgICAgICAgICBISURFOiBcImhpZGVcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIEhJRERFTjogXCJoaWRkZW5cIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIFNIT1c6IFwic2hvd1wiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgU0hPV046IFwic2hvd25cIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIElOU0VSVEVEOiBcImluc2VydGVkXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBDTElDSzogXCJjbGlja1wiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgRk9DVVNJTjogXCJmb2N1c2luXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBGT0NVU09VVDogXCJmb2N1c291dFwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgTU9VU0VFTlRFUjogXCJtb3VzZWVudGVyXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBNT1VTRUxFQVZFOiBcIm1vdXNlbGVhdmVcIiArIEVWRU5UX0tFWVxuICAgICAgICB9O1xuICAgICAgICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgICAgICAgICAgRkFERTogJ2ZhZGUnLFxuICAgICAgICAgICAgU0hPVzogJ3Nob3cnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBTZWxlY3RvciA9IHtcbiAgICAgICAgICAgIFRPT0xUSVA6ICcudG9vbHRpcCcsXG4gICAgICAgICAgICBUT09MVElQX0lOTkVSOiAnLnRvb2x0aXAtaW5uZXInLFxuICAgICAgICAgICAgQVJST1c6ICcuYXJyb3cnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBUcmlnZ2VyID0ge1xuICAgICAgICAgICAgSE9WRVI6ICdob3ZlcicsXG4gICAgICAgICAgICBGT0NVUzogJ2ZvY3VzJyxcbiAgICAgICAgICAgIENMSUNLOiAnY2xpY2snLFxuICAgICAgICAgICAgTUFOVUFMOiAnbWFudWFsJ1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAqIENsYXNzIERlZmluaXRpb25cbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgVG9vbHRpcCA9XG4gICAgICAgICAgICAvKiNfX1BVUkVfXyovXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBUb29sdGlwKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ2hlY2sgZm9yIFBvcHBlciBkZXBlbmRlbmN5XG4gICAgICAgICAgICAgICAgICAgICAqIFBvcHBlciAtIGh0dHBzOi8vcG9wcGVyLmpzLm9yZ1xuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBQb3BwZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb290c3RyYXAgdG9vbHRpcHMgcmVxdWlyZSBQb3BwZXIuanMgKGh0dHBzOi8vcG9wcGVyLmpzLm9yZyknKTtcbiAgICAgICAgICAgICAgICAgICAgfSAvLyBwcml2YXRlXG5cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1lb3V0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faG92ZXJTdGF0ZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVUcmlnZ2VyID0ge307XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BvcHBlciA9IG51bGw7IC8vIFByb3RlY3RlZFxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGlwID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgICAgICAgICAgICAgdmFyIF9wcm90byA9IFRvb2x0aXAucHJvdG90eXBlO1xuXG4gICAgICAgICAgICAgICAgLy8gUHVibGljXG4gICAgICAgICAgICAgICAgX3Byb3RvLmVuYWJsZSA9IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmRpc2FibGUgPSBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLnRvZ2dsZUVuYWJsZWQgPSBmdW5jdGlvbiB0b2dnbGVFbmFibGVkKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0VuYWJsZWQgPSAhdGhpcy5faXNFbmFibGVkO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5faXNFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhS2V5ID0gdGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gJCQkMShldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZXZlbnQuY3VycmVudFRhcmdldCwgdGhpcy5fZ2V0RGVsZWdhdGVDb25maWcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXksIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Ll9hY3RpdmVUcmlnZ2VyLmNsaWNrID0gIWNvbnRleHQuX2FjdGl2ZVRyaWdnZXIuY2xpY2s7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0Ll9pc1dpdGhBY3RpdmVUcmlnZ2VyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Ll9lbnRlcihudWxsLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5fbGVhdmUobnVsbCwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCQkMSh0aGlzLmdldFRpcEVsZW1lbnQoKSkuaGFzQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGVhdmUobnVsbCwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VudGVyKG51bGwsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAkJCQxLnJlbW92ZURhdGEodGhpcy5lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLmVsZW1lbnQpLm9mZih0aGlzLmNvbnN0cnVjdG9yLkVWRU5UX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5lbGVtZW50KS5jbG9zZXN0KCcubW9kYWwnKS5vZmYoJ2hpZGUuYnMubW9kYWwnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50aXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy50aXApLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNFbmFibGVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hvdmVyU3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVUcmlnZ2VyID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcG9wcGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3BwZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9wcGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpcCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5zaG93ID0gZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJCQkMSh0aGlzLmVsZW1lbnQpLmNzcygnZGlzcGxheScpID09PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHVzZSBzaG93IG9uIHZpc2libGUgZWxlbWVudHMnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzaG93RXZlbnQgPSAkJCQxLkV2ZW50KHRoaXMuY29uc3RydWN0b3IuRXZlbnQuU0hPVyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNXaXRoQ29udGVudCgpICYmIHRoaXMuX2lzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLmVsZW1lbnQpLnRyaWdnZXIoc2hvd0V2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0luVGhlRG9tID0gJCQkMS5jb250YWlucyh0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXMuZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgIWlzSW5UaGVEb20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aXAgPSB0aGlzLmdldFRpcEVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aXBJZCA9IFV0aWwuZ2V0VUlEKHRoaXMuY29uc3RydWN0b3IuTkFNRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXAuc2V0QXR0cmlidXRlKCdpZCcsIHRpcElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aXBJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRlbnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGlwKS5hZGRDbGFzcyhDbGFzc05hbWUuRkFERSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbGFjZW1lbnQgPSB0eXBlb2YgdGhpcy5jb25maWcucGxhY2VtZW50ID09PSAnZnVuY3Rpb24nID8gdGhpcy5jb25maWcucGxhY2VtZW50LmNhbGwodGhpcywgdGlwLCB0aGlzLmVsZW1lbnQpIDogdGhpcy5jb25maWcucGxhY2VtZW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0YWNobWVudCA9IHRoaXMuX2dldEF0dGFjaG1lbnQocGxhY2VtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRBdHRhY2htZW50Q2xhc3MoYXR0YWNobWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jb25maWcuY29udGFpbmVyID09PSBmYWxzZSA/IGRvY3VtZW50LmJvZHkgOiAkJCQxKGRvY3VtZW50KS5maW5kKHRoaXMuY29uZmlnLmNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRpcCkuZGF0YSh0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZLCB0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkJCQxLmNvbnRhaW5zKHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgdGhpcy50aXApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aXApLmFwcGVuZFRvKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5lbGVtZW50KS50cmlnZ2VyKHRoaXMuY29uc3RydWN0b3IuRXZlbnQuSU5TRVJURUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9wcGVyID0gbmV3IFBvcHBlcih0aGlzLmVsZW1lbnQsIHRpcCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogYXR0YWNobWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHRoaXMuY29uZmlnLm9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGlwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWhhdmlvcjogdGhpcy5jb25maWcuZmFsbGJhY2tQbGFjZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyb3c6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IFNlbGVjdG9yLkFSUk9XXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnRPdmVyZmxvdzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRhcmllc0VsZW1lbnQ6IHRoaXMuY29uZmlnLmJvdW5kYXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ3JlYXRlOiBmdW5jdGlvbiBvbkNyZWF0ZShkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm9yaWdpbmFsUGxhY2VtZW50ICE9PSBkYXRhLnBsYWNlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGU6IGZ1bmN0aW9uIG9uVXBkYXRlKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGlwKS5hZGRDbGFzcyhDbGFzc05hbWUuU0hPVyk7IC8vIElmIHRoaXMgaXMgYSB0b3VjaC1lbmFibGVkIGRldmljZSB3ZSBhZGQgZXh0cmFcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5IG1vdXNlb3ZlciBsaXN0ZW5lcnMgdG8gdGhlIGJvZHkncyBpbW1lZGlhdGUgY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IG5lZWRlZCBiZWNhdXNlIG9mIGJyb2tlbiBldmVudCBkZWxlZ2F0aW9uIG9uIGlPU1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDE0LzAyL21vdXNlX2V2ZW50X2J1Yi5odG1sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGRvY3VtZW50LmJvZHkpLmNoaWxkcmVuKCkub24oJ21vdXNlb3ZlcicsIG51bGwsICQkJDEubm9vcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jb25maWcuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9maXhUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZIb3ZlclN0YXRlID0gX3RoaXMuX2hvdmVyU3RhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2hvdmVyU3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoX3RoaXMuZWxlbWVudCkudHJpZ2dlcihfdGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5TSE9XTik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldkhvdmVyU3RhdGUgPT09IEhvdmVyU3RhdGUuT1VUKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9sZWF2ZShudWxsLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQkJDEodGhpcy50aXApLmhhc0NsYXNzKENsYXNzTmFtZS5GQURFKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMudGlwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMudGlwKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmhpZGUgPSBmdW5jdGlvbiBoaWRlKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXAgPSB0aGlzLmdldFRpcEVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhpZGVFdmVudCA9ICQkJDEuRXZlbnQodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5ISURFKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIuX2hvdmVyU3RhdGUgIT09IEhvdmVyU3RhdGUuU0hPVyAmJiB0aXAucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRpcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5fY2xlYW5UaXBDbGFzcygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShfdGhpczIuZWxlbWVudCkudHJpZ2dlcihfdGhpczIuY29uc3RydWN0b3IuRXZlbnQuSElEREVOKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5fcG9wcGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLl9wb3BwZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5lbGVtZW50KS50cmlnZ2VyKGhpZGVFdmVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aXApLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XKTsgLy8gSWYgdGhpcyBpcyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlIHdlIHJlbW92ZSB0aGUgZXh0cmFcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHkgbW91c2VvdmVyIGxpc3RlbmVycyB3ZSBhZGRlZCBmb3IgaU9TIHN1cHBvcnRcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGRvY3VtZW50LmJvZHkpLmNoaWxkcmVuKCkub2ZmKCdtb3VzZW92ZXInLCBudWxsLCAkJCQxLm5vb3ApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlVHJpZ2dlcltUcmlnZ2VyLkNMSUNLXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVUcmlnZ2VyW1RyaWdnZXIuRk9DVVNdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXJbVHJpZ2dlci5IT1ZFUl0gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJCQkMSh0aGlzLnRpcCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkZBREUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMSh0aXApLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ob3ZlclN0YXRlID0gJyc7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wb3BwZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BvcHBlci5zY2hlZHVsZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTsgLy8gUHJvdGVjdGVkXG5cblxuICAgICAgICAgICAgICAgIF9wcm90by5pc1dpdGhDb250ZW50ID0gZnVuY3Rpb24gaXNXaXRoQ29udGVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5nZXRUaXRsZSgpKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmFkZEF0dGFjaG1lbnRDbGFzcyA9IGZ1bmN0aW9uIGFkZEF0dGFjaG1lbnRDbGFzcyhhdHRhY2htZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5nZXRUaXBFbGVtZW50KCkpLmFkZENsYXNzKENMQVNTX1BSRUZJWCArIFwiLVwiICsgYXR0YWNobWVudCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5nZXRUaXBFbGVtZW50ID0gZnVuY3Rpb24gZ2V0VGlwRWxlbWVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aXAgPSB0aGlzLnRpcCB8fCAkJCQxKHRoaXMuY29uZmlnLnRlbXBsYXRlKVswXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlwO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uc2V0Q29udGVudCA9IGZ1bmN0aW9uIHNldENvbnRlbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXAgPSB0aGlzLmdldFRpcEVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRFbGVtZW50Q29udGVudCgkJCQxKHRpcC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLlRPT0xUSVBfSU5ORVIpKSwgdGhpcy5nZXRUaXRsZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aXApLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5GQURFICsgXCIgXCIgKyBDbGFzc05hbWUuU0hPVyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5zZXRFbGVtZW50Q29udGVudCA9IGZ1bmN0aW9uIHNldEVsZW1lbnRDb250ZW50KCRlbGVtZW50LCBjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBodG1sID0gdGhpcy5jb25maWcuaHRtbDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdvYmplY3QnICYmIChjb250ZW50Lm5vZGVUeXBlIHx8IGNvbnRlbnQuanF1ZXJ5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udGVudCBpcyBhIERPTSBub2RlIG9yIGEgalF1ZXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHRtbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJCQkMShjb250ZW50KS5wYXJlbnQoKS5pcygkZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuZW1wdHkoKS5hcHBlbmQoY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC50ZXh0KCQkJDEoY29udGVudCkudGV4dCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbGVtZW50W2h0bWwgPyAnaHRtbCcgOiAndGV4dCddKGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5nZXRUaXRsZSA9IGZ1bmN0aW9uIGdldFRpdGxlKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXRpdGxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSB0eXBlb2YgdGhpcy5jb25maWcudGl0bGUgPT09ICdmdW5jdGlvbicgPyB0aGlzLmNvbmZpZy50aXRsZS5jYWxsKHRoaXMuZWxlbWVudCkgOiB0aGlzLmNvbmZpZy50aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aXRsZTtcbiAgICAgICAgICAgICAgICB9OyAvLyBQcml2YXRlXG5cblxuICAgICAgICAgICAgICAgIF9wcm90by5fZ2V0QXR0YWNobWVudCA9IGZ1bmN0aW9uIF9nZXRBdHRhY2htZW50KHBsYWNlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXR0YWNobWVudE1hcFtwbGFjZW1lbnQudG9VcHBlckNhc2UoKV07XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fc2V0TGlzdGVuZXJzID0gZnVuY3Rpb24gX3NldExpc3RlbmVycygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyaWdnZXJzID0gdGhpcy5jb25maWcudHJpZ2dlci5zcGxpdCgnICcpO1xuICAgICAgICAgICAgICAgICAgICB0cmlnZ2Vycy5mb3JFYWNoKGZ1bmN0aW9uKHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyID09PSAnY2xpY2snKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShfdGhpczMuZWxlbWVudCkub24oX3RoaXMzLmNvbnN0cnVjdG9yLkV2ZW50LkNMSUNLLCBfdGhpczMuY29uZmlnLnNlbGVjdG9yLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnRvZ2dsZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyaWdnZXIgIT09IFRyaWdnZXIuTUFOVUFMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50SW4gPSB0cmlnZ2VyID09PSBUcmlnZ2VyLkhPVkVSID8gX3RoaXMzLmNvbnN0cnVjdG9yLkV2ZW50Lk1PVVNFRU5URVIgOiBfdGhpczMuY29uc3RydWN0b3IuRXZlbnQuRk9DVVNJTjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRPdXQgPSB0cmlnZ2VyID09PSBUcmlnZ2VyLkhPVkVSID8gX3RoaXMzLmNvbnN0cnVjdG9yLkV2ZW50Lk1PVVNFTEVBVkUgOiBfdGhpczMuY29uc3RydWN0b3IuRXZlbnQuRk9DVVNPVVQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShfdGhpczMuZWxlbWVudCkub24oZXZlbnRJbiwgX3RoaXMzLmNvbmZpZy5zZWxlY3RvciwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5fZW50ZXIoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLm9uKGV2ZW50T3V0LCBfdGhpczMuY29uZmlnLnNlbGVjdG9yLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLl9sZWF2ZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoX3RoaXMzLmVsZW1lbnQpLmNsb3Nlc3QoJy5tb2RhbCcpLm9uKCdoaWRlLmJzLm1vZGFsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuY29uZmlnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogJ21hbnVhbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpeFRpdGxlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9maXhUaXRsZSA9IGZ1bmN0aW9uIF9maXhUaXRsZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlVHlwZSA9IHR5cGVvZiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXRpdGxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykgfHwgdGl0bGVUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC10aXRsZScsIHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykgfHwgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9lbnRlciA9IGZ1bmN0aW9uIF9lbnRlcihldmVudCwgY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUtleSA9IHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8ICQkJDEoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihldmVudC5jdXJyZW50VGFyZ2V0LCB0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5LCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5fYWN0aXZlVHJpZ2dlcltldmVudC50eXBlID09PSAnZm9jdXNpbicgPyBUcmlnZ2VyLkZPQ1VTIDogVHJpZ2dlci5IT1ZFUl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCQkJDEoY29udGV4dC5nZXRUaXBFbGVtZW50KCkpLmhhc0NsYXNzKENsYXNzTmFtZS5TSE9XKSB8fCBjb250ZXh0Ll9ob3ZlclN0YXRlID09PSBIb3ZlclN0YXRlLlNIT1cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuX2hvdmVyU3RhdGUgPSBIb3ZlclN0YXRlLlNIT1c7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29udGV4dC5fdGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuX2hvdmVyU3RhdGUgPSBIb3ZlclN0YXRlLlNIT1c7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0LmNvbmZpZy5kZWxheSB8fCAhY29udGV4dC5jb25maWcuZGVsYXkuc2hvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Ll90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0Ll9ob3ZlclN0YXRlID09PSBIb3ZlclN0YXRlLlNIT1cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgY29udGV4dC5jb25maWcuZGVsYXkuc2hvdyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fbGVhdmUgPSBmdW5jdGlvbiBfbGVhdmUoZXZlbnQsIGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFLZXkgPSB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gY29udGV4dCB8fCAkJCQxKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZXZlbnQuY3VycmVudFRhcmdldCwgdGhpcy5fZ2V0RGVsZWdhdGVDb25maWcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuX2FjdGl2ZVRyaWdnZXJbZXZlbnQudHlwZSA9PT0gJ2ZvY3Vzb3V0JyA/IFRyaWdnZXIuRk9DVVMgOiBUcmlnZ2VyLkhPVkVSXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbnRleHQuX3RpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Ll9ob3ZlclN0YXRlID0gSG92ZXJTdGF0ZS5PVVQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0LmNvbmZpZy5kZWxheSB8fCAhY29udGV4dC5jb25maWcuZGVsYXkuaGlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Ll90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0Ll9ob3ZlclN0YXRlID09PSBIb3ZlclN0YXRlLk9VVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCBjb250ZXh0LmNvbmZpZy5kZWxheS5oaWRlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9pc1dpdGhBY3RpdmVUcmlnZ2VyID0gZnVuY3Rpb24gX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHRyaWdnZXIgaW4gdGhpcy5fYWN0aXZlVHJpZ2dlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVRyaWdnZXJbdHJpZ2dlcl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHQsICQkJDEodGhpcy5lbGVtZW50KS5kYXRhKCksIHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnICYmIGNvbmZpZyA/IGNvbmZpZyA6IHt9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy5kZWxheSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5kZWxheSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93OiBjb25maWcuZGVsYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZTogY29uZmlnLmRlbGF5XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcudGl0bGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcudGl0bGUgPSBjb25maWcudGl0bGUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLmNvbnRlbnQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuY29udGVudCA9IGNvbmZpZy5jb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FLCBjb25maWcsIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2dldERlbGVnYXRlQ29uZmlnID0gZnVuY3Rpb24gX2dldERlbGVnYXRlQ29uZmlnKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlnID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5jb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0W2tleV0gIT09IHRoaXMuY29uZmlnW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnW2tleV0gPSB0aGlzLmNvbmZpZ1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fY2xlYW5UaXBDbGFzcyA9IGZ1bmN0aW9uIF9jbGVhblRpcENsYXNzKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHRpcCA9ICQkJDEodGhpcy5nZXRUaXBFbGVtZW50KCkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFiQ2xhc3MgPSAkdGlwLmF0dHIoJ2NsYXNzJykubWF0Y2goQlNDTFNfUFJFRklYX1JFR0VYKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGFiQ2xhc3MgIT09IG51bGwgJiYgdGFiQ2xhc3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGlwLnJlbW92ZUNsYXNzKHRhYkNsYXNzLmpvaW4oJycpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZSA9IGZ1bmN0aW9uIF9oYW5kbGVQb3BwZXJQbGFjZW1lbnRDaGFuZ2UocG9wcGVyRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG9wcGVySW5zdGFuY2UgPSBwb3BwZXJEYXRhLmluc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpcCA9IHBvcHBlckluc3RhbmNlLnBvcHBlcjtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhblRpcENsYXNzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRBdHRhY2htZW50Q2xhc3ModGhpcy5fZ2V0QXR0YWNobWVudChwb3BwZXJEYXRhLnBsYWNlbWVudCkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2ZpeFRyYW5zaXRpb24gPSBmdW5jdGlvbiBfZml4VHJhbnNpdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcCA9IHRoaXMuZ2V0VGlwRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5pdENvbmZpZ0FuaW1hdGlvbiA9IHRoaXMuY29uZmlnLmFuaW1hdGlvbjtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGlwLmdldEF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aXApLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5GQURFKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcuYW5pbWF0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcuYW5pbWF0aW9uID0gaW5pdENvbmZpZ0FuaW1hdGlvbjtcbiAgICAgICAgICAgICAgICB9OyAvLyBTdGF0aWNcblxuXG4gICAgICAgICAgICAgICAgVG9vbHRpcC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jb25maWcgPSB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSAmJiAvZGlzcG9zZXxoaWRlLy50ZXN0KGNvbmZpZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBuZXcgVG9vbHRpcCh0aGlzLCBfY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMpLmRhdGEoREFUQV9LRVksIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfY3JlYXRlQ2xhc3MoVG9vbHRpcCwgbnVsbCwgW3tcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIlZFUlNJT05cIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVkVSU0lPTjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIk5BTUVcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTkFNRTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIkRBVEFfS0VZXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERBVEFfS0VZO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiRXZlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJFVkVOVF9LRVlcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRVZFTlRfS0VZO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiRGVmYXVsdFR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGVmYXVsdFR5cGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gVG9vbHRpcDtcbiAgICAgICAgICAgIH0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBqUXVlcnlcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgJCQkMS5mbltOQU1FXSA9IFRvb2x0aXAuX2pRdWVyeUludGVyZmFjZTtcbiAgICAgICAgJCQkMS5mbltOQU1FXS5Db25zdHJ1Y3RvciA9IFRvb2x0aXA7XG5cbiAgICAgICAgJCQkMS5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkJCQxLmZuW05BTUVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgICAgICAgICAgcmV0dXJuIFRvb2x0aXAuX2pRdWVyeUludGVyZmFjZTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gVG9vbHRpcDtcbiAgICB9KCQsIFBvcHBlcik7XG5cbiAgICAvKipcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEJvb3RzdHJhcCAodjQuMS4yKTogcG9wb3Zlci5qc1xuICAgICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKi9cblxuICAgIHZhciBQb3BvdmVyID0gZnVuY3Rpb24oJCQkMSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIENvbnN0YW50c1xuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBOQU1FID0gJ3BvcG92ZXInO1xuICAgICAgICB2YXIgVkVSU0lPTiA9ICc0LjEuMic7XG4gICAgICAgIHZhciBEQVRBX0tFWSA9ICdicy5wb3BvdmVyJztcbiAgICAgICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gICAgICAgIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QgPSAkJCQxLmZuW05BTUVdO1xuICAgICAgICB2YXIgQ0xBU1NfUFJFRklYID0gJ2JzLXBvcG92ZXInO1xuICAgICAgICB2YXIgQlNDTFNfUFJFRklYX1JFR0VYID0gbmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgQ0xBU1NfUFJFRklYICsgXCJcXFxcUytcIiwgJ2cnKTtcblxuICAgICAgICB2YXIgRGVmYXVsdCA9IF9vYmplY3RTcHJlYWQoe30sIFRvb2x0aXAuRGVmYXVsdCwge1xuICAgICAgICAgICAgcGxhY2VtZW50OiAncmlnaHQnLFxuICAgICAgICAgICAgdHJpZ2dlcjogJ2NsaWNrJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICcnLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwicG9wb3ZlclwiIHJvbGU9XCJ0b29sdGlwXCI+JyArICc8ZGl2IGNsYXNzPVwiYXJyb3dcIj48L2Rpdj4nICsgJzxoMyBjbGFzcz1cInBvcG92ZXItaGVhZGVyXCI+PC9oMz4nICsgJzxkaXYgY2xhc3M9XCJwb3BvdmVyLWJvZHlcIj48L2Rpdj48L2Rpdj4nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBEZWZhdWx0VHlwZSA9IF9vYmplY3RTcHJlYWQoe30sIFRvb2x0aXAuRGVmYXVsdFR5cGUsIHtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICcoc3RyaW5nfGVsZW1lbnR8ZnVuY3Rpb24pJ1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgICAgICAgICAgRkFERTogJ2ZhZGUnLFxuICAgICAgICAgICAgU0hPVzogJ3Nob3cnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBTZWxlY3RvciA9IHtcbiAgICAgICAgICAgIFRJVExFOiAnLnBvcG92ZXItaGVhZGVyJyxcbiAgICAgICAgICAgIENPTlRFTlQ6ICcucG9wb3Zlci1ib2R5J1xuICAgICAgICB9O1xuICAgICAgICB2YXIgRXZlbnQgPSB7XG4gICAgICAgICAgICBISURFOiBcImhpZGVcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIEhJRERFTjogXCJoaWRkZW5cIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIFNIT1c6IFwic2hvd1wiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgU0hPV046IFwic2hvd25cIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIElOU0VSVEVEOiBcImluc2VydGVkXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBDTElDSzogXCJjbGlja1wiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgRk9DVVNJTjogXCJmb2N1c2luXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBGT0NVU09VVDogXCJmb2N1c291dFwiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgTU9VU0VFTlRFUjogXCJtb3VzZWVudGVyXCIgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICBNT1VTRUxFQVZFOiBcIm1vdXNlbGVhdmVcIiArIEVWRU5UX0tFWVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAqIENsYXNzIERlZmluaXRpb25cbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgUG9wb3ZlciA9XG4gICAgICAgICAgICAvKiNfX1BVUkVfXyovXG4gICAgICAgICAgICBmdW5jdGlvbihfVG9vbHRpcCkge1xuICAgICAgICAgICAgICAgIF9pbmhlcml0c0xvb3NlKFBvcG92ZXIsIF9Ub29sdGlwKTtcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFBvcG92ZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfVG9vbHRpcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIF9wcm90byA9IFBvcG92ZXIucHJvdG90eXBlO1xuXG4gICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGVzXG4gICAgICAgICAgICAgICAgX3Byb3RvLmlzV2l0aENvbnRlbnQgPSBmdW5jdGlvbiBpc1dpdGhDb250ZW50KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUaXRsZSgpIHx8IHRoaXMuX2dldENvbnRlbnQoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmFkZEF0dGFjaG1lbnRDbGFzcyA9IGZ1bmN0aW9uIGFkZEF0dGFjaG1lbnRDbGFzcyhhdHRhY2htZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICQkJDEodGhpcy5nZXRUaXBFbGVtZW50KCkpLmFkZENsYXNzKENMQVNTX1BSRUZJWCArIFwiLVwiICsgYXR0YWNobWVudCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5nZXRUaXBFbGVtZW50ID0gZnVuY3Rpb24gZ2V0VGlwRWxlbWVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aXAgPSB0aGlzLnRpcCB8fCAkJCQxKHRoaXMuY29uZmlnLnRlbXBsYXRlKVswXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlwO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uc2V0Q29udGVudCA9IGZ1bmN0aW9uIHNldENvbnRlbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkdGlwID0gJCQkMSh0aGlzLmdldFRpcEVsZW1lbnQoKSk7IC8vIFdlIHVzZSBhcHBlbmQgZm9yIGh0bWwgb2JqZWN0cyB0byBtYWludGFpbiBqcyBldmVudHNcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVsZW1lbnRDb250ZW50KCR0aXAuZmluZChTZWxlY3Rvci5USVRMRSksIHRoaXMuZ2V0VGl0bGUoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLl9nZXRDb250ZW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5jYWxsKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVsZW1lbnRDb250ZW50KCR0aXAuZmluZChTZWxlY3Rvci5DT05URU5UKSwgY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICR0aXAucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkZBREUgKyBcIiBcIiArIENsYXNzTmFtZS5TSE9XKTtcbiAgICAgICAgICAgICAgICB9OyAvLyBQcml2YXRlXG5cblxuICAgICAgICAgICAgICAgIF9wcm90by5fZ2V0Q29udGVudCA9IGZ1bmN0aW9uIF9nZXRDb250ZW50KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb250ZW50JykgfHwgdGhpcy5jb25maWcuY29udGVudDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9jbGVhblRpcENsYXNzID0gZnVuY3Rpb24gX2NsZWFuVGlwQ2xhc3MoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkdGlwID0gJCQkMSh0aGlzLmdldFRpcEVsZW1lbnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJDbGFzcyA9ICR0aXAuYXR0cignY2xhc3MnKS5tYXRjaChCU0NMU19QUkVGSVhfUkVHRVgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWJDbGFzcyAhPT0gbnVsbCAmJiB0YWJDbGFzcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGlwLnJlbW92ZUNsYXNzKHRhYkNsYXNzLmpvaW4oJycpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07IC8vIFN0YXRpY1xuXG5cbiAgICAgICAgICAgICAgICBQb3BvdmVyLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkJCQxKHRoaXMpLmRhdGEoREFUQV9LRVkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2NvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnID8gY29uZmlnIDogbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhICYmIC9kZXN0cm95fGhpZGUvLnRlc3QoY29uZmlnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG5ldyBQb3BvdmVyKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGNvbmZpZyArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhQb3BvdmVyLCBudWxsLCBbe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgICAgICAgICAgICAgICAvLyBHZXR0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJEZWZhdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJOQU1FXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE5BTUU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJEQVRBX0tFWVwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQVRBX0tFWTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIkV2ZW50XCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEV2ZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiRVZFTlRfS0VZXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVWRU5UX0tFWTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcIkRlZmF1bHRUeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERlZmF1bHRUeXBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBvcG92ZXI7XG4gICAgICAgICAgICB9KFRvb2x0aXApO1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIGpRdWVyeVxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG5cblxuICAgICAgICAkJCQxLmZuW05BTUVdID0gUG9wb3Zlci5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgICAkJCQxLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gUG9wb3ZlcjtcblxuICAgICAgICAkJCQxLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQkJDEuZm5bTkFNRV0gPSBKUVVFUllfTk9fQ09ORkxJQ1Q7XG4gICAgICAgICAgICByZXR1cm4gUG9wb3Zlci5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBQb3BvdmVyO1xuICAgIH0oJCk7XG5cbiAgICAvKipcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEJvb3RzdHJhcCAodjQuMS4yKTogc2Nyb2xsc3B5LmpzXG4gICAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqL1xuXG4gICAgdmFyIFNjcm9sbFNweSA9IGZ1bmN0aW9uKCQkJDEpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBDb25zdGFudHNcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgTkFNRSA9ICdzY3JvbGxzcHknO1xuICAgICAgICB2YXIgVkVSU0lPTiA9ICc0LjEuMic7XG4gICAgICAgIHZhciBEQVRBX0tFWSA9ICdicy5zY3JvbGxzcHknO1xuICAgICAgICB2YXIgRVZFTlRfS0VZID0gXCIuXCIgKyBEQVRBX0tFWTtcbiAgICAgICAgdmFyIERBVEFfQVBJX0tFWSA9ICcuZGF0YS1hcGknO1xuICAgICAgICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUID0gJCQkMS5mbltOQU1FXTtcbiAgICAgICAgdmFyIERlZmF1bHQgPSB7XG4gICAgICAgICAgICBvZmZzZXQ6IDEwLFxuICAgICAgICAgICAgbWV0aG9kOiAnYXV0bycsXG4gICAgICAgICAgICB0YXJnZXQ6ICcnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBEZWZhdWx0VHlwZSA9IHtcbiAgICAgICAgICAgIG9mZnNldDogJ251bWJlcicsXG4gICAgICAgICAgICBtZXRob2Q6ICdzdHJpbmcnLFxuICAgICAgICAgICAgdGFyZ2V0OiAnKHN0cmluZ3xlbGVtZW50KSdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIEV2ZW50ID0ge1xuICAgICAgICAgICAgQUNUSVZBVEU6IFwiYWN0aXZhdGVcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIFNDUk9MTDogXCJzY3JvbGxcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIExPQURfREFUQV9BUEk6IFwibG9hZFwiICsgRVZFTlRfS0VZICsgREFUQV9BUElfS0VZXG4gICAgICAgIH07XG4gICAgICAgIHZhciBDbGFzc05hbWUgPSB7XG4gICAgICAgICAgICBEUk9QRE9XTl9JVEVNOiAnZHJvcGRvd24taXRlbScsXG4gICAgICAgICAgICBEUk9QRE9XTl9NRU5VOiAnZHJvcGRvd24tbWVudScsXG4gICAgICAgICAgICBBQ1RJVkU6ICdhY3RpdmUnXG4gICAgICAgIH07XG4gICAgICAgIHZhciBTZWxlY3RvciA9IHtcbiAgICAgICAgICAgIERBVEFfU1BZOiAnW2RhdGEtc3B5PVwic2Nyb2xsXCJdJyxcbiAgICAgICAgICAgIEFDVElWRTogJy5hY3RpdmUnLFxuICAgICAgICAgICAgTkFWX0xJU1RfR1JPVVA6ICcubmF2LCAubGlzdC1ncm91cCcsXG4gICAgICAgICAgICBOQVZfTElOS1M6ICcubmF2LWxpbmsnLFxuICAgICAgICAgICAgTkFWX0lURU1TOiAnLm5hdi1pdGVtJyxcbiAgICAgICAgICAgIExJU1RfSVRFTVM6ICcubGlzdC1ncm91cC1pdGVtJyxcbiAgICAgICAgICAgIERST1BET1dOOiAnLmRyb3Bkb3duJyxcbiAgICAgICAgICAgIERST1BET1dOX0lURU1TOiAnLmRyb3Bkb3duLWl0ZW0nLFxuICAgICAgICAgICAgRFJPUERPV05fVE9HR0xFOiAnLmRyb3Bkb3duLXRvZ2dsZSdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIE9mZnNldE1ldGhvZCA9IHtcbiAgICAgICAgICAgIE9GRlNFVDogJ29mZnNldCcsXG4gICAgICAgICAgICBQT1NJVElPTjogJ3Bvc2l0aW9uJ1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAqIENsYXNzIERlZmluaXRpb25cbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgU2Nyb2xsU3B5ID1cbiAgICAgICAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFNjcm9sbFNweShlbGVtZW50LCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsRWxlbWVudCA9IGVsZW1lbnQudGFnTmFtZSA9PT0gJ0JPRFknID8gd2luZG93IDogZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yID0gdGhpcy5fY29uZmlnLnRhcmdldCArIFwiIFwiICsgU2VsZWN0b3IuTkFWX0xJTktTICsgXCIsXCIgKyAodGhpcy5fY29uZmlnLnRhcmdldCArIFwiIFwiICsgU2VsZWN0b3IuTElTVF9JVEVNUyArIFwiLFwiKSArICh0aGlzLl9jb25maWcudGFyZ2V0ICsgXCIgXCIgKyBTZWxlY3Rvci5EUk9QRE9XTl9JVEVNUyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29mZnNldHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVUYXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY3JvbGxIZWlnaHQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX3Njcm9sbEVsZW1lbnQpLm9uKEV2ZW50LlNDUk9MTCwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fcHJvY2VzcyhldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm9jZXNzKCk7XG4gICAgICAgICAgICAgICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgICAgICAgICAgICAgIHZhciBfcHJvdG8gPSBTY3JvbGxTcHkucHJvdG90eXBlO1xuXG4gICAgICAgICAgICAgICAgLy8gUHVibGljXG4gICAgICAgICAgICAgICAgX3Byb3RvLnJlZnJlc2ggPSBmdW5jdGlvbiByZWZyZXNoKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYXV0b01ldGhvZCA9IHRoaXMuX3Njcm9sbEVsZW1lbnQgPT09IHRoaXMuX3Njcm9sbEVsZW1lbnQud2luZG93ID8gT2Zmc2V0TWV0aG9kLk9GRlNFVCA6IE9mZnNldE1ldGhvZC5QT1NJVElPTjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldE1ldGhvZCA9IHRoaXMuX2NvbmZpZy5tZXRob2QgPT09ICdhdXRvJyA/IGF1dG9NZXRob2QgOiB0aGlzLl9jb25maWcubWV0aG9kO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0QmFzZSA9IG9mZnNldE1ldGhvZCA9PT0gT2Zmc2V0TWV0aG9kLlBPU0lUSU9OID8gdGhpcy5fZ2V0U2Nyb2xsVG9wKCkgOiAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vZmZzZXRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsSGVpZ2h0ID0gdGhpcy5fZ2V0U2Nyb2xsSGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NlbGVjdG9yKSk7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHMubWFwKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0U2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRTZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0U2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldEJDUiA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRCQ1Iud2lkdGggfHwgdGFyZ2V0QkNSLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIChmYXQpOiByZW1vdmUgc2tldGNoIHJlbGlhbmNlIG9uIGpRdWVyeSBwb3NpdGlvbi9vZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFskJCQxKHRhcmdldClbb2Zmc2V0TWV0aG9kXSgpLnRvcCArIG9mZnNldEJhc2UsIHRhcmdldFNlbGVjdG9yXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIH0pLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdO1xuICAgICAgICAgICAgICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5fb2Zmc2V0cy5wdXNoKGl0ZW1bMF0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuX3RhcmdldHMucHVzaChpdGVtWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCQkMS5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsIERBVEFfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgJCQkMSh0aGlzLl9zY3JvbGxFbGVtZW50KS5vZmYoRVZFTlRfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbEVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29mZnNldHMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXRzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsSGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9OyAvLyBQcml2YXRlXG5cblxuICAgICAgICAgICAgICAgIF9wcm90by5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgRGVmYXVsdCwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnID8gY29uZmlnIDoge30pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLnRhcmdldCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZCA9ICQkJDEoY29uZmlnLnRhcmdldCkuYXR0cignaWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gVXRpbC5nZXRVSUQoTkFNRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShjb25maWcudGFyZ2V0KS5hdHRyKCdpZCcsIGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnRhcmdldCA9IFwiI1wiICsgaWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FLCBjb25maWcsIERlZmF1bHRUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9nZXRTY3JvbGxUb3AgPSBmdW5jdGlvbiBfZ2V0U2Nyb2xsVG9wKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsRWxlbWVudCA9PT0gd2luZG93ID8gdGhpcy5fc2Nyb2xsRWxlbWVudC5wYWdlWU9mZnNldCA6IHRoaXMuX3Njcm9sbEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX2dldFNjcm9sbEhlaWdodCA9IGZ1bmN0aW9uIF9nZXRTY3JvbGxIZWlnaHQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxFbGVtZW50LnNjcm9sbEhlaWdodCB8fCBNYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fZ2V0T2Zmc2V0SGVpZ2h0ID0gZnVuY3Rpb24gX2dldE9mZnNldEhlaWdodCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQgPT09IHdpbmRvdyA/IHdpbmRvdy5pbm5lckhlaWdodCA6IHRoaXMuX3Njcm9sbEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfcHJvdG8uX3Byb2Nlc3MgPSBmdW5jdGlvbiBfcHJvY2VzcygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuX2dldFNjcm9sbFRvcCgpICsgdGhpcy5fY29uZmlnLm9mZnNldDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gdGhpcy5fZ2V0U2Nyb2xsSGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heFNjcm9sbCA9IHRoaXMuX2NvbmZpZy5vZmZzZXQgKyBzY3JvbGxIZWlnaHQgLSB0aGlzLl9nZXRPZmZzZXRIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2Nyb2xsSGVpZ2h0ICE9PSBzY3JvbGxIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjcm9sbFRvcCA+PSBtYXhTY3JvbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXRzW3RoaXMuX3RhcmdldHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmVUYXJnZXQgIT09IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2YXRlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmVUYXJnZXQgJiYgc2Nyb2xsVG9wIDwgdGhpcy5fb2Zmc2V0c1swXSAmJiB0aGlzLl9vZmZzZXRzWzBdID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldExlbmd0aCA9IHRoaXMuX29mZnNldHMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBvZmZzZXRMZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0FjdGl2ZVRhcmdldCA9IHRoaXMuX2FjdGl2ZVRhcmdldCAhPT0gdGhpcy5fdGFyZ2V0c1tpXSAmJiBzY3JvbGxUb3AgPj0gdGhpcy5fb2Zmc2V0c1tpXSAmJiAodHlwZW9mIHRoaXMuX29mZnNldHNbaSArIDFdID09PSAndW5kZWZpbmVkJyB8fCBzY3JvbGxUb3AgPCB0aGlzLl9vZmZzZXRzW2kgKyAxXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FjdGl2ZVRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2YXRlKHRoaXMuX3RhcmdldHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIF9wcm90by5fYWN0aXZhdGUgPSBmdW5jdGlvbiBfYWN0aXZhdGUodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVRhcmdldCA9IHRhcmdldDtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBxdWVyaWVzID0gdGhpcy5fc2VsZWN0b3Iuc3BsaXQoJywnKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGFycm93LWJvZHktc3R5bGVcblxuXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJpZXMgPSBxdWVyaWVzLm1hcChmdW5jdGlvbihzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdG9yICsgXCJbZGF0YS10YXJnZXQ9XFxcIlwiICsgdGFyZ2V0ICsgXCJcXFwiXSxcIiArIChzZWxlY3RvciArIFwiW2hyZWY9XFxcIlwiICsgdGFyZ2V0ICsgXCJcXFwiXVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkbGluayA9ICQkJDEoW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJpZXMuam9pbignLCcpKSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkbGluay5oYXNDbGFzcyhDbGFzc05hbWUuRFJPUERPV05fSVRFTSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsaW5rLmNsb3Nlc3QoU2VsZWN0b3IuRFJPUERPV04pLmZpbmQoU2VsZWN0b3IuRFJPUERPV05fVE9HR0xFKS5hZGRDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsaW5rLmFkZENsYXNzKENsYXNzTmFtZS5BQ1RJVkUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRyaWdnZXJlZCBsaW5rIGFzIGFjdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgJGxpbmsuYWRkQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSk7IC8vIFNldCB0cmlnZ2VyZWQgbGlua3MgcGFyZW50cyBhcyBhY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdpdGggYm90aCA8dWw+IGFuZCA8bmF2PiBtYXJrdXAgYSBwYXJlbnQgaXMgdGhlIHByZXZpb3VzIHNpYmxpbmcgb2YgYW55IG5hdiBhbmNlc3RvclxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkbGluay5wYXJlbnRzKFNlbGVjdG9yLk5BVl9MSVNUX0dST1VQKS5wcmV2KFNlbGVjdG9yLk5BVl9MSU5LUyArIFwiLCBcIiArIFNlbGVjdG9yLkxJU1RfSVRFTVMpLmFkZENsYXNzKENsYXNzTmFtZS5BQ1RJVkUpOyAvLyBIYW5kbGUgc3BlY2lhbCBjYXNlIHdoZW4gLm5hdi1saW5rIGlzIGluc2lkZSAubmF2LWl0ZW1cblxuICAgICAgICAgICAgICAgICAgICAgICAgJGxpbmsucGFyZW50cyhTZWxlY3Rvci5OQVZfTElTVF9HUk9VUCkucHJldihTZWxlY3Rvci5OQVZfSVRFTVMpLmNoaWxkcmVuKFNlbGVjdG9yLk5BVl9MSU5LUykuYWRkQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX3Njcm9sbEVsZW1lbnQpLnRyaWdnZXIoRXZlbnQuQUNUSVZBVEUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRhcmdldFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl9jbGVhciA9IGZ1bmN0aW9uIF9jbGVhcigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGVzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NlbGVjdG9yKSk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEobm9kZXMpLmZpbHRlcihTZWxlY3Rvci5BQ1RJVkUpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5BQ1RJVkUpO1xuICAgICAgICAgICAgICAgIH07IC8vIFN0YXRpY1xuXG5cbiAgICAgICAgICAgICAgICBTY3JvbGxTcHkuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9ICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY29uZmlnID0gdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gbmV3IFNjcm9sbFNweSh0aGlzLCBfY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMpLmRhdGEoREFUQV9LRVksIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfY3JlYXRlQ2xhc3MoU2Nyb2xsU3B5LCBudWxsLCBbe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBWRVJTSU9OO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFNjcm9sbFNweTtcbiAgICAgICAgICAgIH0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG5cblxuICAgICAgICAkJCQxKHdpbmRvdykub24oRXZlbnQuTE9BRF9EQVRBX0FQSSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsU3B5cyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5EQVRBX1NQWSkpO1xuICAgICAgICAgICAgdmFyIHNjcm9sbFNweXNMZW5ndGggPSBzY3JvbGxTcHlzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHNjcm9sbFNweXNMZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgICAgICB2YXIgJHNweSA9ICQkJDEoc2Nyb2xsU3B5c1tpXSk7XG5cbiAgICAgICAgICAgICAgICBTY3JvbGxTcHkuX2pRdWVyeUludGVyZmFjZS5jYWxsKCRzcHksICRzcHkuZGF0YSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICogalF1ZXJ5XG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKi9cblxuICAgICAgICAkJCQxLmZuW05BTUVdID0gU2Nyb2xsU3B5Ll9qUXVlcnlJbnRlcmZhY2U7XG4gICAgICAgICQkJDEuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBTY3JvbGxTcHk7XG5cbiAgICAgICAgJCQkMS5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkJCQxLmZuW05BTUVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgICAgICAgICAgcmV0dXJuIFNjcm9sbFNweS5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBTY3JvbGxTcHk7XG4gICAgfSgkKTtcblxuICAgIC8qKlxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQm9vdHN0cmFwICh2NC4xLjIpOiB0YWIuanNcbiAgICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICovXG5cbiAgICB2YXIgVGFiID0gZnVuY3Rpb24oJCQkMSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIENvbnN0YW50c1xuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBOQU1FID0gJ3RhYic7XG4gICAgICAgIHZhciBWRVJTSU9OID0gJzQuMS4yJztcbiAgICAgICAgdmFyIERBVEFfS0VZID0gJ2JzLnRhYic7XG4gICAgICAgIHZhciBFVkVOVF9LRVkgPSBcIi5cIiArIERBVEFfS0VZO1xuICAgICAgICB2YXIgREFUQV9BUElfS0VZID0gJy5kYXRhLWFwaSc7XG4gICAgICAgIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QgPSAkJCQxLmZuW05BTUVdO1xuICAgICAgICB2YXIgRXZlbnQgPSB7XG4gICAgICAgICAgICBISURFOiBcImhpZGVcIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIEhJRERFTjogXCJoaWRkZW5cIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIFNIT1c6IFwic2hvd1wiICsgRVZFTlRfS0VZLFxuICAgICAgICAgICAgU0hPV046IFwic2hvd25cIiArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgIENMSUNLX0RBVEFfQVBJOiBcImNsaWNrXCIgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVlcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIENsYXNzTmFtZSA9IHtcbiAgICAgICAgICAgIERST1BET1dOX01FTlU6ICdkcm9wZG93bi1tZW51JyxcbiAgICAgICAgICAgIEFDVElWRTogJ2FjdGl2ZScsXG4gICAgICAgICAgICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgICAgICAgICAgIEZBREU6ICdmYWRlJyxcbiAgICAgICAgICAgIFNIT1c6ICdzaG93J1xuICAgICAgICB9O1xuICAgICAgICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgICAgICAgICBEUk9QRE9XTjogJy5kcm9wZG93bicsXG4gICAgICAgICAgICBOQVZfTElTVF9HUk9VUDogJy5uYXYsIC5saXN0LWdyb3VwJyxcbiAgICAgICAgICAgIEFDVElWRTogJy5hY3RpdmUnLFxuICAgICAgICAgICAgQUNUSVZFX1VMOiAnPiBsaSA+IC5hY3RpdmUnLFxuICAgICAgICAgICAgREFUQV9UT0dHTEU6ICdbZGF0YS10b2dnbGU9XCJ0YWJcIl0sIFtkYXRhLXRvZ2dsZT1cInBpbGxcIl0sIFtkYXRhLXRvZ2dsZT1cImxpc3RcIl0nLFxuICAgICAgICAgICAgRFJPUERPV05fVE9HR0xFOiAnLmRyb3Bkb3duLXRvZ2dsZScsXG4gICAgICAgICAgICBEUk9QRE9XTl9BQ1RJVkVfQ0hJTEQ6ICc+IC5kcm9wZG93bi1tZW51IC5hY3RpdmUnXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICogQ2xhc3MgRGVmaW5pdGlvblxuICAgICAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBUYWIgPVxuICAgICAgICAgICAgLyojX19QVVJFX18qL1xuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gVGFiKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgICAgICAgICAgICAgIHZhciBfcHJvdG8gPSBUYWIucHJvdG90eXBlO1xuXG4gICAgICAgICAgICAgICAgLy8gUHVibGljXG4gICAgICAgICAgICAgICAgX3Byb3RvLnNob3cgPSBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUgJiYgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiAkJCQxKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5BQ1RJVkUpIHx8ICQkJDEodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkRJU0FCTEVEKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdEVsZW1lbnQgPSAkJCQxKHRoaXMuX2VsZW1lbnQpLmNsb3Nlc3QoU2VsZWN0b3IuTkFWX0xJU1RfR1JPVVApWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbVNlbGVjdG9yID0gbGlzdEVsZW1lbnQubm9kZU5hbWUgPT09ICdVTCcgPyBTZWxlY3Rvci5BQ1RJVkVfVUwgOiBTZWxlY3Rvci5BQ1RJVkU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91cyA9ICQkJDEubWFrZUFycmF5KCQkJDEobGlzdEVsZW1lbnQpLmZpbmQoaXRlbVNlbGVjdG9yKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91cyA9IHByZXZpb3VzW3ByZXZpb3VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGhpZGVFdmVudCA9ICQkJDEuRXZlbnQoRXZlbnQuSElERSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogdGhpcy5fZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNob3dFdmVudCA9ICQkJDEuRXZlbnQoRXZlbnQuU0hPVywge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogcHJldmlvdXNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKHByZXZpb3VzKS50cmlnZ2VyKGhpZGVFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2hvd0V2ZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8IGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2YXRlKHRoaXMuX2VsZW1lbnQsIGxpc3RFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoaWRkZW5FdmVudCA9ICQkJDEuRXZlbnQoRXZlbnQuSElEREVOLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogX3RoaXMuX2VsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNob3duRXZlbnQgPSAkJCQxLkV2ZW50KEV2ZW50LlNIT1dOLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogcHJldmlvdXNcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShwcmV2aW91cykudHJpZ2dlcihoaWRkZW5FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkJCQxKF90aGlzLl9lbGVtZW50KS50cmlnZ2VyKHNob3duRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2YXRlKHRhcmdldCwgdGFyZ2V0LnBhcmVudE5vZGUsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgICAgICAgICAgICAgICAkJCQxLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9OyAvLyBQcml2YXRlXG5cblxuICAgICAgICAgICAgICAgIF9wcm90by5fYWN0aXZhdGUgPSBmdW5jdGlvbiBfYWN0aXZhdGUoZWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlRWxlbWVudHM7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5ub2RlTmFtZSA9PT0gJ1VMJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlRWxlbWVudHMgPSAkJCQxKGNvbnRhaW5lcikuZmluZChTZWxlY3Rvci5BQ1RJVkVfVUwpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlRWxlbWVudHMgPSAkJCQxKGNvbnRhaW5lcikuY2hpbGRyZW4oU2VsZWN0b3IuQUNUSVZFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmUgPSBhY3RpdmVFbGVtZW50c1swXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzVHJhbnNpdGlvbmluZyA9IGNhbGxiYWNrICYmIGFjdGl2ZSAmJiAkJCQxKGFjdGl2ZSkuaGFzQ2xhc3MoQ2xhc3NOYW1lLkZBREUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5fdHJhbnNpdGlvbkNvbXBsZXRlKGVsZW1lbnQsIGFjdGl2ZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmUgJiYgaXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudChhY3RpdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShhY3RpdmUpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX3Byb3RvLl90cmFuc2l0aW9uQ29tcGxldGUgPSBmdW5jdGlvbiBfdHJhbnNpdGlvbkNvbXBsZXRlKGVsZW1lbnQsIGFjdGl2ZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCQkMShhY3RpdmUpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XICsgXCIgXCIgKyBDbGFzc05hbWUuQUNUSVZFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkcm9wZG93bkNoaWxkID0gJCQkMShhY3RpdmUucGFyZW50Tm9kZSkuZmluZChTZWxlY3Rvci5EUk9QRE9XTl9BQ1RJVkVfQ0hJTEQpWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHJvcGRvd25DaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkJDEoZHJvcGRvd25DaGlsZCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmUuZ2V0QXR0cmlidXRlKCdyb2xlJykgPT09ICd0YWInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICQkJDEoZWxlbWVudCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdyb2xlJykgPT09ICd0YWInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgVXRpbC5yZWZsb3coZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICQkJDEoZWxlbWVudCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUgJiYgJCQkMShlbGVtZW50LnBhcmVudE5vZGUpLmhhc0NsYXNzKENsYXNzTmFtZS5EUk9QRE9XTl9NRU5VKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRyb3Bkb3duRWxlbWVudCA9ICQkJDEoZWxlbWVudCkuY2xvc2VzdChTZWxlY3Rvci5EUk9QRE9XTilbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkcm9wZG93bkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHJvcGRvd25Ub2dnbGVMaXN0ID0gW10uc2xpY2UuY2FsbChkcm9wZG93bkVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5EUk9QRE9XTl9UT0dHTEUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJCQxKGRyb3Bkb3duVG9nZ2xlTGlzdCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9OyAvLyBTdGF0aWNcblxuXG4gICAgICAgICAgICAgICAgVGFiLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCQkMSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJHRoaXMuZGF0YShEQVRBX0tFWSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBuZXcgVGFiKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoREFUQV9LRVksIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBfY3JlYXRlQ2xhc3MoVGFiLCBudWxsLCBbe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBWRVJTSU9OO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRhYjtcbiAgICAgICAgICAgIH0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG5cblxuICAgICAgICAkJCQxKGRvY3VtZW50KS5vbihFdmVudC5DTElDS19EQVRBX0FQSSwgU2VsZWN0b3IuREFUQV9UT0dHTEUsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBUYWIuX2pRdWVyeUludGVyZmFjZS5jYWxsKCQkJDEodGhpcyksICdzaG93Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAqIGpRdWVyeVxuICAgICAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICovXG5cbiAgICAgICAgJCQkMS5mbltOQU1FXSA9IFRhYi5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICAgICAkJCQxLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gVGFiO1xuXG4gICAgICAgICQkJDEuZm5bTkFNRV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCQkMS5mbltOQU1FXSA9IEpRVUVSWV9OT19DT05GTElDVDtcbiAgICAgICAgICAgIHJldHVybiBUYWIuX2pRdWVyeUludGVyZmFjZTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gVGFiO1xuICAgIH0oJCk7XG5cbiAgICAvKipcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEJvb3RzdHJhcCAodjQuMS4yKTogaW5kZXguanNcbiAgICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICovXG5cbiAgICAoZnVuY3Rpb24oJCQkMSkge1xuICAgICAgICBpZiAodHlwZW9mICQkJDEgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb290c3RyYXBcXCdzIEphdmFTY3JpcHQgcmVxdWlyZXMgalF1ZXJ5LiBqUXVlcnkgbXVzdCBiZSBpbmNsdWRlZCBiZWZvcmUgQm9vdHN0cmFwXFwncyBKYXZhU2NyaXB0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZlcnNpb24gPSAkJCQxLmZuLmpxdWVyeS5zcGxpdCgnICcpWzBdLnNwbGl0KCcuJyk7XG4gICAgICAgIHZhciBtaW5NYWpvciA9IDE7XG4gICAgICAgIHZhciBsdE1ham9yID0gMjtcbiAgICAgICAgdmFyIG1pbk1pbm9yID0gOTtcbiAgICAgICAgdmFyIG1pblBhdGNoID0gMTtcbiAgICAgICAgdmFyIG1heE1ham9yID0gNDtcblxuICAgICAgICBpZiAodmVyc2lvblswXSA8IGx0TWFqb3IgJiYgdmVyc2lvblsxXSA8IG1pbk1pbm9yIHx8IHZlcnNpb25bMF0gPT09IG1pbk1ham9yICYmIHZlcnNpb25bMV0gPT09IG1pbk1pbm9yICYmIHZlcnNpb25bMl0gPCBtaW5QYXRjaCB8fCB2ZXJzaW9uWzBdID49IG1heE1ham9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBhdCBsZWFzdCBqUXVlcnkgdjEuOS4xIGJ1dCBsZXNzIHRoYW4gdjQuMC4wJyk7XG4gICAgICAgIH1cbiAgICB9KSgkKTtcblxuICAgIGV4cG9ydHMuVXRpbCA9IFV0aWw7XG4gICAgZXhwb3J0cy5BbGVydCA9IEFsZXJ0O1xuICAgIGV4cG9ydHMuQnV0dG9uID0gQnV0dG9uO1xuICAgIGV4cG9ydHMuQ2Fyb3VzZWwgPSBDYXJvdXNlbDtcbiAgICBleHBvcnRzLkNvbGxhcHNlID0gQ29sbGFwc2U7XG4gICAgZXhwb3J0cy5Ecm9wZG93biA9IERyb3Bkb3duO1xuICAgIGV4cG9ydHMuTW9kYWwgPSBNb2RhbDtcbiAgICBleHBvcnRzLlBvcG92ZXIgPSBQb3BvdmVyO1xuICAgIGV4cG9ydHMuU2Nyb2xsc3B5ID0gU2Nyb2xsU3B5O1xuICAgIGV4cG9ydHMuVGFiID0gVGFiO1xuICAgIGV4cG9ydHMuVG9vbHRpcCA9IFRvb2x0aXA7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gICAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG5cbn0pKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ib290c3RyYXAuanMubWFwIl19
