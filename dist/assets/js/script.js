"use strict";!function(){var e=document.body,t=document.getElementsByClassName("b-menu")[0],n=document.getElementsByClassName("b-container")[0],a=document.getElementsByClassName("b-nav")[0];t.addEventListener("click",function(){[e,n,a].forEach(function(e){e.classList.toggle("open")})},!1),$(".b-link").on("click",function(){$(e).removeClass("open"),$(".b-menu, .b-container, .b-nav").removeClass("open"),$(".landing-page").removeClass("blur")})}(),$(document).ready(function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}$(".b-menu").on("click",function(){$(".landing-page").toggleClass("blur")}),setTimeout(function(){$("#main").removeClass("is-loading")},200),new Instafeed({get:"user",userId:"2099259904",clientId:"fc1efb2efb724a1d9f5cf56292fcadea",accessToken:"2099259904.1677ed0.62e0f96bf6f947e9bbc44d329f0d08c3",limit:10,resolution:"standard_resolution",template:'<div class="item" style="background:url({{image}}); background-size: cover; background-position: center;"><p class="item-description mr-2 text-center">{{caption}}</p></div>',after:function(){$(".item").each(function(){switch(Math.floor(2*Math.random()+1)){case 1:$(this).addClass("item--medium");break;case 2:$(this).addClass("item--large")}})}}).run(),$(".item").hover(function(){console.log("hover"),$(".item-description",this).addClass("show")},function(){$(".item-description",this).removeClass("show")}),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top},1e3,function(){var e=$(t);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()}))}});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),n=function(){function n(t){e(this,n),this.el=t,this.chars="!<>-_\\/[]{}â€”=+*^?#________",this.update=this.update.bind(this)}return t(n,[{key:"setText",value:function(e){var t=this,n=this.el.innerText,a=Math.max(n.length,e.length),i=new Promise(function(e){return t.resolve=e});this.queue=[];for(var s=0;s<a;s++){var o=n[s]||"",r=e[s]||"",c=Math.floor(40*Math.random()),u=c+Math.floor(40*Math.random());this.queue.push({from:o,to:r,start:c,end:u})}return cancelAnimationFrame(this.frameRequest),this.frame=0,this.update(),i}},{key:"update",value:function(){for(var e="",t=0,n=0,a=this.queue.length;n<a;n++){var i=this.queue[n],s=i.from,o=i.to,r=i.start,c=i.end,u=i.char;this.frame>=c?(t++,e+=o):this.frame>=r?((!u||Math.random()<.28)&&(u=this.randomChar(),this.queue[n].char=u),e+='<span class="dud">'+u+"</span>"):e+=s}this.el.innerHTML=e,t===this.queue.length?this.resolve():(this.frameRequest=requestAnimationFrame(this.update),this.frame++)}},{key:"randomChar",value:function(){return this.chars[Math.floor(Math.random()*this.chars.length)]}}]),n}(),a=["Dragan Balatinac","frontend developer","backend developer","still a intern"],i=document.querySelector(".text"),s=new n(i),o=0;!function e(){s.setText(a[o]).then(function(){setTimeout(e,800)}),o=(o+1)%a.length}()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImJvZHkiLCJkb2N1bWVudCIsImJ1cmdlck1lbnUiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiYnVyZ2VyQ29udGFpbiIsImJ1cmdlck5hdiIsImFkZEV2ZW50TGlzdGVuZXIiLCJmb3JFYWNoIiwiZWwiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCIkIiwib24iLCJyZW1vdmVDbGFzcyIsInJlYWR5IiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsInRvZ2dsZUNsYXNzIiwic2V0VGltZW91dCIsIkluc3RhZmVlZCIsImdldCIsInVzZXJJZCIsImNsaWVudElkIiwiYWNjZXNzVG9rZW4iLCJsaW1pdCIsInJlc29sdXRpb24iLCJ0ZW1wbGF0ZSIsImFmdGVyIiwiZWFjaCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInRoaXMiLCJhZGRDbGFzcyIsInJ1biIsImhvdmVyIiwiY29uc29sZSIsImxvZyIsIm5vdCIsImNsaWNrIiwiZXZlbnQiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwicmVwbGFjZSIsImhvc3RuYW1lIiwidGFyZ2V0IiwiaGFzaCIsImxlbmd0aCIsInNsaWNlIiwicHJldmVudERlZmF1bHQiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiJHRhcmdldCIsImZvY3VzIiwiaXMiLCJhdHRyIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiaSIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIlRleHRTY3JhbWJsZSIsImNoYXJzIiwidXBkYXRlIiwiYmluZCIsInZhbHVlIiwibmV3VGV4dCIsIl90aGlzIiwib2xkVGV4dCIsImlubmVyVGV4dCIsIm1heCIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInF1ZXVlIiwiZnJvbSIsInRvIiwic3RhcnQiLCJlbmQiLCJwdXNoIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJmcmFtZVJlcXVlc3QiLCJmcmFtZSIsIm91dHB1dCIsImNvbXBsZXRlIiwibiIsIl9xdWV1ZSRpIiwiY2hhciIsInJhbmRvbUNoYXIiLCJpbm5lckhUTUwiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJwaHJhc2VzIiwicXVlcnlTZWxlY3RvciIsImZ4IiwiY291bnRlciIsIm5leHQiLCJzZXRUZXh0IiwidGhlbiJdLCJtYXBwaW5ncyI6IkFBQUEsY0FFQSxXQUNBLEdBQUFBLEdBQUFDLFNBQUFELEtBQ0FFLEVBQUFELFNBQUFFLHVCQUFBLFVBQUEsR0FDQUMsRUFBQUgsU0FBQUUsdUJBQUEsZUFBQSxHQUNBRSxFQUFBSixTQUFBRSx1QkFBQSxTQUFBLEVBRUFELEdBQUFJLGlCQUFBLFFBQUEsWUFDQU4sRUFBQUksRUFBQUMsR0FBQUUsUUFBQSxTQUFBQyxHQUNBQSxFQUFBQyxVQUFBQyxPQUFBLFlBRUEsR0FFQUMsRUFBQSxXQUFBQyxHQUFBLFFBQUEsV0FDQUQsRUFBQVgsR0FBQWEsWUFBQSxRQUNBRixFQUFBLGlDQUFBRSxZQUFBLFFBQ0FGLEVBQUEsaUJBQUFFLFlBQUEsYUFLQUYsRUFBQVYsVUFBQWEsTUFBQSxXQStFQSxRQUFBQyxHQUFBQyxFQUFBQyxHQUFBLEtBQUFELFlBQUFDLElBQUEsS0FBQSxJQUFBQyxXQUFBLHFDQTdFQVAsRUFBQSxXQUFBQyxHQUFBLFFBQUEsV0FDQUQsRUFBQSxpQkFBQVEsWUFBQSxVQUlBQyxXQUFBLFdBQ0FULEVBQUEsU0FBQUUsWUFBQSxlQUNBLEtBR0EsR0FBQVEsWUFDQUMsSUFBQSxPQUNBQyxPQUFBLGFBQ0FDLFNBQUEsbUNBQ0FDLFlBQUEsc0RBQ0FDLE1BQUEsR0FDQUMsV0FBQSxzQkFDQUMsU0FBQSwrS0FDQUMsTUFBQSxXQUNBbEIsRUFBQSxTQUFBbUIsS0FBQSxXQUVBLE9BREFDLEtBQUFDLE1BQUEsRUFBQUQsS0FBQUUsU0FBQSxJQUVBLElBQUEsR0FDQXRCLEVBQUF1QixNQUFBQyxTQUFBLGVBQ0EsTUFDQSxLQUFBLEdBQ0F4QixFQUFBdUIsTUFBQUMsU0FBQSxxQkFRQUMsTUFHQXpCLEVBQUEsU0FBQTBCLE1BQ0EsV0FDQUMsUUFBQUMsSUFBQSxTQUNBNUIsRUFBQSxvQkFBQXVCLE1BQUFDLFNBQUEsU0FFQSxXQUNBeEIsRUFBQSxvQkFBQXVCLE1BQUFyQixZQUFBLFVBS0FGLEVBQUEsZ0JBQ0E2QixJQUFBLGNBQ0FBLElBQUEsZUFDQUMsTUFBQSxTQUFBQyxHQUNBLEdBQ0FDLFNBQUFDLFNBQUFDLFFBQUEsTUFBQSxLQUFBWCxLQUFBVSxTQUFBQyxRQUFBLE1BQUEsS0FFQUYsU0FBQUcsVUFBQVosS0FBQVksU0FDQSxDQUNBLEdBQUFDLEdBQUFwQyxFQUFBdUIsS0FBQWMsS0FDQUQsR0FBQUEsRUFBQUUsT0FBQUYsRUFBQXBDLEVBQUEsU0FBQXVCLEtBQUFjLEtBQUFFLE1BQUEsR0FBQSxLQUNBSCxFQUFBRSxTQUNBUCxFQUFBUyxpQkFDQXhDLEVBQUEsY0FBQXlDLFNBQ0FDLFVBQUFOLEVBQUFPLFNBQUFDLEtBQ0EsSUFBQSxXQUNBLEdBQUFDLEdBQUE3QyxFQUFBb0MsRUFFQSxJQURBUyxFQUFBQyxRQUNBRCxFQUFBRSxHQUFBLFVBQ0EsT0FBQSxDQUVBRixHQUFBRyxLQUFBLFdBQUEsTUFDQUgsRUFBQUMsYUFPQSxJQUFBRyxHQUFBLFdBQUEsUUFBQUMsR0FBQWQsRUFBQWUsR0FBQSxJQUFBLEdBQUFDLEdBQUEsRUFBQUEsRUFBQUQsRUFBQWIsT0FBQWMsSUFBQSxDQUFBLEdBQUFDLEdBQUFGLEVBQUFDLEVBQUFDLEdBQUFDLFdBQUFELEVBQUFDLGFBQUEsRUFBQUQsRUFBQUUsY0FBQSxFQUFBLFNBQUFGLEtBQUFBLEVBQUFHLFVBQUEsR0FBQUMsT0FBQUMsZUFBQXRCLEVBQUFpQixFQUFBTSxJQUFBTixJQUFBLE1BQUEsVUFBQS9DLEVBQUFzRCxFQUFBQyxHQUFBLE1BQUFELElBQUFWLEVBQUE1QyxFQUFBd0QsVUFBQUYsR0FBQUMsR0FBQVgsRUFBQTVDLEVBQUF1RCxHQUFBdkQsTUFDQXlELEVBQUEsV0FDQSxRQUFBQSxHQUFBbEUsR0FBQU8sRUFBQW1CLEtBQUF3QyxHQUNBeEMsS0FBQTFCLEdBQUFBLEVBQ0EwQixLQUFBeUMsTUFBQSw4QkFDQXpDLEtBQUEwQyxPQUFBMUMsS0FBQTBDLE9BQUFDLEtBQUEzQyxNQStDQSxNQTlDQTBCLEdBQUFjLElBQUFKLElBQUEsVUFBQVEsTUFBQSxTQUNBQyxHQUFBLEdBQUFDLEdBQUE5QyxLQUNBK0MsRUFBQS9DLEtBQUExQixHQUFBMEUsVUFDQWpDLEVBQUFsQixLQUFBb0QsSUFBQUYsRUFBQWhDLE9BQUE4QixFQUFBOUIsUUFDQW1DLEVBQUEsR0FBQUMsU0FBQSxTQUFBQyxHQUFBLE1BQUFOLEdBQUFNLFFBQUFBLEdBQ0FwRCxNQUFBcUQsUUFDQSxLQUFBLEdBQUF4QixHQUFBLEVBQUFBLEVBQUFkLEVBQUFjLElBQUEsQ0FDQSxHQUFBeUIsR0FBQVAsRUFBQWxCLElBQUEsR0FDQTBCLEVBQUFWLEVBQUFoQixJQUFBLEdBQ0EyQixFQUFBM0QsS0FBQUMsTUFBQSxHQUFBRCxLQUFBRSxVQUNBMEQsRUFBQUQsRUFBQTNELEtBQUFDLE1BQUEsR0FBQUQsS0FBQUUsU0FDQUMsTUFBQXFELE1BQUFLLE1BQUFKLEtBQUFBLEVBQUFDLEdBQUFBLEVBQUFDLE1BQUFBLEVBQUFDLElBQUFBLElBS0EsTUFIQUUsc0JBQUEzRCxLQUFBNEQsY0FDQTVELEtBQUE2RCxNQUFBLEVBQ0E3RCxLQUFBMEMsU0FDQVEsS0FDQWQsSUFBQSxTQUFBUSxNQUFBLFdBSUEsSUFBQSxHQUZBa0IsR0FBQSxHQUNBQyxFQUFBLEVBQ0FsQyxFQUFBLEVBQUFtQyxFQUFBaEUsS0FBQXFELE1BQUF0QyxPQUFBYyxFQUFBbUMsRUFBQW5DLElBQUEsQ0FBQSxHQUFBb0MsR0FDQWpFLEtBQUFxRCxNQUFBeEIsR0FBQXlCLEVBQUFXLEVBQUFYLEtBQUFDLEVBQUFVLEVBQUFWLEdBQUFDLEVBQUFTLEVBQUFULE1BQUFDLEVBQUFRLEVBQUFSLElBQUFTLEVBQUFELEVBQUFDLElBQ0FsRSxNQUFBNkQsT0FBQUosR0FDQU0sSUFDQUQsR0FBQVAsR0FDQXZELEtBQUE2RCxPQUFBTCxLQUNBVSxHQUFBckUsS0FBQUUsU0FBQSxPQUNBbUUsRUFBQWxFLEtBQUFtRSxhQUNBbkUsS0FBQXFELE1BQUF4QixHQUFBcUMsS0FBQUEsR0FFQUosR0FBQSxxQkFBQUksRUFBQSxXQUVBSixHQUFBUixFQUdBdEQsS0FBQTFCLEdBQUE4RixVQUFBTixFQUNBQyxJQUFBL0QsS0FBQXFELE1BQUF0QyxPQUNBZixLQUFBb0QsV0FFQXBELEtBQUE0RCxhQUFBUyxzQkFBQXJFLEtBQUEwQyxRQUNBMUMsS0FBQTZELFlBRUF6QixJQUFBLGFBQUFRLE1BQUEsV0FFQSxNQUFBNUMsTUFBQXlDLE1BQUE1QyxLQUFBQyxNQUFBRCxLQUFBRSxTQUFBQyxLQUFBeUMsTUFBQTFCLGFBQ0F5QixLQUVBOEIsR0FDQSxtQkFDQSxxQkFDQSxvQkFDQSxrQkFJQWhHLEVBQUFQLFNBQUF3RyxjQUFBLFNBQ0FDLEVBQUEsR0FBQWhDLEdBQUFsRSxHQUVBbUcsRUFBQSxHQUNBLFFBQUFDLEtBQ0FGLEVBQUFHLFFBQUFMLEVBQUFHLElBQUFHLEtBQUEsV0FDQTFGLFdBQUF3RixFQUFBLE9BRUFELEdBQUFBLEVBQUEsR0FBQUgsRUFBQXZEIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uKCkge1xuICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICB2YXIgYnVyZ2VyTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ItbWVudScpWzBdO1xuICAgIHZhciBidXJnZXJDb250YWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYi1jb250YWluZXInKVswXTtcbiAgICB2YXIgYnVyZ2VyTmF2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYi1uYXYnKVswXTtcblxuICAgIGJ1cmdlck1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiB0b2dnbGVDbGFzc2VzKCkge1xuICAgICAgICBbYm9keSwgYnVyZ2VyQ29udGFpbiwgYnVyZ2VyTmF2XS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnRvZ2dsZSgnb3BlbicpO1xuICAgICAgICB9KTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICAkKCcuYi1saW5rJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKGJvZHkpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgICAgICQoJy5iLW1lbnUsIC5iLWNvbnRhaW5lciwgLmItbmF2JykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgJCgnLmxhbmRpbmctcGFnZScpLnJlbW92ZUNsYXNzKCdibHVyJyk7XG4gICAgfSk7XG59KSgpO1xuXG5cbiQoIGRvY3VtZW50ICkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgLy9uYXZpZ2F0aW9uIGJsdXIgZWZmZWN0XG4gICAgJCgnLmItbWVudScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnLmxhbmRpbmctcGFnZScpLnRvZ2dsZUNsYXNzKCdibHVyJyk7XG4gICAgfSk7XG5cbiAgICAvL2lzIGxvYWRpbmcgbGFuZGluZyBwYWdlIGVmZmVjdFxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCIjbWFpblwiKS5yZW1vdmVDbGFzcyhcImlzLWxvYWRpbmdcIik7XG4gICAgfSwgMjAwKTtcblxuICAgIC8vaW5zdGFncmFtIEZlZWRcbiAgICB2YXIgY3VzdG9tRmVlZCA9IG5ldyBJbnN0YWZlZWQoe1xuICAgICAgICBnZXQ6ICd1c2VyJyxcbiAgICAgICAgdXNlcklkOiAnMjA5OTI1OTkwNCcsXG4gICAgICAgIGNsaWVudElkOiAnZmMxZWZiMmVmYjcyNGExZDlmNWNmNTYyOTJmY2FkZWEnLFxuICAgICAgICBhY2Nlc3NUb2tlbjogJzIwOTkyNTk5MDQuMTY3N2VkMC42MmUwZjk2YmY2Zjk0N2U5YmJjNDRkMzI5ZjBkMDhjMycsXG4gICAgICAgIGxpbWl0OiAxMCxcbiAgICAgICAgcmVzb2x1dGlvbjogJ3N0YW5kYXJkX3Jlc29sdXRpb24nLFxuICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJpdGVtXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOnVybCh7e2ltYWdlfX0pOyBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XCI+PHAgY2xhc3M9XCJpdGVtLWRlc2NyaXB0aW9uIG1yLTIgdGV4dC1jZW50ZXJcIj57e2NhcHRpb259fTwvcD48L2Rpdj4nLFxuICAgICAgICBhZnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCgnLml0ZW0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAyKSArIDEpO1xuICAgICAgICAgICAgICAgIHN3aXRjaChzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2l0ZW0tLW1lZGl1bScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2l0ZW0tLWxhcmdlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY3VzdG9tRmVlZC5ydW4oKTtcblxuICAgIC8vc29jaWFsLW1lZGlhIGl0ZW0gZGVzY3JpcHRpb24gZWZmZWN0XG4gICAgJCgnLml0ZW0nKS5ob3ZlcihcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaG92ZXInKTtcbiAgICAgICAgICAgICQoJy5pdGVtLWRlc2NyaXB0aW9uJywgdGhpcykuYWRkQ2xhc3MoJ3Nob3cnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcuaXRlbS1kZXNjcmlwdGlvbicsIHRoaXMpLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgLy9zbW9vdGggc2Nyb2xsXG4gICAgJCgnYVtocmVmKj1cIiNcIl0nKVxuICAgICAgICAubm90KCdbaHJlZj1cIiNcIl0nKVxuICAgICAgICAubm90KCdbaHJlZj1cIiMwXCJdJylcbiAgICAgICAgLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sICcnKSA9PSB0aGlzLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCAnJylcbiAgICAgICAgICAgICAgICAmJlxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhvc3RuYW1lID09IHRoaXMuaG9zdG5hbWVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkKHRoaXMuaGFzaCk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0Lmxlbmd0aCA/IHRhcmdldCA6ICQoJ1tuYW1lPScgKyB0aGlzLmhhc2guc2xpY2UoMSkgKyAnXScpO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogdGFyZ2V0Lm9mZnNldCgpLnRvcFxuICAgICAgICAgICAgICAgICAgICB9LCAxMDAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkdGFyZ2V0ID0gJCh0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRhcmdldC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR0YXJnZXQuaXMoXCI6Zm9jdXNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXQuYXR0cigndGFiaW5kZXgnLCctMScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7dmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7ZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO2lmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO319cmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO2lmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjt9O30oKTtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7aWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO319IC8vIOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlFxuICAgICAgICB2YXIgVGV4dFNjcmFtYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFRleHRTY3JhbWJsZShlbCkge19jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0U2NyYW1ibGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsID0gZWw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcnMgPSAnITw+LV9cXFxcL1tde33igJQ9KypePyNfX19fX19fXyc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9X2NyZWF0ZUNsYXNzKFRleHRTY3JhbWJsZSwgW3sga2V5OiAnc2V0VGV4dCcsIHZhbHVlOiBmdW5jdGlvbiBzZXRUZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3VGV4dCkge3ZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkVGV4dCA9IHRoaXMuZWwuaW5uZXJUZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IE1hdGgubWF4KG9sZFRleHQubGVuZ3RoLCBuZXdUZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7cmV0dXJuIF90aGlzLnJlc29sdmUgPSByZXNvbHZlO30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcm9tID0gb2xkVGV4dFtpXSB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG8gPSBuZXdUZXh0W2ldIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gc3RhcnQgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0MCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKHsgZnJvbTogZnJvbSwgdG86IHRvLCBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5mcmFtZVJlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gfSwgeyBrZXk6ICd1cGRhdGUnLCB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG91dHB1dCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBsZXRlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdGhpcy5xdWV1ZS5sZW5ndGg7IGkgPCBuOyBpKyspIHt2YXIgX3F1ZXVlJGkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWVbaV0sZnJvbSA9IF9xdWV1ZSRpLmZyb20sdG8gPSBfcXVldWUkaS50byxzdGFydCA9IF9xdWV1ZSRpLnN0YXJ0LGVuZCA9IF9xdWV1ZSRpLmVuZCxjaGFyID0gX3F1ZXVlJGkuY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mcmFtZSA+PSBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ICs9IHRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5mcmFtZSA+PSBzdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNoYXIgfHwgTWF0aC5yYW5kb20oKSA8IDAuMjgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXIgPSB0aGlzLnJhbmRvbUNoYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWVbaV0uY2hhciA9IGNoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ICs9ICc8c3BhbiBjbGFzcz1cImR1ZFwiPicgKyBjaGFyICsgJzwvc3Bhbj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCArPSBmcm9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWwuaW5uZXJIVE1MID0gb3V0cHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlID09PSB0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lUmVxdWVzdCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IH0sIHsga2V5OiAncmFuZG9tQ2hhcicsIHZhbHVlOiBmdW5jdGlvbiByYW5kb21DaGFyKClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5jaGFycy5sZW5ndGgpXTtcbiAgICAgICAgICAgICAgICAgICAgfSB9XSk7cmV0dXJuIFRleHRTY3JhbWJsZTt9KCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcGhyYXNlcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgJ0RyYWdhbiBCYWxhdGluYWMnLFxuICAgICAgICAgICAgICAgICAgICAnZnJvbnRlbmQgZGV2ZWxvcGVyJyxcbiAgICAgICAgICAgICAgICAgICAgJ2JhY2tlbmQgZGV2ZWxvcGVyJyxcbiAgICAgICAgICAgICAgICAgICAgJ3N0aWxsIGEgaW50ZXJuJ1xuICAgICAgICAgICAgICAgIF07XG5cblxuICAgICAgICAgICAgICAgIHZhciBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXh0Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGZ4ID0gbmV3IFRleHRTY3JhbWJsZShlbCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgICAgICAgICBmeC5zZXRUZXh0KHBocmFzZXNbY291bnRlcl0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChuZXh0LCA4MDApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlciA9IChjb3VudGVyICsgMSkgJSBwaHJhc2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgbmV4dCgpO1xufSk7XG4iXX0=
